(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function pg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var oh={exports:{}},ra={},ah={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function O_(){if(Up)return Ie;Up=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function $(V,G,de){this.props=V,this.context=G,this.refs=W,this.updater=de||U}$.prototype.isReactComponent={},$.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=$.prototype;function J(V,G,de){this.props=V,this.context=G,this.refs=W,this.updater=de||U}var se=J.prototype=new ee;se.constructor=J,H(se,$.prototype),se.isPureReactComponent=!0;var fe=Array.isArray,Pe=Object.prototype.hasOwnProperty,Se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(V,G,de){var Te,Ce={},Ae=null,ke=null;if(G!=null)for(Te in G.ref!==void 0&&(ke=G.ref),G.key!==void 0&&(Ae=""+G.key),G)Pe.call(G,Te)&&!N.hasOwnProperty(Te)&&(Ce[Te]=G[Te]);var De=arguments.length-2;if(De===1)Ce.children=de;else if(1<De){for(var Be=Array(De),rt=0;rt<De;rt++)Be[rt]=arguments[rt+2];Ce.children=Be}if(V&&V.defaultProps)for(Te in De=V.defaultProps,De)Ce[Te]===void 0&&(Ce[Te]=De[Te]);return{$$typeof:i,type:V,key:Ae,ref:ke,props:Ce,_owner:Se.current}}function I(V,G){return{$$typeof:i,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function b(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return G[de]})}var O=/\/+/g;function A(V,G){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):G.toString(36)}function Qe(V,G,de,Te,Ce){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(Ae){case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case i:case e:ke=!0}}if(ke)return ke=V,Ce=Ce(ke),V=Te===""?"."+A(ke,0):Te,fe(Ce)?(de="",V!=null&&(de=V.replace(O,"$&/")+"/"),Qe(Ce,G,de,"",function(rt){return rt})):Ce!=null&&(k(Ce)&&(Ce=I(Ce,de+(!Ce.key||ke&&ke.key===Ce.key?"":(""+Ce.key).replace(O,"$&/")+"/")+V)),G.push(Ce)),1;if(ke=0,Te=Te===""?".":Te+":",fe(V))for(var De=0;De<V.length;De++){Ae=V[De];var Be=Te+A(Ae,De);ke+=Qe(Ae,G,de,Be,Ce)}else if(Be=R(V),typeof Be=="function")for(V=Be.call(V),De=0;!(Ae=V.next()).done;)Ae=Ae.value,Be=Te+A(Ae,De++),ke+=Qe(Ae,G,de,Be,Ce);else if(Ae==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ke}function xt(V,G,de){if(V==null)return V;var Te=[],Ce=0;return Qe(V,Te,"","",function(Ae){return G.call(de,Ae,Ce++)}),Te}function pt(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var Ue={current:null},re={transition:null},me={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:re,ReactCurrentOwner:Se};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:xt,forEach:function(V,G,de){xt(V,function(){G.apply(this,arguments)},de)},count:function(V){var G=0;return xt(V,function(){G++}),G},toArray:function(V){return xt(V,function(G){return G})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=$,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=g,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ie.act=ie,Ie.cloneElement=function(V,G,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Te=H({},V.props),Ce=V.key,Ae=V.ref,ke=V._owner;if(G!=null){if(G.ref!==void 0&&(Ae=G.ref,ke=Se.current),G.key!==void 0&&(Ce=""+G.key),V.type&&V.type.defaultProps)var De=V.type.defaultProps;for(Be in G)Pe.call(G,Be)&&!N.hasOwnProperty(Be)&&(Te[Be]=G[Be]===void 0&&De!==void 0?De[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)Te.children=de;else if(1<Be){De=Array(Be);for(var rt=0;rt<Be;rt++)De[rt]=arguments[rt+2];Te.children=De}return{$$typeof:i,type:V.type,key:Ce,ref:Ae,props:Te,_owner:ke}},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},Ie.createElement=T,Ie.createFactory=function(V){var G=T.bind(null,V);return G.type=V,G},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=k,Ie.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:pt}},Ie.memo=function(V,G){return{$$typeof:v,type:V,compare:G===void 0?null:G}},Ie.startTransition=function(V){var G=re.transition;re.transition={};try{V()}finally{re.transition=G}},Ie.unstable_act=ie,Ie.useCallback=function(V,G){return Ue.current.useCallback(V,G)},Ie.useContext=function(V){return Ue.current.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V){return Ue.current.useDeferredValue(V)},Ie.useEffect=function(V,G){return Ue.current.useEffect(V,G)},Ie.useId=function(){return Ue.current.useId()},Ie.useImperativeHandle=function(V,G,de){return Ue.current.useImperativeHandle(V,G,de)},Ie.useInsertionEffect=function(V,G){return Ue.current.useInsertionEffect(V,G)},Ie.useLayoutEffect=function(V,G){return Ue.current.useLayoutEffect(V,G)},Ie.useMemo=function(V,G){return Ue.current.useMemo(V,G)},Ie.useReducer=function(V,G,de){return Ue.current.useReducer(V,G,de)},Ie.useRef=function(V){return Ue.current.useRef(V)},Ie.useState=function(V){return Ue.current.useState(V)},Ie.useSyncExternalStore=function(V,G,de){return Ue.current.useSyncExternalStore(V,G,de)},Ie.useTransition=function(){return Ue.current.useTransition()},Ie.version="18.3.1",Ie}var zp;function ed(){return zp||(zp=1,ah.exports=O_()),ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function L_(){if(Bp)return ra;Bp=1;var i=ed(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var x,C={},R=null,U=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(U=g.ref);for(x in g)s.call(g,x)&&!u.hasOwnProperty(x)&&(C[x]=g[x]);if(m&&m.defaultProps)for(x in g=m.defaultProps,g)C[x]===void 0&&(C[x]=g[x]);return{$$typeof:e,type:m,key:R,ref:U,props:C,_owner:a.current}}return ra.Fragment=n,ra.jsx=h,ra.jsxs=h,ra}var $p;function j_(){return $p||($p=1,oh.exports=L_()),oh.exports}var w=j_(),Hl={},lh={exports:{}},en={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function M_(){return qp||(qp=1,function(i){function e(re,me){var ie=re.length;re.push(me);e:for(;0<ie;){var V=ie-1>>>1,G=re[V];if(0<a(G,me))re[V]=me,re[ie]=G,ie=V;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],ie=re.pop();if(ie!==me){re[0]=ie;e:for(var V=0,G=re.length,de=G>>>1;V<de;){var Te=2*(V+1)-1,Ce=re[Te],Ae=Te+1,ke=re[Ae];if(0>a(Ce,ie))Ae<G&&0>a(ke,Ce)?(re[V]=ke,re[Ae]=ie,V=Ae):(re[V]=Ce,re[Te]=ie,V=Te);else if(Ae<G&&0>a(ke,ie))re[V]=ke,re[Ae]=ie,V=Ae;else break e}}return me}function a(re,me){var ie=re.sortIndex-me.sortIndex;return ie!==0?ie:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],x=1,C=null,R=3,U=!1,H=!1,W=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(re){for(var me=n(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=re)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=n(v)}}function fe(re){if(W=!1,se(re),!H)if(n(g)!==null)H=!0,pt(Pe);else{var me=n(v);me!==null&&Ue(fe,me.startTime-re)}}function Pe(re,me){H=!1,W&&(W=!1,ee(T),T=-1),U=!0;var ie=R;try{for(se(me),C=n(g);C!==null&&(!(C.expirationTime>me)||re&&!b());){var V=C.callback;if(typeof V=="function"){C.callback=null,R=C.priorityLevel;var G=V(C.expirationTime<=me);me=i.unstable_now(),typeof G=="function"?C.callback=G:C===n(g)&&s(g),se(me)}else s(g);C=n(g)}if(C!==null)var de=!0;else{var Te=n(v);Te!==null&&Ue(fe,Te.startTime-me),de=!1}return de}finally{C=null,R=ie,U=!1}}var Se=!1,N=null,T=-1,I=5,k=-1;function b(){return!(i.unstable_now()-k<I)}function O(){if(N!==null){var re=i.unstable_now();k=re;var me=!0;try{me=N(!0,re)}finally{me?A():(Se=!1,N=null)}}else Se=!1}var A;if(typeof J=="function")A=function(){J(O)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,xt=Qe.port2;Qe.port1.onmessage=O,A=function(){xt.postMessage(null)}}else A=function(){$(O,0)};function pt(re){N=re,Se||(Se=!0,A())}function Ue(re,me){T=$(function(){re(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){H||U||(H=!0,pt(Pe))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(re){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var ie=R;R=me;try{return re()}finally{R=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ie=R;R=re;try{return me()}finally{R=ie}},i.unstable_scheduleCallback=function(re,me,ie){var V=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?V+ie:V):ie=V,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,re={id:x++,callback:me,priorityLevel:re,startTime:ie,expirationTime:G,sortIndex:-1},ie>V?(re.sortIndex=ie,e(v,re),n(g)===null&&re===n(v)&&(W?(ee(T),T=-1):W=!0,Ue(fe,ie-V))):(re.sortIndex=G,e(g,re),H||U||(H=!0,pt(Pe))),re},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(re){var me=R;return function(){var ie=R;R=me;try{return re.apply(this,arguments)}finally{R=ie}}}}(ch)),ch}var Hp;function F_(){return Hp||(Hp=1,uh.exports=M_()),uh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function U_(){if(Wp)return en;Wp=1;var i=ed(),e=F_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},C={};function R(t){return g.call(C,t)?!0:g.call(x,t)?!1:v.test(t)?C[t]=!0:(x[t]=!0,!1)}function U(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H(t,r,o,c){if(r===null||typeof r>"u"||U(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function W(t,r,o,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new W(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new W(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new W(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new W(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new W(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new W(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new W(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new W(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new W(t,5,!1,t.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ee,J);$[r]=new W(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ee,J);$[r]=new W(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ee,J);$[r]=new W(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new W(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new W(t,1,!1,t.toLowerCase(),null,!0,!0)});function se(t,r,o,c){var d=$.hasOwnProperty(r)?$[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(H(r,o,d,c)&&(o=null),c||d===null?R(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),b=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,V;function G(t){if(V===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||""}return`
`+V+t}var de=!1;function Te(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,S=p.length-1;1<=_&&0<=S&&d[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(d[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||d[_]!==p[S]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function Ce(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case Se:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case Qe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xt:return r=t.displayName||null,r!==null?r:Ae(t.type)||"Memo";case pt:r=t._payload,t=t._init;try{return Ae(t(r))}catch{}}return null}function ke(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function De(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xn(t){t._valueTracker||(t._valueTracker=rt(t))}function lr(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Un(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zn(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ei(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=De(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function br(t,r){r=r.checked,r!=null&&se(t,"checked",r,!1)}function Vr(t,r){br(t,r);var o=De(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ur(t,r.type,o):r.hasOwnProperty("defaultValue")&&ur(t,r.type,De(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function xi(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ur(t,r,o){(r!=="number"||Un(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var cn=Array.isArray;function hn(t,r,o,c){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+De(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Or(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(cn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:De(o)}}function we(t,r){var o=De(r.value),c=De(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function ho(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function mt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?mt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hr,fo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=hr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Lr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(t){Si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ti[r]=Ti[t]})});function po(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ti.hasOwnProperty(t)&&Ti[t]?(""+r).trim():r+"px"}function mo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=po(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var go=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,r){if(r){if(go[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function vo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ci=null;function ss(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,dn=null,Bn=null;function as(t){if(t=Bo(t)){if(typeof os!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ol(r),os(t.stateNode,t.type,r))}}function $n(t){dn?Bn?Bn.push(t):Bn=[t]:dn=t}function _o(){if(dn){var t=dn,r=Bn;if(Bn=dn=null,as(t),r)for(t=0;t<r.length;t++)as(r[t])}}function Ii(t,r){return t(r)}function wo(){}var dr=!1;function Eo(t,r,o){if(dr)return t(r,o);dr=!0;try{return Ii(t,r,o)}finally{dr=!1,(dn!==null||Bn!==null)&&(wo(),_o())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var c=ol(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ls=!1;if(m)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ls=!1}function Ri(t,r,o,c,d,p,_,S,P){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(Y){this.onError(Y)}}var Ai=!1,us=null,Sn=!1,xo=null,Vu={onError:function(t){Ai=!0,us=t}};function cs(t,r,o,c,d,p,_,S,P){Ai=!1,us=null,Ri.apply(Vu,arguments)}function Na(t,r,o,c,d,p,_,S,P){if(cs.apply(this,arguments),Ai){if(Ai){var z=us;Ai=!1,us=null}else throw Error(n(198));Sn||(Sn=!0,xo=z)}}function Cn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Pi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function In(t){if(Cn(t)!==t)throw Error(n(188))}function Da(t){var r=t.alternate;if(!r){if(r=Cn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return In(d),t;if(p===c)return In(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=p;else{for(var _=!1,S=d.child;S;){if(S===o){_=!0,o=d,c=p;break}if(S===c){_=!0,c=d,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,c=d;break}if(S===c){_=!0,c=p,o=d;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function To(t){return t=Da(t),t!==null?hs(t):null}function hs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=hs(t);if(r!==null)return r;t=t.sibling}return null}var ds=e.unstable_scheduleCallback,So=e.unstable_cancelCallback,ba=e.unstable_shouldYield,Ou=e.unstable_requestPaint,qe=e.unstable_now,Va=e.unstable_getCurrentPriorityLevel,ki=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,Co=e.unstable_LowPriority,Oa=e.unstable_IdlePriority,Ni=null,nn=null;function La(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ni,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Ma,Io=Math.log,ja=Math.LN2;function Ma(t){return t>>>=0,t===0?32:31-(Io(t)/ja|0)|0}var fs=64,ps=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Di(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~d;S!==0?c=Mr(S):(p&=_,p!==0&&(c=Mr(p)))}else _=o&~d,_!==0?c=Mr(_):p!==0&&(c=Mr(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-zt(r),d=1<<o,c|=t[o],r&=~d;return c}function Lu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-zt(p),S=1<<_,P=d[_];P===-1?(!(S&o)||S&c)&&(d[_]=Lu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function rn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bi(){var t=fs;return fs<<=1,!(fs&4194240)&&(fs=64),t}function Fr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ur(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function $e(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-zt(o),p=1<<d;r[d]=0,c[d]=-1,t[d]=-1,o&=~p}}function zr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-zt(o),d=1<<c;d&r|t[c]&r&&(t[c]|=r),o&=~d}}var Ne=0;function Br(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fa,ms,Ua,za,Ba,Ro=!1,qn=[],At=null,Rn=null,An=null,$r=new Map,pn=new Map,Hn=[],ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(t,r){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":$r.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(r.pointerId)}}function Gt(t,r,o,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Bo(r),r!==null&&ms(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Mu(t,r,o,c,d){switch(r){case"focusin":return At=Gt(At,t,r,o,c,d),!0;case"dragenter":return Rn=Gt(Rn,t,r,o,c,d),!0;case"mouseover":return An=Gt(An,t,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return $r.set(p,Gt($r.get(p)||null,t,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,pn.set(p,Gt(pn.get(p)||null,t,r,o,c,d)),!0}return!1}function qa(t){var r=Mi(t.target);if(r!==null){var o=Cn(r);if(o!==null){if(r=o.tag,r===13){if(r=Pi(o),r!==null){t.blockedOn=r,Ba(t.priority,function(){Ua(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=gs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Ci=c,o.target.dispatchEvent(c),Ci=null}else return r=Bo(o),r!==null&&ms(r),t.blockedOn=o,!1;r.shift()}return!0}function Vi(t,r,o){pr(t)&&o.delete(r)}function Ha(){Ro=!1,At!==null&&pr(At)&&(At=null),Rn!==null&&pr(Rn)&&(Rn=null),An!==null&&pr(An)&&(An=null),$r.forEach(Vi),pn.forEach(Vi)}function Pn(t,r){t.blockedOn===r&&(t.blockedOn=null,Ro||(Ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ha)))}function kn(t){function r(d){return Pn(d,t)}if(0<qn.length){Pn(qn[0],t);for(var o=1;o<qn.length;o++){var c=qn[o];c.blockedOn===t&&(c.blockedOn=null)}}for(At!==null&&Pn(At,t),Rn!==null&&Pn(Rn,t),An!==null&&Pn(An,t),$r.forEach(r),pn.forEach(r),o=0;o<Hn.length;o++)c=Hn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Hn.length&&(o=Hn[0],o.blockedOn===null);)qa(o),o.blockedOn===null&&Hn.shift()}var mr=fe.ReactCurrentBatchConfig,qr=!0;function Ke(t,r,o,c){var d=Ne,p=mr.transition;mr.transition=null;try{Ne=1,Ao(t,r,o,c)}finally{Ne=d,mr.transition=p}}function Fu(t,r,o,c){var d=Ne,p=mr.transition;mr.transition=null;try{Ne=4,Ao(t,r,o,c)}finally{Ne=d,mr.transition=p}}function Ao(t,r,o,c){if(qr){var d=gs(t,r,o,c);if(d===null)Yu(t,r,c,Oi,o),$a(t,c);else if(Mu(d,t,r,o,c))c.stopPropagation();else if($a(t,c),r&4&&-1<ju.indexOf(t)){for(;d!==null;){var p=Bo(d);if(p!==null&&Fa(p),p=gs(t,r,o,c),p===null&&Yu(t,r,c,Oi,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Yu(t,r,c,null,o)}}var Oi=null;function gs(t,r,o,c){if(Oi=null,t=ss(c),t=Mi(t),t!==null)if(r=Cn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Pi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Oi=t,null}function Po(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Va()){case ki:return 1;case jr:return 4;case fn:case Co:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var sn=null,ys=null,Qt=null;function ko(){if(Qt)return Qt;var t,r=ys,o=r.length,c,d="value"in sn?sn.value:sn.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===d[p-c];c++);return Qt=d.slice(t,1<c?1-c:void 0)}function vs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function No(){return!1}function Pt(t){function r(o,c,d,p,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wn:No,this.isPropagationStopped=No,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),r}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Pt(Nn),Gn=ie({},Nn,{view:0,detail:0}),Uu=Pt(Gn),ws,gr,Hr,Li=ie({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(ws=t.screenX-Hr.screenX,gr=t.screenY-Hr.screenY):gr=ws=0,Hr=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:gr}}),Es=Pt(Li),Do=ie({},Li,{dataTransfer:0}),Wa=Pt(Do),xs=ie({},Gn,{relatedTarget:0}),Ts=Pt(xs),Ga=ie({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=Pt(Ga),Qa=ie({},Nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=Pt(Qa),Ya=ie({},Nn,{data:0}),bo=Pt(Ya),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xa[t])?!!r[t]:!1}function Qn(){return Ja}var l=ie({},Gn,{key:function(t){if(t.key){var r=Ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Pt(l),y=ie({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Pt(y),L=ie({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),B=Pt(L),te=ie({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Pt(te),yt=ie({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Pt(yt),Tt=[9,13,27,32],lt=m&&"CompositionEvent"in window,mn=null;m&&"documentMode"in document&&(mn=document.documentMode);var on=m&&"TextEvent"in window&&!mn,ji=m&&(!lt||mn&&8<mn&&11>=mn),Cs=" ",bd=!1;function Vd(t,r){switch(t){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function bv(t,r){switch(t){case"compositionend":return Od(r);case"keypress":return r.which!==32?null:(bd=!0,Cs);case"textInput":return t=r.data,t===Cs&&bd?null:t;default:return null}}function Vv(t,r){if(Is)return t==="compositionend"||!lt&&Vd(t,r)?(t=ko(),Qt=ys=sn=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ov[t.type]:r==="textarea"}function jd(t,r,o,c){$n(c),r=rl(r,"onChange"),0<r.length&&(o=new _s("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Vo=null,Oo=null;function Lv(t){tf(t,0)}function Za(t){var r=Ns(t);if(lr(r))return t}function jv(t,r){if(t==="change")return r}var Md=!1;if(m){var zu;if(m){var Bu="oninput"in document;if(!Bu){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Bu=typeof Fd.oninput=="function"}zu=Bu}else zu=!1;Md=zu&&(!document.documentMode||9<document.documentMode)}function Ud(){Vo&&(Vo.detachEvent("onpropertychange",zd),Oo=Vo=null)}function zd(t){if(t.propertyName==="value"&&Za(Oo)){var r=[];jd(r,Oo,t,ss(t)),Eo(Lv,r)}}function Mv(t,r,o){t==="focusin"?(Ud(),Vo=r,Oo=o,Vo.attachEvent("onpropertychange",zd)):t==="focusout"&&Ud()}function Fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Za(Oo)}function Uv(t,r){if(t==="click")return Za(r)}function zv(t,r){if(t==="input"||t==="change")return Za(r)}function Bv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Bv;function Lo(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!g.call(r,d)||!Dn(t[d],r[d]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,r){var o=Bd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Bd(o)}}function qd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?qd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hd(){for(var t=window,r=Un();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Un(t.document)}return r}function $u(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function $v(t){var r=Hd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&qd(o.ownerDocument.documentElement,o)){if(c!==null&&$u(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!t.extend&&p>c&&(d=c,c=p,p=d),d=$d(o,p);var _=$d(o,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qv=m&&"documentMode"in document&&11>=document.documentMode,Rs=null,qu=null,jo=null,Hu=!1;function Wd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hu||Rs==null||Rs!==Un(c)||(c=Rs,"selectionStart"in c&&$u(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jo&&Lo(jo,c)||(jo=c,c=rl(qu,"onSelect"),0<c.length&&(r=new _s("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Rs)))}function el(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var As={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Wu={},Gd={};m&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function tl(t){if(Wu[t])return Wu[t];if(!As[t])return t;var r=As[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Gd)return Wu[t]=r[o];return t}var Qd=tl("animationend"),Kd=tl("animationiteration"),Yd=tl("animationstart"),Xd=tl("transitionend"),Jd=new Map,Zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,r){Jd.set(t,r),u(r,[t])}for(var Gu=0;Gu<Zd.length;Gu++){var Qu=Zd[Gu],Hv=Qu.toLowerCase(),Wv=Qu[0].toUpperCase()+Qu.slice(1);Wr(Hv,"on"+Wv)}Wr(Qd,"onAnimationEnd"),Wr(Kd,"onAnimationIteration"),Wr(Yd,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Xd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function ef(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Na(c,r,void 0,t),t.currentTarget=null}function tf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],P=S.instance,z=S.currentTarget;if(S=S.listener,P!==p&&d.isPropagationStopped())break e;ef(d,S,z),p=P}else for(_=0;_<c.length;_++){if(S=c[_],P=S.instance,z=S.currentTarget,S=S.listener,P!==p&&d.isPropagationStopped())break e;ef(d,S,z),p=P}}}if(Sn)throw t=xo,Sn=!1,xo=null,t}function We(t,r){var o=r[nc];o===void 0&&(o=r[nc]=new Set);var c=t+"__bubble";o.has(c)||(nf(r,t,2,!1),o.add(c))}function Ku(t,r,o){var c=0;r&&(c|=4),nf(o,t,c,r)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[nl]){t[nl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Gv.has(o)||Ku(o,!1,t),Ku(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[nl]||(r[nl]=!0,Ku("selectionchange",!1,r))}}function nf(t,r,o,c){switch(Po(r)){case 1:var d=Ke;break;case 4:d=Fu;break;default:d=Ao}o=d.bind(null,r,o,t),d=void 0,!ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Yu(t,r,o,c,d){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;S!==null;){if(_=Mi(S),_===null)return;if(P=_.tag,P===5||P===6){c=p=_;continue e}S=S.parentNode}}c=c.return}Eo(function(){var z=p,Y=ss(o),X=[];e:{var K=Jd.get(t);if(K!==void 0){var oe=_s,ue=t;switch(t){case"keypress":if(vs(o)===0)break e;case"keydown":case"keyup":oe=f;break;case"focusin":ue="focus",oe=Ts;break;case"focusout":ue="blur",oe=Ts;break;case"beforeblur":case"afterblur":oe=Ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=B;break;case Qd:case Kd:case Yd:oe=yr;break;case Xd:oe=ze;break;case"scroll":oe=Uu;break;case"wheel":oe=be;break;case"copy":case"cut":case"paste":oe=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var ce=(r&4)!==0,st=!ce&&t==="scroll",j=ce?K!==null?K+"Capture":null:K;ce=[];for(var D=z,F;D!==null;){F=D;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,j!==null&&(Z=it(D,j),Z!=null&&ce.push(Uo(D,Z,F)))),st)break;D=D.return}0<ce.length&&(K=new oe(K,ue,null,o,Y),X.push({event:K,listeners:ce}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",K&&o!==Ci&&(ue=o.relatedTarget||o.fromElement)&&(Mi(ue)||ue[vr]))break e;if((oe||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(ue=o.relatedTarget||o.toElement,oe=z,ue=ue?Mi(ue):null,ue!==null&&(st=Cn(ue),ue!==st||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(oe=null,ue=z),oe!==ue)){if(ce=Es,Z="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,Z="onPointerLeave",j="onPointerEnter",D="pointer"),st=oe==null?K:Ns(oe),F=ue==null?K:Ns(ue),K=new ce(Z,D+"leave",oe,o,Y),K.target=st,K.relatedTarget=F,Z=null,Mi(Y)===z&&(ce=new ce(j,D+"enter",ue,o,Y),ce.target=F,ce.relatedTarget=st,Z=ce),st=Z,oe&&ue)t:{for(ce=oe,j=ue,D=0,F=ce;F;F=Ps(F))D++;for(F=0,Z=j;Z;Z=Ps(Z))F++;for(;0<D-F;)ce=Ps(ce),D--;for(;0<F-D;)j=Ps(j),F--;for(;D--;){if(ce===j||j!==null&&ce===j.alternate)break t;ce=Ps(ce),j=Ps(j)}ce=null}else ce=null;oe!==null&&rf(X,K,oe,ce,!1),ue!==null&&st!==null&&rf(X,st,ue,ce,!0)}}e:{if(K=z?Ns(z):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var he=jv;else if(Ld(K))if(Md)he=zv;else{he=Fv;var ge=Mv}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(he=Uv);if(he&&(he=he(t,z))){jd(X,he,o,Y);break e}ge&&ge(t,K,z),t==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&ur(K,"number",K.value)}switch(ge=z?Ns(z):window,t){case"focusin":(Ld(ge)||ge.contentEditable==="true")&&(Rs=ge,qu=z,jo=null);break;case"focusout":jo=qu=Rs=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Wd(X,o,Y);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Wd(X,o,Y)}var ye;if(lt)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Is?Vd(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(ji&&o.locale!=="ko"&&(Is||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Is&&(ye=ko()):(sn=Y,ys="value"in sn?sn.value:sn.textContent,Is=!0)),ge=rl(z,_e),0<ge.length&&(_e=new bo(_e,t,null,o,Y),X.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=Od(o),ye!==null&&(_e.data=ye)))),(ye=on?bv(t,o):Vv(t,o))&&(z=rl(z,"onBeforeInput"),0<z.length&&(Y=new bo("onBeforeInput","beforeinput",null,o,Y),X.push({event:Y,listeners:z}),Y.data=ye))}tf(X,r)})}function Uo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function rl(t,r){for(var o=r+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=it(t,o),p!=null&&c.unshift(Uo(t,p,d)),p=it(t,r),p!=null&&c.push(Uo(t,p,d))),t=t.return}return c}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rf(t,r,o,c,d){for(var p=r._reactName,_=[];o!==null&&o!==c;){var S=o,P=S.alternate,z=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&z!==null&&(S=z,d?(P=it(o,p),P!=null&&_.unshift(Uo(o,P,S))):d||(P=it(o,p),P!=null&&_.push(Uo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Qv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function sf(t){return(typeof t=="string"?t:""+t).replace(Qv,`
`).replace(Kv,"")}function il(t,r,o){if(r=sf(r),sf(t)!==r&&o)throw Error(n(425))}function sl(){}var Xu=null,Ju=null;function Zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Yv=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(t){return of.resolve(null).then(t).catch(Jv)}:ec;function Jv(t){setTimeout(function(){throw t})}function tc(t,r){var o=r,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),kn(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);kn(r)}function Gr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function af(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Kn="__reactFiber$"+ks,zo="__reactProps$"+ks,vr="__reactContainer$"+ks,nc="__reactEvents$"+ks,Zv="__reactListeners$"+ks,e_="__reactHandles$"+ks;function Mi(t){var r=t[Kn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[vr]||o[Kn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=af(t);t!==null;){if(o=t[Kn])return o;t=af(t)}return r}t=o,o=t.parentNode}return null}function Bo(t){return t=t[Kn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ol(t){return t[zo]||null}var rc=[],Ds=-1;function Qr(t){return{current:t}}function Ge(t){0>Ds||(t.current=rc[Ds],rc[Ds]=null,Ds--)}function He(t,r){Ds++,rc[Ds]=t.current,t.current=r}var Kr={},Vt=Qr(Kr),Kt=Qr(!1),Fi=Kr;function bs(t,r){var o=t.type.contextTypes;if(!o)return Kr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(t){return t=t.childContextTypes,t!=null}function al(){Ge(Kt),Ge(Vt)}function lf(t,r,o){if(Vt.current!==Kr)throw Error(n(168));He(Vt,r),He(Kt,o)}function uf(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,ke(t)||"Unknown",d));return ie({},o,c)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Fi=Vt.current,He(Vt,t),He(Kt,Kt.current),!0}function cf(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=uf(t,r,Fi),c.__reactInternalMemoizedMergedChildContext=t,Ge(Kt),Ge(Vt),He(Vt,t)):Ge(Kt),He(Kt,o)}var _r=null,ul=!1,ic=!1;function hf(t){_r===null?_r=[t]:_r.push(t)}function t_(t){ul=!0,hf(t)}function Yr(){if(!ic&&_r!==null){ic=!0;var t=0,r=Ne;try{var o=_r;for(Ne=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}_r=null,ul=!1}catch(d){throw _r!==null&&(_r=_r.slice(t+1)),ds(ki,Yr),d}finally{Ne=r,ic=!1}}return null}var Vs=[],Os=0,cl=null,hl=0,gn=[],yn=0,Ui=null,wr=1,Er="";function zi(t,r){Vs[Os++]=hl,Vs[Os++]=cl,cl=t,hl=r}function df(t,r,o){gn[yn++]=wr,gn[yn++]=Er,gn[yn++]=Ui,Ui=t;var c=wr;t=Er;var d=32-zt(c)-1;c&=~(1<<d),o+=1;var p=32-zt(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,wr=1<<32-zt(r)+d|o<<d|c,Er=p+t}else wr=1<<p|o<<d|c,Er=t}function sc(t){t.return!==null&&(zi(t,1),df(t,1,0))}function oc(t){for(;t===cl;)cl=Vs[--Os],Vs[Os]=null,hl=Vs[--Os],Vs[Os]=null;for(;t===Ui;)Ui=gn[--yn],gn[yn]=null,Er=gn[--yn],gn[yn]=null,wr=gn[--yn],gn[yn]=null}var an=null,ln=null,Ye=!1,bn=null;function ff(t,r){var o=En(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function pf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,an=t,ln=Gr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,an=t,ln=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ui!==null?{id:wr,overflow:Er}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=En(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,an=t,ln=null,!0):!1;default:return!1}}function ac(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lc(t){if(Ye){var r=ln;if(r){var o=r;if(!pf(t,r)){if(ac(t))throw Error(n(418));r=Gr(o.nextSibling);var c=an;r&&pf(t,r)?ff(c,o):(t.flags=t.flags&-4097|2,Ye=!1,an=t)}}else{if(ac(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,an=t}}}function mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function dl(t){if(t!==an)return!1;if(!Ye)return mf(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Zu(t.type,t.memoizedProps)),r&&(r=ln)){if(ac(t))throw gf(),Error(n(418));for(;r;)ff(t,r),r=Gr(r.nextSibling)}if(mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){ln=Gr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}ln=null}}else ln=an?Gr(t.stateNode.nextSibling):null;return!0}function gf(){for(var t=ln;t;)t=Gr(t.nextSibling)}function Ls(){ln=an=null,Ye=!1}function uc(t){bn===null?bn=[t]:bn.push(t)}var n_=fe.ReactCurrentBatchConfig;function $o(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=d.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function fl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function yf(t){var r=t._init;return r(t._payload)}function vf(t){function r(j,D){if(t){var F=j.deletions;F===null?(j.deletions=[D],j.flags|=16):F.push(D)}}function o(j,D){if(!t)return null;for(;D!==null;)r(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=ii(j,D),j.index=0,j.sibling=null,j}function p(j,D,F){return j.index=F,t?(F=j.alternate,F!==null?(F=F.index,F<D?(j.flags|=2,D):F):(j.flags|=2,D)):(j.flags|=1048576,D)}function _(j){return t&&j.alternate===null&&(j.flags|=2),j}function S(j,D,F,Z){return D===null||D.tag!==6?(D=eh(F,j.mode,Z),D.return=j,D):(D=d(D,F),D.return=j,D)}function P(j,D,F,Z){var he=F.type;return he===N?Y(j,D,F.props.children,Z,F.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===pt&&yf(he)===D.type)?(Z=d(D,F.props),Z.ref=$o(j,D,F),Z.return=j,Z):(Z=jl(F.type,F.key,F.props,null,j.mode,Z),Z.ref=$o(j,D,F),Z.return=j,Z)}function z(j,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=th(F,j.mode,Z),D.return=j,D):(D=d(D,F.children||[]),D.return=j,D)}function Y(j,D,F,Z,he){return D===null||D.tag!==7?(D=Ki(F,j.mode,Z,he),D.return=j,D):(D=d(D,F),D.return=j,D)}function X(j,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=eh(""+D,j.mode,F),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Pe:return F=jl(D.type,D.key,D.props,null,j.mode,F),F.ref=$o(j,null,D),F.return=j,F;case Se:return D=th(D,j.mode,F),D.return=j,D;case pt:var Z=D._init;return X(j,Z(D._payload),F)}if(cn(D)||me(D))return D=Ki(D,j.mode,F,null),D.return=j,D;fl(j,D)}return null}function K(j,D,F,Z){var he=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return he!==null?null:S(j,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Pe:return F.key===he?P(j,D,F,Z):null;case Se:return F.key===he?z(j,D,F,Z):null;case pt:return he=F._init,K(j,D,he(F._payload),Z)}if(cn(F)||me(F))return he!==null?null:Y(j,D,F,Z,null);fl(j,F)}return null}function oe(j,D,F,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return j=j.get(F)||null,S(D,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Pe:return j=j.get(Z.key===null?F:Z.key)||null,P(D,j,Z,he);case Se:return j=j.get(Z.key===null?F:Z.key)||null,z(D,j,Z,he);case pt:var ge=Z._init;return oe(j,D,F,ge(Z._payload),he)}if(cn(Z)||me(Z))return j=j.get(F)||null,Y(D,j,Z,he,null);fl(D,Z)}return null}function ue(j,D,F,Z){for(var he=null,ge=null,ye=D,_e=D=0,It=null;ye!==null&&_e<F.length;_e++){ye.index>_e?(It=ye,ye=null):It=ye.sibling;var Fe=K(j,ye,F[_e],Z);if(Fe===null){ye===null&&(ye=It);break}t&&ye&&Fe.alternate===null&&r(j,ye),D=p(Fe,D,_e),ge===null?he=Fe:ge.sibling=Fe,ge=Fe,ye=It}if(_e===F.length)return o(j,ye),Ye&&zi(j,_e),he;if(ye===null){for(;_e<F.length;_e++)ye=X(j,F[_e],Z),ye!==null&&(D=p(ye,D,_e),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ye&&zi(j,_e),he}for(ye=c(j,ye);_e<F.length;_e++)It=oe(ye,j,_e,F[_e],Z),It!==null&&(t&&It.alternate!==null&&ye.delete(It.key===null?_e:It.key),D=p(It,D,_e),ge===null?he=It:ge.sibling=It,ge=It);return t&&ye.forEach(function(si){return r(j,si)}),Ye&&zi(j,_e),he}function ce(j,D,F,Z){var he=me(F);if(typeof he!="function")throw Error(n(150));if(F=he.call(F),F==null)throw Error(n(151));for(var ge=he=null,ye=D,_e=D=0,It=null,Fe=F.next();ye!==null&&!Fe.done;_e++,Fe=F.next()){ye.index>_e?(It=ye,ye=null):It=ye.sibling;var si=K(j,ye,Fe.value,Z);if(si===null){ye===null&&(ye=It);break}t&&ye&&si.alternate===null&&r(j,ye),D=p(si,D,_e),ge===null?he=si:ge.sibling=si,ge=si,ye=It}if(Fe.done)return o(j,ye),Ye&&zi(j,_e),he;if(ye===null){for(;!Fe.done;_e++,Fe=F.next())Fe=X(j,Fe.value,Z),Fe!==null&&(D=p(Fe,D,_e),ge===null?he=Fe:ge.sibling=Fe,ge=Fe);return Ye&&zi(j,_e),he}for(ye=c(j,ye);!Fe.done;_e++,Fe=F.next())Fe=oe(ye,j,_e,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?_e:Fe.key),D=p(Fe,D,_e),ge===null?he=Fe:ge.sibling=Fe,ge=Fe);return t&&ye.forEach(function(V_){return r(j,V_)}),Ye&&zi(j,_e),he}function st(j,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Pe:e:{for(var he=F.key,ge=D;ge!==null;){if(ge.key===he){if(he=F.type,he===N){if(ge.tag===7){o(j,ge.sibling),D=d(ge,F.props.children),D.return=j,j=D;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===pt&&yf(he)===ge.type){o(j,ge.sibling),D=d(ge,F.props),D.ref=$o(j,ge,F),D.return=j,j=D;break e}o(j,ge);break}else r(j,ge);ge=ge.sibling}F.type===N?(D=Ki(F.props.children,j.mode,Z,F.key),D.return=j,j=D):(Z=jl(F.type,F.key,F.props,null,j.mode,Z),Z.ref=$o(j,D,F),Z.return=j,j=Z)}return _(j);case Se:e:{for(ge=F.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){o(j,D.sibling),D=d(D,F.children||[]),D.return=j,j=D;break e}else{o(j,D);break}else r(j,D);D=D.sibling}D=th(F,j.mode,Z),D.return=j,j=D}return _(j);case pt:return ge=F._init,st(j,D,ge(F._payload),Z)}if(cn(F))return ue(j,D,F,Z);if(me(F))return ce(j,D,F,Z);fl(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(o(j,D.sibling),D=d(D,F),D.return=j,j=D):(o(j,D),D=eh(F,j.mode,Z),D.return=j,j=D),_(j)):o(j,D)}return st}var js=vf(!0),_f=vf(!1),pl=Qr(null),ml=null,Ms=null,cc=null;function hc(){cc=Ms=ml=null}function dc(t){var r=pl.current;Ge(pl),t._currentValue=r}function fc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Fs(t,r){ml=t,cc=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Xt=!0),t.firstContext=null)}function vn(t){var r=t._currentValue;if(cc!==t)if(t={context:t,memoizedValue:r,next:null},Ms===null){if(ml===null)throw Error(n(308));Ms=t,ml.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return r}var Bi=null;function pc(t){Bi===null?Bi=[t]:Bi.push(t)}function wf(t,r,o,c){var d=r.interleaved;return d===null?(o.next=o,pc(r)):(o.next=d.next,d.next=o),r.interleaved=o,xr(t,c)}function xr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Xr=!1;function mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Jr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,je&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,xr(t,o)}return d=c.interleaved,d===null?(r.next=r,pc(c)):(r.next=d.next,d.next=r),c.interleaved=r,xr(t,o)}function gl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,zr(t,o)}}function xf(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function yl(t,r,o,c){var d=t.updateQueue;Xr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,z=P.next;P.next=null,_===null?p=z:_.next=z,_=P;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=P))}if(p!==null){var X=d.baseState;_=0,Y=z=P=null,S=p;do{var K=S.lane,oe=S.eventTime;if((c&K)===K){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=t,ce=S;switch(K=r,oe=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){X=ue.call(oe,X,K);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,K=typeof ue=="function"?ue.call(oe,X,K):ue,K==null)break e;X=ie({},X,K);break e;case 2:Xr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=d.effects,K===null?d.effects=[S]:K.push(S))}else oe={eventTime:oe,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=oe,P=X):Y=Y.next=oe,_|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Y===null&&(P=X),d.baseState=P,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Hi|=_,t.lanes=_,t.memoizedState=X}}function Tf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var qo={},Yn=Qr(qo),Ho=Qr(qo),Wo=Qr(qo);function $i(t){if(t===qo)throw Error(n(174));return t}function gc(t,r){switch(He(Wo,r),He(Ho,t),He(Yn,qo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=gt(r,t)}Ge(Yn),He(Yn,r)}function Us(){Ge(Yn),Ge(Ho),Ge(Wo)}function Sf(t){$i(Wo.current);var r=$i(Yn.current),o=gt(r,t.type);r!==o&&(He(Ho,t),He(Yn,o))}function yc(t){Ho.current===t&&(Ge(Yn),Ge(Ho))}var Xe=Qr(0);function vl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vc=[];function _c(){for(var t=0;t<vc.length;t++)vc[t]._workInProgressVersionPrimary=null;vc.length=0}var _l=fe.ReactCurrentDispatcher,wc=fe.ReactCurrentBatchConfig,qi=0,Je=null,vt=null,St=null,wl=!1,Go=!1,Qo=0,r_=0;function Ot(){throw Error(n(321))}function Ec(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Dn(t[o],r[o]))return!1;return!0}function xc(t,r,o,c,d,p){if(qi=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_l.current=t===null||t.memoizedState===null?a_:l_,t=o(c,d),Go){p=0;do{if(Go=!1,Qo=0,25<=p)throw Error(n(301));p+=1,St=vt=null,r.updateQueue=null,_l.current=u_,t=o(c,d)}while(Go)}if(_l.current=Tl,r=vt!==null&&vt.next!==null,qi=0,St=vt=Je=null,wl=!1,r)throw Error(n(300));return t}function Tc(){var t=Qo!==0;return Qo=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Je.memoizedState=St=t:St=St.next=t,St}function _n(){if(vt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var r=St===null?Je.memoizedState:St.next;if(r!==null)St=r,vt=t;else{if(t===null)throw Error(n(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?Je.memoizedState=St=t:St=St.next=t}return St}function Ko(t,r){return typeof r=="function"?r(t):r}function Sc(t){var r=_n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=vt,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var S=_=null,P=null,z=p;do{var Y=z.lane;if((qi&Y)===Y)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var X={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(S=P=X,_=c):P=P.next=X,Je.lanes|=Y,Hi|=Y}z=z.next}while(z!==null&&z!==p);P===null?_=c:P.next=S,Dn(c,r.memoizedState)||(Xt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do p=d.lane,Je.lanes|=p,Hi|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Cc(t){var r=_n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=t(p,_.action),_=_.next;while(_!==d);Dn(p,r.memoizedState)||(Xt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Cf(){}function If(t,r){var o=Je,c=_n(),d=r(),p=!Dn(c.memoizedState,d);if(p&&(c.memoizedState=d,Xt=!0),c=c.queue,Ic(Pf.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Yo(9,Af.bind(null,o,c,d,r),void 0,null),Ct===null)throw Error(n(349));qi&30||Rf(o,r,d)}return d}function Rf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Af(t,r,o,c){r.value=o,r.getSnapshot=c,kf(r)&&Nf(t)}function Pf(t,r,o){return o(function(){kf(r)&&Nf(t)})}function kf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Dn(t,o)}catch{return!0}}function Nf(t){var r=xr(t,1);r!==null&&jn(r,t,1,-1)}function Df(t){var r=Xn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},r.queue=t,t=t.dispatch=o_.bind(null,Je,t),[r.memoizedState,t]}function Yo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function bf(){return _n().memoizedState}function El(t,r,o,c){var d=Xn();Je.flags|=t,d.memoizedState=Yo(1|r,o,void 0,c===void 0?null:c)}function xl(t,r,o,c){var d=_n();c=c===void 0?null:c;var p=void 0;if(vt!==null){var _=vt.memoizedState;if(p=_.destroy,c!==null&&Ec(c,_.deps)){d.memoizedState=Yo(r,o,p,c);return}}Je.flags|=t,d.memoizedState=Yo(1|r,o,p,c)}function Vf(t,r){return El(8390656,8,t,r)}function Ic(t,r){return xl(2048,8,t,r)}function Of(t,r){return xl(4,2,t,r)}function Lf(t,r){return xl(4,4,t,r)}function jf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Mf(t,r,o){return o=o!=null?o.concat([t]):null,xl(4,4,jf.bind(null,r,t),o)}function Rc(){}function Ff(t,r){var o=_n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ec(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Uf(t,r){var o=_n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ec(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function zf(t,r,o){return qi&21?(Dn(o,r)||(o=bi(),Je.lanes|=o,Hi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=o)}function i_(t,r){var o=Ne;Ne=o!==0&&4>o?o:4,t(!0);var c=wc.transition;wc.transition={};try{t(!1),r()}finally{Ne=o,wc.transition=c}}function Bf(){return _n().memoizedState}function s_(t,r,o){var c=ni(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},$f(t))qf(r,o);else if(o=wf(t,r,o,c),o!==null){var d=qt();jn(o,t,c,d),Hf(o,r,c)}}function o_(t,r,o){var c=ni(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if($f(t))qf(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(d.hasEagerState=!0,d.eagerState=S,Dn(S,_)){var P=r.interleaved;P===null?(d.next=d,pc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}o=wf(t,r,d,c),o!==null&&(d=qt(),jn(o,t,c,d),Hf(o,r,c))}}function $f(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function qf(t,r){Go=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Hf(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,zr(t,o)}}var Tl={readContext:vn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},a_={readContext:vn,useCallback:function(t,r){return Xn().memoizedState=[t,r===void 0?null:r],t},useContext:vn,useEffect:Vf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,El(4194308,4,jf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return El(4194308,4,t,r)},useInsertionEffect:function(t,r){return El(4,2,t,r)},useMemo:function(t,r){var o=Xn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Xn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=s_.bind(null,Je,t),[c.memoizedState,t]},useRef:function(t){var r=Xn();return t={current:t},r.memoizedState=t},useState:Df,useDebugValue:Rc,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=Df(!1),r=t[0];return t=i_.bind(null,t[1]),Xn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Je,d=Xn();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ct===null)throw Error(n(349));qi&30||Rf(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Vf(Pf.bind(null,c,p,t),[t]),c.flags|=2048,Yo(9,Af.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=Xn(),r=Ct.identifierPrefix;if(Ye){var o=Er,c=wr;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Qo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=r_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},l_={readContext:vn,useCallback:Ff,useContext:vn,useEffect:Ic,useImperativeHandle:Mf,useInsertionEffect:Of,useLayoutEffect:Lf,useMemo:Uf,useReducer:Sc,useRef:bf,useState:function(){return Sc(Ko)},useDebugValue:Rc,useDeferredValue:function(t){var r=_n();return zf(r,vt.memoizedState,t)},useTransition:function(){var t=Sc(Ko)[0],r=_n().memoizedState;return[t,r]},useMutableSource:Cf,useSyncExternalStore:If,useId:Bf,unstable_isNewReconciler:!1},u_={readContext:vn,useCallback:Ff,useContext:vn,useEffect:Ic,useImperativeHandle:Mf,useInsertionEffect:Of,useLayoutEffect:Lf,useMemo:Uf,useReducer:Cc,useRef:bf,useState:function(){return Cc(Ko)},useDebugValue:Rc,useDeferredValue:function(t){var r=_n();return vt===null?r.memoizedState=t:zf(r,vt.memoizedState,t)},useTransition:function(){var t=Cc(Ko)[0],r=_n().memoizedState;return[t,r]},useMutableSource:Cf,useSyncExternalStore:If,useId:Bf,unstable_isNewReconciler:!1};function Vn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ac(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Sl={isMounted:function(t){return(t=t._reactInternals)?Cn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=qt(),d=ni(t),p=Tr(c,d);p.payload=r,o!=null&&(p.callback=o),r=Jr(t,p,d),r!==null&&(jn(r,t,d,c),gl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=qt(),d=ni(t),p=Tr(c,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Jr(t,p,d),r!==null&&(jn(r,t,d,c),gl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=qt(),c=ni(t),d=Tr(o,c);d.tag=2,r!=null&&(d.callback=r),r=Jr(t,d,c),r!==null&&(jn(r,t,c,o),gl(r,t,c))}};function Wf(t,r,o,c,d,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Lo(o,c)||!Lo(d,p):!0}function Gf(t,r,o){var c=!1,d=Kr,p=r.contextType;return typeof p=="object"&&p!==null?p=vn(p):(d=Yt(r)?Fi:Vt.current,c=r.contextTypes,p=(c=c!=null)?bs(t,d):Kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Qf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Sl.enqueueReplaceState(r,r.state,null)}function Pc(t,r,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},mc(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=vn(p):(p=Yt(r)?Fi:Vt.current,d.context=bs(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Ac(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Sl.enqueueReplaceState(d,d.state,null),yl(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,r){try{var o="",c=r;do o+=Ce(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function kc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Nc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var c_=typeof WeakMap=="function"?WeakMap:Map;function Kf(t,r,o){o=Tr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Nl||(Nl=!0,Wc=c),Nc(t,r)},o}function Yf(t,r,o){o=Tr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Nc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Nc(t,r),typeof c!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Xf(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new c_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),t=S_.bind(null,t,r,o),r.then(t,t))}function Jf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Zf(t,r,o,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Tr(-1,1),r.tag=2,Jr(o,r,1))),o.lanes|=1),t)}var h_=fe.ReactCurrentOwner,Xt=!1;function $t(t,r,o,c){r.child=t===null?_f(r,null,o,c):js(r,t.child,o,c)}function ep(t,r,o,c,d){o=o.render;var p=r.ref;return Fs(r,d),c=xc(t,r,o,c,p,d),o=Tc(),t!==null&&!Xt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Sr(t,r,d)):(Ye&&o&&sc(r),r.flags|=1,$t(t,r,c,d),r.child)}function tp(t,r,o,c,d){if(t===null){var p=o.type;return typeof p=="function"&&!Zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,np(t,r,p,c,d)):(t=jl(o.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Lo,o(_,c)&&t.ref===r.ref)return Sr(t,r,d)}return r.flags|=1,t=ii(p,c),t.ref=r.ref,t.return=r,r.child=t}function np(t,r,o,c,d){if(t!==null){var p=t.memoizedProps;if(Lo(p,c)&&t.ref===r.ref)if(Xt=!1,r.pendingProps=c=p,(t.lanes&d)!==0)t.flags&131072&&(Xt=!0);else return r.lanes=t.lanes,Sr(t,r,d)}return Dc(t,r,o,c,d)}function rp(t,r,o){var c=r.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He($s,un),un|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He($s,un),un|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,He($s,un),un|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,He($s,un),un|=c;return $t(t,r,d,o),r.child}function ip(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Dc(t,r,o,c,d){var p=Yt(o)?Fi:Vt.current;return p=bs(r,p),Fs(r,d),o=xc(t,r,o,c,p,d),c=Tc(),t!==null&&!Xt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,Sr(t,r,d)):(Ye&&c&&sc(r),r.flags|=1,$t(t,r,o,d),r.child)}function sp(t,r,o,c,d){if(Yt(o)){var p=!0;ll(r)}else p=!1;if(Fs(r,d),r.stateNode===null)Il(t,r),Gf(r,o,c),Pc(r,o,c,d),c=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,z=o.contextType;typeof z=="object"&&z!==null?z=vn(z):(z=Yt(o)?Fi:Vt.current,z=bs(r,z));var Y=o.getDerivedStateFromProps,X=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||P!==z)&&Qf(r,_,c,z),Xr=!1;var K=r.memoizedState;_.state=K,yl(r,c,_,d),P=r.memoizedState,S!==c||K!==P||Kt.current||Xr?(typeof Y=="function"&&(Ac(r,o,Y,c),P=r.memoizedState),(S=Xr||Wf(r,o,S,c,K,P,z))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=z,c=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Ef(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:Vn(r.type,S),_.props=z,X=r.pendingProps,K=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=vn(P):(P=Yt(o)?Fi:Vt.current,P=bs(r,P));var oe=o.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==X||K!==P)&&Qf(r,_,c,P),Xr=!1,K=r.memoizedState,_.state=K,yl(r,c,_,d);var ue=r.memoizedState;S!==X||K!==ue||Kt.current||Xr?(typeof oe=="function"&&(Ac(r,o,oe,c),ue=r.memoizedState),(z=Xr||Wf(r,o,z,c,K,ue,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=z):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),c=!1)}return bc(t,r,o,c,p,d)}function bc(t,r,o,c,d,p){ip(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&cf(r,o,!1),Sr(t,r,p);c=r.stateNode,h_.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=js(r,t.child,null,p),r.child=js(r,null,S,p)):$t(t,r,S,p),r.memoizedState=c.state,d&&cf(r,o,!0),r.child}function op(t){var r=t.stateNode;r.pendingContext?lf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&lf(t,r.context,!1),gc(t,r.containerInfo)}function ap(t,r,o,c,d){return Ls(),uc(d),r.flags|=256,$t(t,r,o,c),r.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Oc(t){return{baseLanes:t,cachePool:null,transitions:null}}function lp(t,r,o){var c=r.pendingProps,d=Xe.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),He(Xe,d&1),t===null)return lc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Ml(_,c,0,null),t=Ki(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Oc(o),r.memoizedState=Vc,t):Lc(r,_));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return d_(t,r,_,c,S,d,o);if(p){p=c.fallback,_=r.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=ii(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?p=ii(S,p):(p=Ki(p,_,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?Oc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Vc,c}return p=t.child,t=p.sibling,c=ii(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Lc(t,r){return r=Ml({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Cl(t,r,o,c){return c!==null&&uc(c),js(r,t.child,null,o),t=Lc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function d_(t,r,o,c,d,p,_){if(o)return r.flags&256?(r.flags&=-257,c=kc(Error(n(422))),Cl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Ml({mode:"visible",children:c.children},d,0,null),p=Ki(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&js(r,t.child,null,_),r.child.memoizedState=Oc(_),r.memoizedState=Vc,p);if(!(r.mode&1))return Cl(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=kc(p,c,void 0),Cl(t,r,_,c)}if(S=(_&t.childLanes)!==0,Xt||S){if(c=Ct,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,xr(t,d),jn(c,t,d,-1))}return Jc(),c=kc(Error(n(421))),Cl(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=C_.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,ln=Gr(d.nextSibling),an=r,Ye=!0,bn=null,t!==null&&(gn[yn++]=wr,gn[yn++]=Er,gn[yn++]=Ui,wr=t.id,Er=t.overflow,Ui=r),r=Lc(r,c.children),r.flags|=4096,r)}function up(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),fc(t.return,r,o)}function jc(t,r,o,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function cp(t,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if($t(t,r,c.children,o),c=Xe.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&up(t,o,r);else if(t.tag===19)up(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Xe,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&vl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),jc(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&vl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}jc(r,!0,o,null,p);break;case"together":jc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Il(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Sr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Hi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=ii(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ii(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function f_(t,r,o){switch(r.tag){case 3:op(r),Ls();break;case 5:Sf(r);break;case 1:Yt(r.type)&&ll(r);break;case 4:gc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;He(pl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Xe,Xe.current&1),r.flags|=128,null):o&r.child.childLanes?lp(t,r,o):(He(Xe,Xe.current&1),t=Sr(t,r,o),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return cp(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,rp(t,r,o)}return Sr(t,r,o)}var hp,Mc,dp,fp;hp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Mc=function(){},dp=function(t,r,o,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,$i(Yn.current);var p=null;switch(o){case"input":d=zn(t,d),c=zn(t,c),p=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),p=[];break;case"textarea":d=Or(t,d),c=Or(t,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=sl)}yo(o,c);var _;o=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var S=d[z];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in c){var P=c[z];if(S=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&P!==S&&(P!=null||S!=null))if(z==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(z,o)),o=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&We("scroll",t),p||S===P||(p=[])):(p=p||[]).push(z,P))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},fp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Xo(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function p_(t,r,o){var c=r.pendingProps;switch(oc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Yt(r.type)&&al(),Lt(r),null;case 3:return c=r.stateNode,Us(),Ge(Kt),Ge(Vt),_c(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(dl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,bn!==null&&(Kc(bn),bn=null))),Mc(t,r),Lt(r),null;case 5:yc(r);var d=$i(Wo.current);if(o=r.type,t!==null&&r.stateNode!=null)dp(t,r,o,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=$i(Yn.current),dl(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[Kn]=r,c[zo]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<Mo.length;d++)We(Mo[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":Ei(c,p),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},We("invalid",c);break;case"textarea":cr(c,p),We("invalid",c)}yo(o,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&il(c.textContent,S,t),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&il(c.textContent,S,t),d=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&We("scroll",c)}switch(o){case"input":xn(c),xi(c,p,!0);break;case"textarea":xn(c),ho(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=sl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Kn]=r,t[zo]=c,hp(t,r,!1,!1),r.stateNode=t;e:{switch(_=vo(o,c),o){case"dialog":We("cancel",t),We("close",t),d=c;break;case"iframe":case"object":case"embed":We("load",t),d=c;break;case"video":case"audio":for(d=0;d<Mo.length;d++)We(Mo[d],t);d=c;break;case"source":We("error",t),d=c;break;case"img":case"image":case"link":We("error",t),We("load",t),d=c;break;case"details":We("toggle",t),d=c;break;case"input":Ei(t,c),d=zn(t,c),We("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),We("invalid",t);break;case"textarea":cr(t,c),d=Or(t,c),We("invalid",t);break;default:d=c}yo(o,d),S=d;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?mo(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&fo(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Lr(t,P):typeof P=="number"&&Lr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&We("scroll",t):P!=null&&se(t,p,P,_))}switch(o){case"input":xn(t),xi(t,c,!1);break;case"textarea":xn(t),ho(t);break;case"option":c.value!=null&&t.setAttribute("value",""+De(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?hn(t,!!c.multiple,p,!1):c.defaultValue!=null&&hn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=sl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)fp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=$i(Wo.current),$i(Yn.current),dl(r)){if(c=r.stateNode,o=r.memoizedProps,c[Kn]=r,(p=c.nodeValue!==o)&&(t=an,t!==null))switch(t.tag){case 3:il(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Kn]=r,r.stateNode=c}return Lt(r),null;case 13:if(Ge(Xe),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&ln!==null&&r.mode&1&&!(r.flags&128))gf(),Ls(),r.flags|=98560,p=!1;else if(p=dl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Kn]=r}else Ls(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else bn!==null&&(Kc(bn),bn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Xe.current&1?_t===0&&(_t=3):Jc())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Us(),Mc(t,r),t===null&&Fo(r.stateNode.containerInfo),Lt(r),null;case 10:return dc(r.type._context),Lt(r),null;case 17:return Yt(r.type)&&al(),Lt(r),null;case 19:if(Ge(Xe),p=r.memoizedState,p===null)return Lt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)Xo(p,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=vl(t),_!==null){for(r.flags|=128,Xo(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&qe()>qs&&(r.flags|=128,c=!0,Xo(p,!1),r.lanes=4194304)}else{if(!c)if(t=vl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Xo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(r),null}else 2*qe()-p.renderingStartTime>qs&&o!==1073741824&&(r.flags|=128,c=!0,Xo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=qe(),r.sibling=null,o=Xe.current,He(Xe,c?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return Xc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?un&1073741824&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function m_(t,r){switch(oc(r),r.tag){case 1:return Yt(r.type)&&al(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Us(),Ge(Kt),Ge(Vt),_c(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return yc(r),null;case 13:if(Ge(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ls()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ge(Xe),null;case 4:return Us(),null;case 10:return dc(r.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var Rl=!1,jt=!1,g_=typeof WeakSet=="function"?WeakSet:Set,le=null;function Bs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){nt(t,r,c)}else o.current=null}function Fc(t,r,o){try{o()}catch(c){nt(t,r,c)}}var pp=!1;function y_(t,r){if(Xu=qr,t=Hd(),$u(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,z=0,Y=0,X=t,K=null;t:for(;;){for(var oe;X!==o||d!==0&&X.nodeType!==3||(S=_+d),X!==p||c!==0&&X.nodeType!==3||(P=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(oe=X.firstChild)!==null;)K=X,X=oe;for(;;){if(X===t)break t;if(K===o&&++z===d&&(S=_),K===p&&++Y===c&&(P=_),(oe=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=oe}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ju={focusedElem:t,selectionRange:o},qr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,st=ue.memoizedState,j=r.stateNode,D=j.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Vn(r.type,ce),st);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){nt(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=pp,pp=!1,ue}function Jo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Fc(r,o,p)}d=d.next}while(d!==c)}}function Al(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Uc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function mp(t){var r=t.alternate;r!==null&&(t.alternate=null,mp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Kn],delete r[zo],delete r[nc],delete r[Zv],delete r[e_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gp(t){return t.tag===5||t.tag===3||t.tag===4}function yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=sl));else if(c!==4&&(t=t.child,t!==null))for(zc(t,r,o),t=t.sibling;t!==null;)zc(t,r,o),t=t.sibling}function Bc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Bc(t,r,o),t=t.sibling;t!==null;)Bc(t,r,o),t=t.sibling}var kt=null,On=!1;function Zr(t,r,o){for(o=o.child;o!==null;)vp(t,r,o),o=o.sibling}function vp(t,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ni,o)}catch{}switch(o.tag){case 5:jt||Bs(o,r);case 6:var c=kt,d=On;kt=null,Zr(t,r,o),kt=c,On=d,kt!==null&&(On?(t=kt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):kt.removeChild(o.stateNode));break;case 18:kt!==null&&(On?(t=kt,o=o.stateNode,t.nodeType===8?tc(t.parentNode,o):t.nodeType===1&&tc(t,o),kn(t)):tc(kt,o.stateNode));break;case 4:c=kt,d=On,kt=o.stateNode.containerInfo,On=!0,Zr(t,r,o),kt=c,On=d;break;case 0:case 11:case 14:case 15:if(!jt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Fc(o,r,_),d=d.next}while(d!==c)}Zr(t,r,o);break;case 1:if(!jt&&(Bs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){nt(o,r,S)}Zr(t,r,o);break;case 21:Zr(t,r,o);break;case 22:o.mode&1?(jt=(c=jt)||o.memoizedState!==null,Zr(t,r,o),jt=c):Zr(t,r,o);break;default:Zr(t,r,o)}}function _p(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new g_),r.forEach(function(c){var d=I_.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Ln(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:kt=S.stateNode,On=!1;break e;case 3:kt=S.stateNode.containerInfo,On=!0;break e;case 4:kt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(kt===null)throw Error(n(160));vp(p,_,d),kt=null,On=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(z){nt(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)wp(r,t),r=r.sibling}function wp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(r,t),Jn(t),c&4){try{Jo(3,t,t.return),Al(3,t)}catch(ce){nt(t,t.return,ce)}try{Jo(5,t,t.return)}catch(ce){nt(t,t.return,ce)}}break;case 1:Ln(r,t),Jn(t),c&512&&o!==null&&Bs(o,o.return);break;case 5:if(Ln(r,t),Jn(t),c&512&&o!==null&&Bs(o,o.return),t.flags&32){var d=t.stateNode;try{Lr(d,"")}catch(ce){nt(t,t.return,ce)}}if(c&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&br(d,p),vo(S,_);var z=vo(S,p);for(_=0;_<P.length;_+=2){var Y=P[_],X=P[_+1];Y==="style"?mo(d,X):Y==="dangerouslySetInnerHTML"?fo(d,X):Y==="children"?Lr(d,X):se(d,Y,X,z)}switch(S){case"input":Vr(d,p);break;case"textarea":we(d,p);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var oe=p.value;oe!=null?hn(d,!!p.multiple,oe,!1):K!==!!p.multiple&&(p.defaultValue!=null?hn(d,!!p.multiple,p.defaultValue,!0):hn(d,!!p.multiple,p.multiple?[]:"",!1))}d[zo]=p}catch(ce){nt(t,t.return,ce)}}break;case 6:if(Ln(r,t),Jn(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ce){nt(t,t.return,ce)}}break;case 3:if(Ln(r,t),Jn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{kn(r.containerInfo)}catch(ce){nt(t,t.return,ce)}break;case 4:Ln(r,t),Jn(t);break;case 13:Ln(r,t),Jn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Hc=qe())),c&4&&_p(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(jt=(z=jt)||Y,Ln(r,t),jt=z):Ln(r,t),Jn(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!Y&&t.mode&1)for(le=t,Y=t.child;Y!==null;){for(X=le=Y;le!==null;){switch(K=le,oe=K.child,K.tag){case 0:case 11:case 14:case 15:Jo(4,K,K.return);break;case 1:Bs(K,K.return);var ue=K.stateNode;if(typeof ue.componentWillUnmount=="function"){c=K,o=K.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){nt(c,o,ce)}}break;case 5:Bs(K,K.return);break;case 22:if(K.memoizedState!==null){Tp(X);continue}}oe!==null?(oe.return=K,le=oe):Tp(X)}Y=Y.sibling}e:for(Y=null,X=t;;){if(X.tag===5){if(Y===null){Y=X;try{d=X.stateNode,z?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=X.stateNode,P=X.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=po("display",_))}catch(ce){nt(t,t.return,ce)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(ce){nt(t,t.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Ln(r,t),Jn(t),c&4&&_p(t);break;case 21:break;default:Ln(r,t),Jn(t)}}function Jn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(gp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Lr(d,""),c.flags&=-33);var p=yp(t);Bc(t,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,S=yp(t);zc(t,S,_);break;default:throw Error(n(161))}}catch(P){nt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function v_(t,r,o){le=t,Ep(t)}function Ep(t,r,o){for(var c=(t.mode&1)!==0;le!==null;){var d=le,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Rl;if(!_){var S=d.alternate,P=S!==null&&S.memoizedState!==null||jt;S=Rl;var z=jt;if(Rl=_,(jt=P)&&!z)for(le=d;le!==null;)_=le,P=_.child,_.tag===22&&_.memoizedState!==null?Sp(d):P!==null?(P.return=_,le=P):Sp(d);for(;p!==null;)le=p,Ep(p),p=p.sibling;le=d,Rl=S,jt=z}xp(t)}else d.subtreeFlags&8772&&p!==null?(p.return=d,le=p):xp(t)}}function xp(t){for(;le!==null;){var r=le;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:jt||Al(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!jt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Vn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Tf(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Tf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&kn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||r.flags&512&&Uc(r)}catch(K){nt(r,r.return,K)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function Tp(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function Sp(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Al(4,r)}catch(P){nt(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(P){nt(r,d,P)}}var p=r.return;try{Uc(r)}catch(P){nt(r,p,P)}break;case 5:var _=r.return;try{Uc(r)}catch(P){nt(r,_,P)}}}catch(P){nt(r,r.return,P)}if(r===t){le=null;break}var S=r.sibling;if(S!==null){S.return=r.return,le=S;break}le=r.return}}var __=Math.ceil,Pl=fe.ReactCurrentDispatcher,$c=fe.ReactCurrentOwner,wn=fe.ReactCurrentBatchConfig,je=0,Ct=null,ut=null,Nt=0,un=0,$s=Qr(0),_t=0,Zo=null,Hi=0,kl=0,qc=0,ea=null,Jt=null,Hc=0,qs=1/0,Cr=null,Nl=!1,Wc=null,ei=null,Dl=!1,ti=null,bl=0,ta=0,Gc=null,Vl=-1,Ol=0;function qt(){return je&6?qe():Vl!==-1?Vl:Vl=qe()}function ni(t){return t.mode&1?je&2&&Nt!==0?Nt&-Nt:n_.transition!==null?(Ol===0&&(Ol=bi()),Ol):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Po(t.type)),t):1}function jn(t,r,o,c){if(50<ta)throw ta=0,Gc=null,Error(n(185));Ur(t,o,c),(!(je&2)||t!==Ct)&&(t===Ct&&(!(je&2)&&(kl|=o),_t===4&&ri(t,Nt)),Zt(t,c),o===1&&je===0&&!(r.mode&1)&&(qs=qe()+500,ul&&Yr()))}function Zt(t,r){var o=t.callbackNode;fr(t,r);var c=Di(t,t===Ct?Nt:0);if(c===0)o!==null&&So(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&So(o),r===1)t.tag===0?t_(Ip.bind(null,t)):hf(Ip.bind(null,t)),Xv(function(){!(je&6)&&Yr()}),o=null;else{switch(Br(c)){case 1:o=ki;break;case 4:o=jr;break;case 16:o=fn;break;case 536870912:o=Oa;break;default:o=fn}o=Vp(o,Cp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Cp(t,r){if(Vl=-1,Ol=0,je&6)throw Error(n(327));var o=t.callbackNode;if(Hs()&&t.callbackNode!==o)return null;var c=Di(t,t===Ct?Nt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Ll(t,c);else{r=c;var d=je;je|=2;var p=Ap();(Ct!==t||Nt!==r)&&(Cr=null,qs=qe()+500,Gi(t,r));do try{x_();break}catch(S){Rp(t,S)}while(!0);hc(),Pl.current=p,je=d,ut!==null?r=0:(Ct=null,Nt=0,r=_t)}if(r!==0){if(r===2&&(d=rn(t),d!==0&&(c=d,r=Qc(t,d))),r===1)throw o=Zo,Gi(t,0),ri(t,c),Zt(t,qe()),o;if(r===6)ri(t,c);else{if(d=t.current.alternate,!(c&30)&&!w_(d)&&(r=Ll(t,c),r===2&&(p=rn(t),p!==0&&(c=p,r=Qc(t,p))),r===1))throw o=Zo,Gi(t,0),ri(t,c),Zt(t,qe()),o;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Qi(t,Jt,Cr);break;case 3:if(ri(t,c),(c&130023424)===c&&(r=Hc+500-qe(),10<r)){if(Di(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){qt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=ec(Qi.bind(null,t,Jt,Cr),r);break}Qi(t,Jt,Cr);break;case 4:if(ri(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-zt(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*__(c/1960))-c,10<c){t.timeoutHandle=ec(Qi.bind(null,t,Jt,Cr),c);break}Qi(t,Jt,Cr);break;case 5:Qi(t,Jt,Cr);break;default:throw Error(n(329))}}}return Zt(t,qe()),t.callbackNode===o?Cp.bind(null,t):null}function Qc(t,r){var o=ea;return t.current.memoizedState.isDehydrated&&(Gi(t,r).flags|=256),t=Ll(t,r),t!==2&&(r=Jt,Jt=o,r!==null&&Kc(r)),t}function Kc(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function w_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Dn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ri(t,r){for(r&=~qc,r&=~kl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),c=1<<o;t[o]=-1,r&=~c}}function Ip(t){if(je&6)throw Error(n(327));Hs();var r=Di(t,0);if(!(r&1))return Zt(t,qe()),null;var o=Ll(t,r);if(t.tag!==0&&o===2){var c=rn(t);c!==0&&(r=c,o=Qc(t,c))}if(o===1)throw o=Zo,Gi(t,0),ri(t,r),Zt(t,qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Qi(t,Jt,Cr),Zt(t,qe()),null}function Yc(t,r){var o=je;je|=1;try{return t(r)}finally{je=o,je===0&&(qs=qe()+500,ul&&Yr())}}function Wi(t){ti!==null&&ti.tag===0&&!(je&6)&&Hs();var r=je;je|=1;var o=wn.transition,c=Ne;try{if(wn.transition=null,Ne=1,t)return t()}finally{Ne=c,wn.transition=o,je=r,!(je&6)&&Yr()}}function Xc(){un=$s.current,Ge($s)}function Gi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Yv(o)),ut!==null)for(o=ut.return;o!==null;){var c=o;switch(oc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&al();break;case 3:Us(),Ge(Kt),Ge(Vt),_c();break;case 5:yc(c);break;case 4:Us();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:dc(c.type._context);break;case 22:case 23:Xc()}o=o.return}if(Ct=t,ut=t=ii(t.current,null),Nt=un=r,_t=0,Zo=null,qc=kl=Hi=0,Jt=ea=null,Bi!==null){for(r=0;r<Bi.length;r++)if(o=Bi[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}o.pending=c}Bi=null}return t}function Rp(t,r){do{var o=ut;try{if(hc(),_l.current=Tl,wl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}wl=!1}if(qi=0,St=vt=Je=null,Go=!1,Qo=0,$c.current=null,o===null||o.return===null){_t=1,Zo=r,ut=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=Nt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Y=S,X=Y.tag;if(!(Y.mode&1)&&(X===0||X===11||X===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=Jf(_);if(oe!==null){oe.flags&=-257,Zf(oe,_,S,p,r),oe.mode&1&&Xf(p,z,r),r=oe,P=z;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(P),r.updateQueue=ce}else ue.add(P);break e}else{if(!(r&1)){Xf(p,z,r),Jc();break e}P=Error(n(426))}}else if(Ye&&S.mode&1){var st=Jf(_);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Zf(st,_,S,p,r),uc(zs(P,S));break e}}p=P=zs(P,S),_t!==4&&(_t=2),ea===null?ea=[p]:ea.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var j=Kf(p,P,r);xf(p,j);break e;case 1:S=P;var D=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ei===null||!ei.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Yf(p,S,r);xf(p,Z);break e}}p=p.return}while(p!==null)}kp(o)}catch(he){r=he,ut===o&&o!==null&&(ut=o=o.return);continue}break}while(!0)}function Ap(){var t=Pl.current;return Pl.current=Tl,t===null?Tl:t}function Jc(){(_t===0||_t===3||_t===2)&&(_t=4),Ct===null||!(Hi&268435455)&&!(kl&268435455)||ri(Ct,Nt)}function Ll(t,r){var o=je;je|=2;var c=Ap();(Ct!==t||Nt!==r)&&(Cr=null,Gi(t,r));do try{E_();break}catch(d){Rp(t,d)}while(!0);if(hc(),je=o,Pl.current=c,ut!==null)throw Error(n(261));return Ct=null,Nt=0,_t}function E_(){for(;ut!==null;)Pp(ut)}function x_(){for(;ut!==null&&!ba();)Pp(ut)}function Pp(t){var r=bp(t.alternate,t,un);t.memoizedProps=t.pendingProps,r===null?kp(t):ut=r,$c.current=null}function kp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=m_(o,r),o!==null){o.flags&=32767,ut=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ut=null;return}}else if(o=p_(o,r,un),o!==null){ut=o;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=t}while(r!==null);_t===0&&(_t=5)}function Qi(t,r,o){var c=Ne,d=wn.transition;try{wn.transition=null,Ne=1,T_(t,r,o,c)}finally{wn.transition=d,Ne=c}return null}function T_(t,r,o,c){do Hs();while(ti!==null);if(je&6)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if($e(t,p),t===Ct&&(ut=Ct=null,Nt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Dl||(Dl=!0,Vp(fn,function(){return Hs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=wn.transition,wn.transition=null;var _=Ne;Ne=1;var S=je;je|=4,$c.current=null,y_(t,o),wp(o,t),$v(Ju),qr=!!Xu,Ju=Xu=null,t.current=o,v_(o),Ou(),je=S,Ne=_,wn.transition=p}else t.current=o;if(Dl&&(Dl=!1,ti=t,bl=d),p=t.pendingLanes,p===0&&(ei=null),La(o.stateNode),Zt(t,qe()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Nl)throw Nl=!1,t=Wc,Wc=null,t;return bl&1&&t.tag!==0&&Hs(),p=t.pendingLanes,p&1?t===Gc?ta++:(ta=0,Gc=t):ta=0,Yr(),null}function Hs(){if(ti!==null){var t=Br(bl),r=wn.transition,o=Ne;try{if(wn.transition=null,Ne=16>t?16:t,ti===null)var c=!1;else{if(t=ti,ti=null,bl=0,je&6)throw Error(n(331));var d=je;for(je|=4,le=t.current;le!==null;){var p=le,_=p.child;if(le.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var z=S[P];for(le=z;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Jo(8,Y,p)}var X=Y.child;if(X!==null)X.return=Y,le=X;else for(;le!==null;){Y=le;var K=Y.sibling,oe=Y.return;if(mp(Y),Y===z){le=null;break}if(K!==null){K.return=oe,le=K;break}le=oe}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var st=ce.sibling;ce.sibling=null,ce=st}while(ce!==null)}}le=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,le=_;else e:for(;le!==null;){if(p=le,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Jo(9,p,p.return)}var j=p.sibling;if(j!==null){j.return=p.return,le=j;break e}le=p.return}}var D=t.current;for(le=D;le!==null;){_=le;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,le=F;else e:for(_=D;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Al(9,S)}}catch(he){nt(S,S.return,he)}if(S===_){le=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,le=Z;break e}le=S.return}}if(je=d,Yr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ni,t)}catch{}c=!0}return c}finally{Ne=o,wn.transition=r}}return!1}function Np(t,r,o){r=zs(o,r),r=Kf(t,r,1),t=Jr(t,r,1),r=qt(),t!==null&&(Ur(t,1,r),Zt(t,r))}function nt(t,r,o){if(t.tag===3)Np(t,t,o);else for(;r!==null;){if(r.tag===3){Np(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ei===null||!ei.has(c))){t=zs(o,t),t=Yf(r,t,1),r=Jr(r,t,1),t=qt(),r!==null&&(Ur(r,1,t),Zt(r,t));break}}r=r.return}}function S_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=qt(),t.pingedLanes|=t.suspendedLanes&o,Ct===t&&(Nt&o)===o&&(_t===4||_t===3&&(Nt&130023424)===Nt&&500>qe()-Hc?Gi(t,0):qc|=o),Zt(t,r)}function Dp(t,r){r===0&&(t.mode&1?(r=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):r=1);var o=qt();t=xr(t,r),t!==null&&(Ur(t,r,o),Zt(t,o))}function C_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Dp(t,o)}function I_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Dp(t,o)}var bp;bp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Kt.current)Xt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Xt=!1,f_(t,r,o);Xt=!!(t.flags&131072)}else Xt=!1,Ye&&r.flags&1048576&&df(r,hl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Il(t,r),t=r.pendingProps;var d=bs(r,Vt.current);Fs(r,o),d=xc(null,r,c,t,d,o);var p=Tc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Yt(c)?(p=!0,ll(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,mc(r),d.updater=Sl,r.stateNode=d,d._reactInternals=r,Pc(r,c,t,o),r=bc(null,r,c,!0,p,o)):(r.tag=0,Ye&&p&&sc(r),$t(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Il(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=A_(c),t=Vn(c,t),d){case 0:r=Dc(null,r,c,t,o);break e;case 1:r=sp(null,r,c,t,o);break e;case 11:r=ep(null,r,c,t,o);break e;case 14:r=tp(null,r,c,Vn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),Dc(t,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),sp(t,r,c,d,o);case 3:e:{if(op(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,d=p.element,Ef(t,r),yl(r,c,null,o);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=zs(Error(n(423)),r),r=ap(t,r,c,o,d);break e}else if(c!==d){d=zs(Error(n(424)),r),r=ap(t,r,c,o,d);break e}else for(ln=Gr(r.stateNode.containerInfo.firstChild),an=r,Ye=!0,bn=null,o=_f(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ls(),c===d){r=Sr(t,r,o);break e}$t(t,r,c,o)}r=r.child}return r;case 5:return Sf(r),t===null&&lc(r),c=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,_=d.children,Zu(c,d)?_=null:p!==null&&Zu(c,p)&&(r.flags|=32),ip(t,r),$t(t,r,_,o),r.child;case 6:return t===null&&lc(r),null;case 13:return lp(t,r,o);case 4:return gc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=js(r,null,c,o):$t(t,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),ep(t,r,c,d,o);case 7:return $t(t,r,r.pendingProps,o),r.child;case 8:return $t(t,r,r.pendingProps.children,o),r.child;case 12:return $t(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,He(pl,c._currentValue),c._currentValue=_,p!==null)if(Dn(p.value,_)){if(p.children===d.children&&!Kt.current){r=Sr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=Tr(-1,o&-o),P.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),z.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),fc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),fc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}$t(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Fs(r,o),d=vn(d),c=c(d),r.flags|=1,$t(t,r,c,o),r.child;case 14:return c=r.type,d=Vn(c,r.pendingProps),d=Vn(c.type,d),tp(t,r,c,d,o);case 15:return np(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Vn(c,d),Il(t,r),r.tag=1,Yt(c)?(t=!0,ll(r)):t=!1,Fs(r,o),Gf(r,c,d),Pc(r,c,d,o),bc(null,r,c,!0,t,o);case 19:return cp(t,r,o);case 22:return rp(t,r,o)}throw Error(n(156,r.tag))};function Vp(t,r){return ds(t,r)}function R_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,o,c){return new R_(t,r,o,c)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A_(t){if(typeof t=="function")return Zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===xt)return 14}return 2}function ii(t,r){var o=t.alternate;return o===null?(o=En(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jl(t,r,o,c,d,p){var _=2;if(c=t,typeof t=="function")Zc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case N:return Ki(o.children,d,p,r);case T:_=8,d|=8;break;case I:return t=En(12,o,r,d|2),t.elementType=I,t.lanes=p,t;case A:return t=En(13,o,r,d),t.elementType=A,t.lanes=p,t;case Qe:return t=En(19,o,r,d),t.elementType=Qe,t.lanes=p,t;case Ue:return Ml(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case b:_=9;break e;case O:_=11;break e;case xt:_=14;break e;case pt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=En(_,o,r,d),r.elementType=t,r.type=c,r.lanes=p,r}function Ki(t,r,o,c){return t=En(7,t,c,r),t.lanes=o,t}function Ml(t,r,o,c){return t=En(22,t,c,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function eh(t,r,o){return t=En(6,t,null,r),t.lanes=o,t}function th(t,r,o){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function P_(t,r,o,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fr(0),this.expirationTimes=Fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function nh(t,r,o,c,d,p,_,S,P){return t=new P_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=En(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(p),t}function k_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Op(t){if(!t)return Kr;t=t._reactInternals;e:{if(Cn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Yt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Yt(o))return uf(t,o,r)}return r}function Lp(t,r,o,c,d,p,_,S,P){return t=nh(o,c,!0,t,d,p,_,S,P),t.context=Op(null),o=t.current,c=qt(),d=ni(o),p=Tr(c,d),p.callback=r??null,Jr(o,p,d),t.current.lanes=d,Ur(t,d,c),Zt(t,c),t}function Fl(t,r,o,c){var d=r.current,p=qt(),_=ni(d);return o=Op(o),r.context===null?r.context=o:r.pendingContext=o,r=Tr(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Jr(d,r,_),t!==null&&(jn(t,d,_,p),gl(t,d,_)),_}function Ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function rh(t,r){jp(t,r),(t=t.alternate)&&jp(t,r)}var Mp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ih(t){this._internalRoot=t}zl.prototype.render=ih.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Fl(t,r,null,null)},zl.prototype.unmount=ih.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Wi(function(){Fl(null,t,null,null)}),r[vr]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var r=za();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Hn.length&&r!==0&&r<Hn[o].priority;o++);Hn.splice(o,0,t),o===0&&qa(t)}};function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function N_(t,r,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var z=Ul(_);p.call(z)}}var _=Lp(r,c,t,0,null,!1,!1,"",Fp);return t._reactRootContainer=_,t[vr]=_.current,Fo(t.nodeType===8?t.parentNode:t),Wi(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var z=Ul(P);S.call(z)}}var P=nh(t,0,!1,null,null,!1,!1,"",Fp);return t._reactRootContainer=P,t[vr]=P.current,Fo(t.nodeType===8?t.parentNode:t),Wi(function(){Fl(r,P,o,c)}),P}function $l(t,r,o,c,d){var p=o._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var S=d;d=function(){var P=Ul(_);S.call(P)}}Fl(r,_,t,d)}else _=N_(o,r,t,d,c);return Ul(_)}Fa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Mr(r.pendingLanes);o!==0&&(zr(r,o|1),Zt(r,qe()),!(je&6)&&(qs=qe()+500,Yr()))}break;case 13:Wi(function(){var c=xr(t,1);if(c!==null){var d=qt();jn(c,t,1,d)}}),rh(t,1)}},ms=function(t){if(t.tag===13){var r=xr(t,134217728);if(r!==null){var o=qt();jn(r,t,134217728,o)}rh(t,134217728)}},Ua=function(t){if(t.tag===13){var r=ni(t),o=xr(t,r);if(o!==null){var c=qt();jn(o,t,r,c)}rh(t,r)}},za=function(){return Ne},Ba=function(t,r){var o=Ne;try{return Ne=t,r()}finally{Ne=o}},os=function(t,r,o){switch(r){case"input":if(Vr(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var d=ol(c);if(!d)throw Error(n(90));lr(c),Vr(c,d)}}}break;case"textarea":we(t,o);break;case"select":r=o.value,r!=null&&hn(t,!!o.multiple,r,!1)}},Ii=Yc,wo=Wi;var D_={usingClientEntryPoint:!1,Events:[Bo,Ns,ol,$n,_o,Yc]},na={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b_={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=To(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ni=ql.inject(b_),nn=ql}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D_,en.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(r))throw Error(n(200));return k_(t,r,null,o)},en.createRoot=function(t,r){if(!sh(t))throw Error(n(299));var o=!1,c="",d=Mp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=nh(t,1,!1,null,null,o,!1,c,d),t[vr]=r.current,Fo(t.nodeType===8?t.parentNode:t),new ih(r)},en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=To(r),t=t===null?null:t.stateNode,t},en.flushSync=function(t){return Wi(t)},en.hydrate=function(t,r,o){if(!Bl(r))throw Error(n(200));return $l(null,t,r,!0,o)},en.hydrateRoot=function(t,r,o){if(!sh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",_=Mp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Lp(r,null,t,1,o??null,d,!1,p,_),t[vr]=r.current,Fo(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new zl(r)},en.render=function(t,r,o){if(!Bl(r))throw Error(n(200));return $l(null,t,r,!1,o)},en.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(n(40));return t._reactRootContainer?(Wi(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1},en.unstable_batchedUpdates=Yc,en.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Bl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return $l(t,r,o,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var Gp;function z_(){if(Gp)return lh.exports;Gp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lh.exports=U_(),lh.exports}var Qp;function B_(){if(Qp)return Hl;Qp=1;var i=z_();return Hl.createRoot=i.createRoot,Hl.hydrateRoot=i.hydrateRoot,Hl}var $_=B_(),M=ed();const Ir=pg(M);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kp="popstate";function q_(i={}){function e(a,u){let{pathname:h="/",search:m="",hash:g=""}=rs(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ch("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let h=a.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");m=v===-1?g:g.slice(0,v)}return m+"#"+(typeof u=="string"?u:ma(u))}function s(a,u){Mn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return W_(e,n,s,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H_(){return Math.random().toString(36).substring(2,10)}function Yp(i,e){return{usr:i.state,key:i.key,idx:e}}function Ch(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?rs(e):e,state:n,key:e&&e.key||s||H_()}}function ma({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function rs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function W_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,v=x();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function x(){return(h.state||{idx:null}).idx}function C(){m="POP";let $=x(),ee=$==null?null:$-v;v=$,g&&g({action:m,location:W.location,delta:ee})}function R($,ee){m="PUSH";let J=Ch(W.location,$,ee);n(J,$),v=x()+1;let se=Yp(J,v),fe=W.createHref(J);try{h.pushState(se,"",fe)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;a.location.assign(fe)}u&&g&&g({action:m,location:W.location,delta:1})}function U($,ee){m="REPLACE";let J=Ch(W.location,$,ee);n(J,$),v=x();let se=Yp(J,v),fe=W.createHref(J);h.replaceState(se,"",fe),u&&g&&g({action:m,location:W.location,delta:0})}function H($){return G_($)}let W={get action(){return m},get location(){return i(a,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Kp,C),g=$,()=>{a.removeEventListener(Kp,C),g=null}},createHref($){return e(a,$)},createURL:H,encodeLocation($){let ee=H($);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:R,replace:U,go($){return h.go($)}};return W}function G_(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ma(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mg(i,e,n="/"){return Q_(i,e,n,!1)}function Q_(i,e,n,s){let a=typeof e=="string"?rs(e):e,u=Ar(a.pathname||"/",n);if(u==null)return null;let h=gg(i);K_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=ow(u);m=iw(h[g],v,s)}return m}function gg(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Rr([s,g.relativePath]),x=n.concat(g);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),gg(u.children,e,x,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:nw(v,u.index),routesMeta:x})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of yg(u.path))a(u,h,g)}),e}function yg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=yg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function K_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:rw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Y_=/^:[\w-]+$/,X_=3,J_=2,Z_=1,ew=10,tw=-2,Xp=i=>i==="*";function nw(i,e){let n=i.split("/"),s=n.length;return n.some(Xp)&&(s+=tw),e&&(s+=J_),n.filter(a=>!Xp(a)).reduce((a,u)=>a+(Y_.test(u)?X_:u===""?Z_:ew),s)}function rw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function iw(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,x=u==="/"?e:e.slice(u.length)||"/",C=su({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},x),R=g.route;if(!C&&v&&n&&!s[s.length-1].route.index&&(C=su({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!C)return null;Object.assign(a,C.params),h.push({params:a,pathname:Rr([u,C.pathname]),pathnameBase:cw(Rr([u,C.pathnameBase])),route:R}),C.pathnameBase!=="/"&&(u=Rr([u,C.pathnameBase]))}return h}function su(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=sw(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:x,isOptional:C},R)=>{if(x==="*"){let H=m[R]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const U=m[R];return C&&!U?v[x]=void 0:v[x]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function sw(i,e=!1,n=!0){Mn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ow(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function aw(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?rs(i):i;return{pathname:n?n.startsWith("/")?n:lw(n,e):e,search:hw(s),hash:dw(a)}}function lw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(i){let e=uw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _g(i,e,n,s=!1){let a;typeof i=="string"?a=rs(i):(a={...i},et(!a.pathname||!a.pathname.includes("?"),hh("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),hh("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),hh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let C=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),C-=1;a.pathname=R.join("/")}m=C>=0?e[C]:"/"}let g=aw(a,m),v=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||x)&&(g.pathname+="/"),g}var Rr=i=>i.join("/").replace(/\/\/+/g,"/"),cw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,dw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function fw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var wg=["POST","PUT","PATCH","DELETE"];new Set(wg);var pw=["GET",...wg];new Set(pw);var oo=M.createContext(null);oo.displayName="DataRouter";var _u=M.createContext(null);_u.displayName="DataRouterState";M.createContext(!1);var Eg=M.createContext({isTransitioning:!1});Eg.displayName="ViewTransition";var mw=M.createContext(new Map);mw.displayName="Fetchers";var gw=M.createContext(null);gw.displayName="Await";var sr=M.createContext(null);sr.displayName="Navigation";var Ta=M.createContext(null);Ta.displayName="Location";var or=M.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var td=M.createContext(null);td.displayName="RouteError";function yw(i,{relative:e}={}){et(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(sr),{hash:a,pathname:u,search:h}=Ca(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Rr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function Sa(){return M.useContext(Ta)!=null}function Nr(){return et(Sa(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ta).location}var xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tg(i){M.useContext(sr).static||M.useLayoutEffect(i)}function Fn(){let{isDataRoute:i}=M.useContext(or);return i?Dw():vw()}function vw(){et(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(oo),{basename:e,navigator:n}=M.useContext(sr),{matches:s}=M.useContext(or),{pathname:a}=Nr(),u=JSON.stringify(vg(s)),h=M.useRef(!1);return Tg(()=>{h.current=!0}),M.useCallback((g,v={})=>{if(Mn(h.current,xg),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=_g(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Rr([e,x.pathname])),(v.replace?n.replace:n.push)(x,v.state,v)},[e,n,u,a,i])}var _w=M.createContext(null);function ww(i){let e=M.useContext(or).outlet;return e&&M.createElement(_w.Provider,{value:i},e)}function Ca(i,{relative:e}={}){let{matches:n}=M.useContext(or),{pathname:s}=Nr(),a=JSON.stringify(vg(n));return M.useMemo(()=>_g(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function Ew(i,e){return Sg(i,e)}function Sg(i,e,n,s){var ee;et(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(sr),{matches:u}=M.useContext(or),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let J=x&&x.path||"";Cg(g,!x||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let C=Nr(),R;if(e){let J=typeof e=="string"?rs(e):e;et(v==="/"||((ee=J.pathname)==null?void 0:ee.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${J.pathname}" was given in the \`location\` prop.`),R=J}else R=C;let U=R.pathname||"/",H=U;if(v!=="/"){let J=v.replace(/^\//,"").split("/");H="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let W=mg(i,{pathname:H});Mn(x||W!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Mn(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Iw(W&&W.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:Rr([v,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?v:Rr([v,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return e&&$?M.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function xw(){let i=Nw(),e=fw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,h)}var Tw=M.createElement(xw,null),Sw=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?M.createElement(or.Provider,{value:this.props.routeContext},M.createElement(td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cw({routeContext:i,match:e,children:n}){let s=M.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(or.Provider,{value:i},n)}function Iw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:x,errors:C}=n,R=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||R){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,x)=>{let C,R=!1,U=null,H=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,U=v.route.errorElement||Tw,h&&(m<0&&x===0?(Cg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,H=null):m===x&&(R=!0,H=v.route.hydrateFallbackElement||null)));let W=e.concat(a.slice(0,x+1)),$=()=>{let ee;return C?ee=U:R?ee=H:v.route.Component?ee=M.createElement(v.route.Component,null):v.route.element?ee=v.route.element:ee=g,M.createElement(Cw,{match:v,routeContext:{outlet:g,matches:W,isDataRoute:n!=null},children:ee})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?M.createElement(Sw,{location:n.location,revalidation:n.revalidation,component:U,error:C,children:$(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):$()},null)}function nd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(i){let e=M.useContext(oo);return et(e,nd(i)),e}function Aw(i){let e=M.useContext(_u);return et(e,nd(i)),e}function Pw(i){let e=M.useContext(or);return et(e,nd(i)),e}function rd(i){let e=Pw(i),n=e.matches[e.matches.length-1];return et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function kw(){return rd("useRouteId")}function Nw(){var s;let i=M.useContext(td),e=Aw("useRouteError"),n=rd("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Dw(){let{router:i}=Rw("useNavigate"),e=rd("useNavigate"),n=M.useRef(!1);return Tg(()=>{n.current=!0}),M.useCallback(async(a,u={})=>{Mn(n.current,xg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Jp={};function Cg(i,e,n){!e&&!Jp[i]&&(Jp[i]=!0,Mn(!1,n))}M.memo(bw);function bw({routes:i,future:e,state:n}){return Sg(i,void 0,n,e)}function Vw(i){return ww(i.context)}function oi(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){et(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=rs(n));let{pathname:g="/",search:v="",hash:x="",state:C=null,key:R="default"}=n,U=M.useMemo(()=>{let H=Ar(g,h);return H==null?null:{location:{pathname:H,search:v,hash:x,state:C,key:R},navigationType:s}},[h,g,v,x,C,R,s]);return Mn(U!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:M.createElement(sr.Provider,{value:m},M.createElement(Ta.Provider,{children:e,value:U}))}function Lw({children:i,location:e}){return Ew(Ih(i),e)}function Ih(i,e=[]){let n=[];return M.Children.forEach(i,(s,a)=>{if(!M.isValidElement(s))return;let u=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Ih(s.props.children,u));return}et(s.type===oi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ih(s.props.children,u)),n.push(h)}),n}var Jl="get",Zl="application/x-www-form-urlencoded";function wu(i){return i!=null&&typeof i.tagName=="string"}function jw(i){return wu(i)&&i.tagName.toLowerCase()==="button"}function Mw(i){return wu(i)&&i.tagName.toLowerCase()==="form"}function Fw(i){return wu(i)&&i.tagName.toLowerCase()==="input"}function Uw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zw(i,e){return i.button===0&&(!e||e==="_self")&&!Uw(i)}var Wl=null;function Bw(){if(Wl===null)try{new FormData(document.createElement("form"),0),Wl=!1}catch{Wl=!0}return Wl}var $w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dh(i){return i!=null&&!$w.has(i)?(Mn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):i}function qw(i,e){let n,s,a,u,h;if(Mw(i)){let m=i.getAttribute("action");s=m?Ar(m,e):null,n=i.getAttribute("method")||Jl,a=dh(i.getAttribute("enctype"))||Zl,u=new FormData(i)}else if(jw(i)||Fw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ar(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Jl,a=dh(i.getAttribute("formenctype"))||dh(m.getAttribute("enctype"))||Zl,u=new FormData(m,i),!Bw()){let{name:v,type:x,value:C}=i;if(x==="image"){let R=v?`${v}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else v&&u.append(v,C)}}else{if(wu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jl,s=null,a=Zl,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function id(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ww(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Qw(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await Ww(u,n);return h.links?h.links():[]}return[]}));return Jw(s.flat(1).filter(Gw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Zp(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var x;return n[v].pathname!==g.pathname||((x=n[v].route.path)==null?void 0:x.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var C;let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Kw(i,e,{includeHydrateFallback:n}={}){return Yw(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function Yw(i){return[...new Set(i)]}function Xw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Jw(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(Xw(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Ig(){let i=M.useContext(oo);return id(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Zw(){let i=M.useContext(_u);return id(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sd=M.createContext(void 0);sd.displayName="FrameworkContext";function Rg(){let i=M.useContext(sd);return id(i,"You must render this element inside a <HydratedRouter> element"),i}function e0(i,e){let n=M.useContext(sd),[s,a]=M.useState(!1),[u,h]=M.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:x,onTouchStart:C}=e,R=M.useRef(null);M.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let W=ee=>{ee.forEach(J=>{h(J.isIntersecting)})},$=new IntersectionObserver(W,{threshold:.5});return R.current&&$.observe(R.current),()=>{$.disconnect()}}},[i]),M.useEffect(()=>{if(s){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[s]);let U=()=>{a(!0)},H=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:ia(m,U),onBlur:ia(g,H),onMouseEnter:ia(v,U),onMouseLeave:ia(x,H),onTouchStart:ia(C,U)}]:[!1,R,{}]}function ia(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function t0({page:i,...e}){let{router:n}=Ig(),s=M.useMemo(()=>mg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?M.createElement(r0,{page:i,matches:s,...e}):null}function n0(i){let{manifest:e,routeModules:n}=Rg(),[s,a]=M.useState([]);return M.useEffect(()=>{let u=!1;return Qw(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function r0({page:i,matches:e,...n}){let s=Nr(),{manifest:a,routeModules:u}=Rg(),{basename:h}=Ig(),{loaderData:m,matches:g}=Zw(),v=M.useMemo(()=>Zp(i,e,g,a,s,"data"),[i,e,g,a,s]),x=M.useMemo(()=>Zp(i,e,g,a,s,"assets"),[i,e,g,a,s]),C=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,W=!1;if(e.forEach(ee=>{var se;let J=a.routes[ee.route.id];!J||!J.hasLoader||(!v.some(fe=>fe.route.id===ee.route.id)&&ee.route.id in m&&((se=u[ee.route.id])!=null&&se.shouldRevalidate)||J.hasClientLoader?W=!0:H.add(ee.route.id))}),H.size===0)return[];let $=Hw(i,h,"data");return W&&H.size>0&&$.searchParams.set("_routes",e.filter(ee=>H.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[$.pathname+$.search]},[h,m,s,a,v,e,i,u]),R=M.useMemo(()=>Kw(x,a),[x,a]),U=n0(x);return M.createElement(M.Fragment,null,C.map(H=>M.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>M.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),U.map(({key:H,link:W})=>M.createElement("link",{key:H,...W})))}function i0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ag=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ag&&(window.__reactRouterVersion="7.7.1")}catch{}function s0({basename:i,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=q_({window:n,v5Compat:!0}));let a=s.current,[u,h]=M.useState({action:a.action,location:a.location}),m=M.useCallback(g=>{M.startTransition(()=>h(g))},[h]);return M.useLayoutEffect(()=>a.listen(m),[a,m]),M.createElement(Ow,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kg=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:x,viewTransition:C,...R},U){let{basename:H}=M.useContext(sr),W=typeof v=="string"&&Pg.test(v),$,ee=!1;if(typeof v=="string"&&W&&($=v,Ag))try{let I=new URL(window.location.href),k=v.startsWith("//")?new URL(I.protocol+v):new URL(v),b=Ar(k.pathname,H);k.origin===I.origin&&b!=null?v=b+k.search+k.hash:ee=!0}catch{Mn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=yw(v,{relative:a}),[se,fe,Pe]=e0(s,R),Se=u0(v,{replace:h,state:m,target:g,preventScrollReset:x,relative:a,viewTransition:C});function N(I){e&&e(I),I.defaultPrevented||Se(I)}let T=M.createElement("a",{...R,...Pe,href:$||J,onClick:ee||u?e:N,ref:i0(U,fe),target:g,"data-discover":!W&&n==="render"?"true":void 0});return se&&!W?M.createElement(M.Fragment,null,T,M.createElement(t0,{page:J})):T});kg.displayName="Link";var o0=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},x){let C=Ca(h,{relative:v.relative}),R=Nr(),U=M.useContext(_u),{navigator:H,basename:W}=M.useContext(sr),$=U!=null&&p0(C)&&m===!0,ee=H.encodeLocation?H.encodeLocation(C).pathname:C.pathname,J=R.pathname,se=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(J=J.toLowerCase(),se=se?se.toLowerCase():null,ee=ee.toLowerCase()),se&&W&&(se=Ar(se,W)||se);const fe=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let Pe=J===ee||!a&&J.startsWith(ee)&&J.charAt(fe)==="/",Se=se!=null&&(se===ee||!a&&se.startsWith(ee)&&se.charAt(ee.length)==="/"),N={isActive:Pe,isPending:Se,isTransitioning:$},T=Pe?e:void 0,I;typeof s=="function"?I=s(N):I=[s,Pe?"active":null,Se?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return M.createElement(kg,{...v,"aria-current":T,className:I,ref:x,style:k,to:h,viewTransition:m},typeof g=="function"?g(N):g)});o0.displayName="NavLink";var a0=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Jl,action:m,onSubmit:g,relative:v,preventScrollReset:x,viewTransition:C,...R},U)=>{let H=d0(),W=f0(m,{relative:v}),$=h.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&Pg.test(m),J=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let fe=se.nativeEvent.submitter,Pe=(fe==null?void 0:fe.getAttribute("formmethod"))||h;H(fe||se.currentTarget,{fetcherKey:e,method:Pe,navigate:n,replace:a,state:u,relative:v,preventScrollReset:x,viewTransition:C})};return M.createElement("form",{ref:U,method:$,action:W,onSubmit:s?g:J,...R,"data-discover":!ee&&i==="render"?"true":void 0})});a0.displayName="Form";function l0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ng(i){let e=M.useContext(oo);return et(e,l0(i)),e}function u0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=Fn(),g=Nr(),v=Ca(i,{relative:u});return M.useCallback(x=>{if(zw(x,e)){x.preventDefault();let C=n!==void 0?n:ma(g)===ma(v);m(i,{replace:C,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,n,s,e,i,a,u,h])}var c0=0,h0=()=>`__${String(++c0)}__`;function d0(){let{router:i}=Ng("useSubmit"),{basename:e}=M.useContext(sr),n=kw();return M.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=qw(s,e);if(a.navigate===!1){let x=a.fetcherKey||h0();await i.fetch(x,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function f0(i,{relative:e}={}){let{basename:n}=M.useContext(sr),s=M.useContext(or);et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Ca(i||".",{relative:e})},h=Nr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(C=>C).forEach(C=>m.append("index",C));let x=m.toString();u.search=x?`?${x}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),ma(u)}function p0(i,{relative:e}={}){let n=M.useContext(Eg);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ng("useViewTransitionState"),a=Ca(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return su(a.pathname,h)!=null||su(a.pathname,u)!=null}var fh={exports:{}},ph,em;function m0(){if(em)return ph;em=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ph=i,ph}var mh,tm;function g0(){if(tm)return mh;tm=1;var i=m0();function e(){}function n(){}return n.resetWarningCache=e,mh=function(){function s(h,m,g,v,x,C){if(C!==i){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function a(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},mh}var nm;function y0(){return nm||(nm=1,fh.exports=g0()()),fh.exports}var v0=y0();const q=pg(v0),_0=()=>{};var rm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},w0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,x=u>>2,C=(u&3)<<4|m>>4;let R=(m&15)<<2|v>>6,U=v&63;g||(U=64,h||(R=64)),s.push(n[x],n[C],n[R],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Dg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):w0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||C==null)throw new E0;const R=u<<2|m>>4;if(s.push(R),v!==64){const U=m<<4&240|v>>2;if(s.push(U),C!==64){const H=v<<6&192|C;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class E0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x0=function(i){const e=Dg(i);return bg.encodeByteArray(e,!0)},ou=function(i){return x0(i).replace(/\./g,"")},T0=function(i){try{return bg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=()=>S0().__FIREBASE_DEFAULTS__,I0=()=>{if(typeof process>"u"||typeof rm>"u")return;const i=rm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},R0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&T0(i[1]);return e&&JSON.parse(e)},od=()=>{try{return _0()||C0()||I0()||R0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},A0=i=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},P0=i=>{const e=A0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Vg=()=>{var i;return(i=od())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ou(JSON.stringify(n)),ou(JSON.stringify(h)),""].join(".")}const ua={};function b0(){const i={prod:[],emulator:[]};for(const e of Object.keys(ua))ua[e]?i.emulator.push(e):i.prod.push(e);return i}function V0(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let im=!1;function O0(i,e){if(typeof window>"u"||typeof document>"u"||!ad(window.location.host)||ua[i]===e||ua[i]||im)return;ua[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=b0().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function v(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{im=!0,h()},R}function x(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function C(){const R=V0(s),U=n("text"),H=document.getElementById(U)||document.createElement("span"),W=n("learnmore"),$=document.getElementById(W)||document.createElement("a"),ee=n("preprendIcon"),J=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),x($,W);const fe=v();g(J,ee),se.append(J,H,$,fe),document.body.appendChild(se)}u?(H.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){var i;const e=(i=od())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M0(){return!j0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function U0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="FirebaseError";class ao extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=z0,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Og.prototype.create)}}class Og{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?B0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new ao(a,m,s)}}function B0(i,e){return i.replace($0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const $0=/\{\$([^}]+)}/g;function au(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(sm(u)&&sm(h)){if(!au(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function sm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(i){return i&&i._delegate?i._delegate:i}class ga{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new k0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G0(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:W0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W0(i){return i===Yi?void 0:i}function G0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const K0={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Y0=Oe.INFO,X0={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},J0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=X0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=Y0,this._logHandler=J0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Z0=(i,e)=>e.some(n=>i instanceof n);let om,am;function e1(){return om||(om=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return am||(am=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jg=new WeakMap,Rh=new WeakMap,Mg=new WeakMap,gh=new WeakMap,ld=new WeakMap;function n1(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ui(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&jg.set(n,i)}).catch(()=>{}),ld.set(e,i),e}function r1(i){if(Rh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rh.set(i,e)}let Ah={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Mg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function i1(i){Ah=i(Ah)}function s1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(yh(this),e,...n);return Mg.set(s,e.sort?e.sort():[e]),ui(s)}:t1().includes(i)?function(...e){return i.apply(yh(this),e),ui(jg.get(this))}:function(...e){return ui(i.apply(yh(this),e))}}function o1(i){return typeof i=="function"?s1(i):(i instanceof IDBTransaction&&r1(i),Z0(i,e1())?new Proxy(i,Ah):i)}function ui(i){if(i instanceof IDBRequest)return n1(i);if(gh.has(i))return gh.get(i);const e=o1(i);return e!==i&&(gh.set(i,e),ld.set(e,i)),e}const yh=i=>ld.get(i);function a1(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=ui(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ui(h.result),g.oldVersion,g.newVersion,ui(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],vh=new Map;function lm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=u1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||l1.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return vh.set(e,u),u}i1(i=>({...i,get:(e,n,s)=>lm(e,n)||i.get(e,n,s),has:(e,n)=>!!lm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ph="@firebase/app",um="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Lg("@firebase/app"),d1="@firebase/app-compat",f1="@firebase/analytics-compat",p1="@firebase/analytics",m1="@firebase/app-check-compat",g1="@firebase/app-check",y1="@firebase/auth",v1="@firebase/auth-compat",_1="@firebase/database",w1="@firebase/data-connect",E1="@firebase/database-compat",x1="@firebase/functions",T1="@firebase/functions-compat",S1="@firebase/installations",C1="@firebase/installations-compat",I1="@firebase/messaging",R1="@firebase/messaging-compat",A1="@firebase/performance",P1="@firebase/performance-compat",k1="@firebase/remote-config",N1="@firebase/remote-config-compat",D1="@firebase/storage",b1="@firebase/storage-compat",V1="@firebase/firestore",O1="@firebase/ai",L1="@firebase/firestore-compat",j1="firebase",M1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",F1={[Ph]:"fire-core",[d1]:"fire-core-compat",[p1]:"fire-analytics",[f1]:"fire-analytics-compat",[g1]:"fire-app-check",[m1]:"fire-app-check-compat",[y1]:"fire-auth",[v1]:"fire-auth-compat",[_1]:"fire-rtdb",[w1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[x1]:"fire-fn",[T1]:"fire-fn-compat",[S1]:"fire-iid",[C1]:"fire-iid-compat",[I1]:"fire-fcm",[R1]:"fire-fcm-compat",[A1]:"fire-perf",[P1]:"fire-perf-compat",[k1]:"fire-rc",[N1]:"fire-rc-compat",[D1]:"fire-gcs",[b1]:"fire-gcs-compat",[V1]:"fire-fst",[L1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,U1=new Map,Nh=new Map;function cm(i,e){try{i.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function uu(i){const e=i.name;if(Nh.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Nh.set(e,i);for(const n of lu.values())cm(n,i);for(const n of U1.values())cm(n,i);return!0}function z1(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function B1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Og("app","Firebase",$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=M1;function Fg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kh,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw ci.create("bad-app-name",{appName:String(a)});if(n||(n=Vg()),!n)throw ci.create("no-options");const u=lu.get(a);if(u){if(au(n,u.options)&&au(s,u.config))return u;throw ci.create("duplicate-app",{appName:a})}const h=new Q0(a);for(const g of Nh.values())h.addComponent(g);const m=new q1(n,s,h);return lu.set(a,m),m}function W1(i=kh){const e=lu.get(i);if(!e&&i===kh&&Vg())return Fg();if(!e)throw ci.create("no-app",{appName:i});return e}function Ys(i,e,n){var s;let a=(s=F1[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(m.join(" "));return}uu(new ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebase-heartbeat-database",Q1=1,ya="firebase-heartbeat-store";let _h=null;function Ug(){return _h||(_h=a1(G1,Q1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(i=>{throw ci.create("idb-open",{originalErrorMessage:i.message})})),_h}async function K1(i){try{const n=(await Ug()).transaction(ya),s=await n.objectStore(ya).get(zg(i));return await n.done,s}catch(e){if(e instanceof ao)Pr.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function hm(i,e){try{const s=(await Ug()).transaction(ya,"readwrite");await s.objectStore(ya).put(e,zg(i)),await s.done}catch(n){if(n instanceof ao)Pr.warn(n.message);else{const s=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(s.message)}}}function zg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,X1=30;class J1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=dm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>X1){const h=tE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dm(),{heartbeatsToSend:s,unsentEntries:a}=Z1(this._heartbeatsCache.heartbeats),u=ou(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Pr.warn(n),""}}}function dm(){return new Date().toISOString().substring(0,10)}function Z1(i,e=Y1){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),fm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),fm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?U0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fm(i){return ou(JSON.stringify({version:2,heartbeats:i})).length}function tE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(i){uu(new ga("platform-logger",e=>new c1(e),"PRIVATE")),uu(new ga("heartbeat",e=>new J1(e),"PRIVATE")),Ys(Ph,um,i),Ys(Ph,um,"esm2017"),Ys("fire-js","")}nE("");var rE="firebase",iE="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(rE,iE,"app");var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,Bg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function I(){}I.prototype=T.prototype,N.D=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(k,b,O){for(var A=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)A[Qe-2]=arguments[Qe];return T.prototype[b].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)k[b]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(b=0;16>b;++b)k[b]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],b=N.g[2];var O=N.g[3],A=T+(O^I&(b^O))+k[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=O+(b^T&(I^b))+k[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=b+(I^O&(T^I))+k[2]+606105819&4294967295,b=O+(A<<17&4294967295|A>>>15),A=I+(T^b&(O^T))+k[3]+3250441966&4294967295,I=b+(A<<22&4294967295|A>>>10),A=T+(O^I&(b^O))+k[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(b^T&(I^b))+k[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=b+(I^O&(T^I))+k[6]+2821735955&4294967295,b=O+(A<<17&4294967295|A>>>15),A=I+(T^b&(O^T))+k[7]+4249261313&4294967295,I=b+(A<<22&4294967295|A>>>10),A=T+(O^I&(b^O))+k[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(b^T&(I^b))+k[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=b+(I^O&(T^I))+k[10]+4294925233&4294967295,b=O+(A<<17&4294967295|A>>>15),A=I+(T^b&(O^T))+k[11]+2304563134&4294967295,I=b+(A<<22&4294967295|A>>>10),A=T+(O^I&(b^O))+k[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(b^T&(I^b))+k[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=b+(I^O&(T^I))+k[14]+2792965006&4294967295,b=O+(A<<17&4294967295|A>>>15),A=I+(T^b&(O^T))+k[15]+1236535329&4294967295,I=b+(A<<22&4294967295|A>>>10),A=T+(b^O&(I^b))+k[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^b&(T^I))+k[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=b+(T^I&(O^T))+k[11]+643717713&4294967295,b=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(b^O))+k[0]+3921069994&4294967295,I=b+(A<<20&4294967295|A>>>12),A=T+(b^O&(I^b))+k[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^b&(T^I))+k[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=b+(T^I&(O^T))+k[15]+3634488961&4294967295,b=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(b^O))+k[4]+3889429448&4294967295,I=b+(A<<20&4294967295|A>>>12),A=T+(b^O&(I^b))+k[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^b&(T^I))+k[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=b+(T^I&(O^T))+k[3]+4107603335&4294967295,b=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(b^O))+k[8]+1163531501&4294967295,I=b+(A<<20&4294967295|A>>>12),A=T+(b^O&(I^b))+k[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^b&(T^I))+k[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=b+(T^I&(O^T))+k[7]+1735328473&4294967295,b=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(b^O))+k[12]+2368359562&4294967295,I=b+(A<<20&4294967295|A>>>12),A=T+(I^b^O)+k[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^b)+k[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=b+(O^T^I)+k[11]+1839030562&4294967295,b=O+(A<<16&4294967295|A>>>16),A=I+(b^O^T)+k[14]+4259657740&4294967295,I=b+(A<<23&4294967295|A>>>9),A=T+(I^b^O)+k[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^b)+k[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=b+(O^T^I)+k[7]+4139469664&4294967295,b=O+(A<<16&4294967295|A>>>16),A=I+(b^O^T)+k[10]+3200236656&4294967295,I=b+(A<<23&4294967295|A>>>9),A=T+(I^b^O)+k[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^b)+k[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=b+(O^T^I)+k[3]+3572445317&4294967295,b=O+(A<<16&4294967295|A>>>16),A=I+(b^O^T)+k[6]+76029189&4294967295,I=b+(A<<23&4294967295|A>>>9),A=T+(I^b^O)+k[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^b)+k[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=b+(O^T^I)+k[15]+530742520&4294967295,b=O+(A<<16&4294967295|A>>>16),A=I+(b^O^T)+k[2]+3299628645&4294967295,I=b+(A<<23&4294967295|A>>>9),A=T+(b^(I|~O))+k[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~b))+k[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=b+(T^(O|~I))+k[14]+2878612391&4294967295,b=O+(A<<15&4294967295|A>>>17),A=I+(O^(b|~T))+k[5]+4237533241&4294967295,I=b+(A<<21&4294967295|A>>>11),A=T+(b^(I|~O))+k[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~b))+k[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=b+(T^(O|~I))+k[10]+4293915773&4294967295,b=O+(A<<15&4294967295|A>>>17),A=I+(O^(b|~T))+k[1]+2240044497&4294967295,I=b+(A<<21&4294967295|A>>>11),A=T+(b^(I|~O))+k[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~b))+k[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=b+(T^(O|~I))+k[6]+2734768916&4294967295,b=O+(A<<15&4294967295|A>>>17),A=I+(O^(b|~T))+k[13]+1309151649&4294967295,I=b+(A<<21&4294967295|A>>>11),A=T+(b^(I|~O))+k[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~b))+k[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=b+(T^(O|~I))+k[2]+718787259&4294967295,b=O+(A<<15&4294967295|A>>>17),A=I+(O^(b|~T))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var I=T-this.blockSize,k=this.B,b=this.h,O=0;O<T;){if(b==0)for(;O<=I;)a(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<T;)if(k[b++]=N.charCodeAt(O++),b==this.blockSize){a(this,k),b=0;break}}else for(;O<T;)if(k[b++]=N[O++],b==this.blockSize){a(this,k),b=0;break}}this.h=b,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var I=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=I&255,I/=256;for(this.u(N),N=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)N[I++]=this.g[T]>>>k&255;return N};function u(N,T){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function h(N,T){this.h=T;for(var I=[],k=!0,b=N.length-1;0<=b;b--){var O=N[b]|0;k&&O==T||(I[b]=O,k=!1)}this.g=I}var m={};function g(N){return-128<=N&&128>N?u(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return $(v(-N));for(var T=[],I=1,k=0;N>=I;k++)T[k]=N/I|0,I*=4294967296;return new h(T,0)}function x(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return $(x(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),k=C,b=0;b<N.length;b+=8){var O=Math.min(8,N.length-b),A=parseInt(N.substring(b,b+O),T);8>O?(O=v(Math.pow(T,O)),k=k.j(O).add(v(A))):(k=k.j(I),k=k.add(v(A)))}return k}var C=g(0),R=g(1),U=g(16777216);i=h.prototype,i.m=function(){if(W(this))return-$(this).m();for(var N=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);N+=(0<=k?k:4294967296+k)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(W(this))return"-"+$(this).toString(N);for(var T=v(Math.pow(N,6)),I=this,k="";;){var b=fe(I,T).g;I=ee(I,b.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=b,H(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function W(N){return N.h==-1}i.l=function(N){return N=ee(this,N),W(N)?-1:H(N)?0:1};function $(N){for(var T=N.g.length,I=[],k=0;k<T;k++)I[k]=~N.g[k];return new h(I,~N.h).add(R)}i.abs=function(){return W(this)?$(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0,b=0;b<=T;b++){var O=k+(this.i(b)&65535)+(N.i(b)&65535),A=(O>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);k=A>>>16,O&=65535,A&=65535,I[b]=A<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ee(N,T){return N.add($(T))}i.j=function(N){if(H(this)||H(N))return C;if(W(this))return W(N)?$(this).j($(N)):$($(this).j(N));if(W(N))return $(this.j($(N)));if(0>this.l(U)&&0>N.l(U))return v(this.m()*N.m());for(var T=this.g.length+N.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<N.g.length;b++){var O=this.i(k)>>>16,A=this.i(k)&65535,Qe=N.i(b)>>>16,xt=N.i(b)&65535;I[2*k+2*b]+=A*xt,J(I,2*k+2*b),I[2*k+2*b+1]+=O*xt,J(I,2*k+2*b+1),I[2*k+2*b+1]+=A*Qe,J(I,2*k+2*b+1),I[2*k+2*b+2]+=O*Qe,J(I,2*k+2*b+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new h(I,0)};function J(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function se(N,T){this.g=N,this.h=T}function fe(N,T){if(H(T))throw Error("division by zero");if(H(N))return new se(C,C);if(W(N))return T=fe($(N),T),new se($(T.g),$(T.h));if(W(T))return T=fe(N,$(T)),new se($(T.g),T.h);if(30<N.g.length){if(W(N)||W(T))throw Error("slowDivide_ only works with positive integers.");for(var I=R,k=T;0>=k.l(N);)I=Pe(I),k=Pe(k);var b=Se(I,1),O=Se(k,1);for(k=Se(k,2),I=Se(I,2);!H(k);){var A=O.add(k);0>=A.l(N)&&(b=b.add(I),O=A),k=Se(k,1),I=Se(I,1)}return T=ee(N,b.j(T)),new se(b,T)}for(b=C;0<=N.l(T);){for(I=Math.max(1,Math.floor(N.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(I),A=O.j(T);W(A)||0<A.l(N);)I-=k,O=v(I),A=O.j(T);H(O)&&(O=R),b=b.add(O),N=ee(N,A)}return new se(b,N)}i.A=function(N){return fe(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&N.i(k);return new h(I,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|N.i(k);return new h(I,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^N.i(k);return new h(I,this.h^N.h)};function Pe(N){for(var T=N.g.length+1,I=[],k=0;k<T;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(I,N.h)}function Se(N,T){var I=T>>5;T%=32;for(var k=N.g.length-I,b=[],O=0;O<k;O++)b[O]=0<T?N.i(O+I)>>>T|N.i(O+I+1)<<32-T:N.i(O+I);return new h(b,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Bg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=x,hi=h}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $g,sa,qg,eu,Dh,Hg,Wg,Gg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in y))break e;y=y[L]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,E=!1,L={next:function(){if(!E&&y<l.length){var B=y++;return{value:f(B,l[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function x(l,f,y){return l.call.apply(l.bind,arguments)}function C(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function R(l,f,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:C,R.apply(null,arguments)}function U(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function H(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,L,B){for(var te=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)te[ze-2]=arguments[ze];return f.prototype[L].apply(E,te)}}function W(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function $(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=l.length||0,B=E.length||0;l.length=L+B;for(let te=0;te<B;te++)l[L+te]=E[te]}else l.push(E)}}class ee{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(l){return/^[\s\xa0]*$/.test(l)}function se(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Se(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function N(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)l[y]=E[y];for(let B=0;B<I.length;B++)y=I[B],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function b(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function A(){var l=me;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Qe{constructor(){this.h=this.g=null}add(f,y){const E=xt.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var xt=new ee(()=>new pt,l=>l.reset());class pt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,re=!1,me=new Qe,ie=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(V)}};var V=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var f=xt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}re=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l}();function Ce(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Pe){e:{try{fe(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}H(Ce,de);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),De=0;function Be(l,f,y,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=L,this.key=++De,this.da=this.fa=!1}function rt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xn(l){this.src=l,this.g={},this.h=0}xn.prototype.add=function(l,f,y,E,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var te=Un(l,f,E,L);return-1<te?(f=l[te],y||(f.fa=!1)):(f=new Be(f,this.src,B,!!E,L),f.fa=y,l.push(f)),f};function lr(l,f){var y=f.type;if(y in l.g){var E=l.g[y],L=Array.prototype.indexOf.call(E,f,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(rt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Un(l,f,y,E){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==f&&B.capture==!!y&&B.ha==E)return L}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),Ei={};function br(l,f,y,E,L){if(Array.isArray(f)){for(var B=0;B<f.length;B++)br(l,f[B],y,E,L);return null}return y=ho(y),l&&l[ke]?l.K(f,y,v(E)?!!E.capture:!1,L):Vr(l,f,y,!1,E,L)}function Vr(l,f,y,E,L,B){if(!f)throw Error("Invalid event type");var te=v(L)?!!L.capture:!!L,ze=cr(l);if(ze||(l[zn]=ze=new xn(l)),y=ze.add(f,y,E,te,B),y.proxy)return y;if(E=xi(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Te||(L=te),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(hn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function xi(){function l(y){return f.call(l.src,l.listener,y)}const f=Or;return l}function ur(l,f,y,E,L){if(Array.isArray(f))for(var B=0;B<f.length;B++)ur(l,f[B],y,E,L);else E=v(E)?!!E.capture:!!E,y=ho(y),l&&l[ke]?(l=l.i,f=String(f).toString(),f in l.g&&(B=l.g[f],y=Un(B,y,E,L),-1<y&&(rt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete l.g[f],l.h--)))):l&&(l=cr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Un(f,y,E,L)),(y=-1<l?f[l]:null)&&cn(y))}function cn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ke])lr(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(hn(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=cr(f))?(lr(y,l),y.h==0&&(y.src=null,f[zn]=null)):rt(l)}}}function hn(l){return l in Ei?Ei[l]:Ei[l]="on"+l}function Or(l,f){if(l.da)l=!0;else{f=new Ce(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&cn(l),l=y.call(E,f)}return l}function cr(l){return l=l[zn],l instanceof xn?l:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(l){return typeof l=="function"?l:(l[we]||(l[we]=function(f){return l.handleEvent(f)}),l[we])}function mt(){G.call(this),this.i=new xn(this),this.M=this,this.F=null}H(mt,G),mt.prototype[ke]=!0,mt.prototype.removeEventListener=function(l,f,y,E){ur(this,l,f,y,E)};function gt(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var L=f;f=new de(E,l),k(f,L)}if(L=!0,y)for(var B=y.length-1;0<=B;B--){var te=f.g=y[B];L=hr(te,E,!0,f)&&L}if(te=f.g=l,L=hr(te,E,!0,f)&&L,L=hr(te,E,!1,f)&&L,y)for(B=0;B<y.length;B++)te=f.g=y[B],L=hr(te,E,!1,f)&&L}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)rt(y[E]);delete l.g[f],l.h--}}this.F=null},mt.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},mt.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function hr(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,B=0;B<f.length;++B){var te=f[B];if(te&&!te.da&&te.capture==y){var ze=te.listener,yt=te.ha||te.src;te.fa&&lr(l.i,te),L=ze.call(yt,E)!==!1&&L}}return L&&!E.defaultPrevented}function fo(l,f,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Lr(l){l.g=fo(()=>{l.g=null,l.i&&(l.i=!1,Lr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Ti extends G{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(l){G.call(this),this.h=l,this.g={}}H(Si,G);var po=[];function mo(l){Se(l.g,function(f,y){this.g.hasOwnProperty(y)&&cn(f)},l),l.g={}}Si.prototype.N=function(){Si.aa.N.call(this),mo(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var go=m.JSON.stringify,yo=m.JSON.parse,vo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Ci(){}Ci.prototype.h=null;function ss(l){return l.h||(l.h=l.i())}function os(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){de.call(this,"d")}H(Bn,de);function as(){de.call(this,"c")}H(as,de);var $n={},_o=null;function Ii(){return _o=_o||new mt}$n.La="serverreachability";function wo(l){de.call(this,$n.La,l)}H(wo,de);function dr(l){const f=Ii();gt(f,new wo(f))}$n.STAT_EVENT="statevent";function Eo(l,f){de.call(this,$n.STAT_EVENT,l),this.stat=f}H(Eo,de);function it(l){const f=Ii();gt(f,new Eo(f,l))}$n.Ma="timingevent";function ls(l,f){de.call(this,$n.Ma,l),this.size=f}H(ls,de);function Tn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Ai(l,f,y,E,L,B){l.info(function(){if(l.g)if(B)for(var te="",ze=B.split("&"),yt=0;yt<ze.length;yt++){var be=ze[yt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var lt=Tt.split("_");te=2<=lt.length&&lt[1]=="type"?te+(Tt+"="+be+"&"):te+(Tt+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+y+`
`+te})}function us(l,f,y,E,L,B,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+y+`
`+B+" "+te})}function Sn(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vu(l,y)+(E?" "+E:"")})}function xo(l,f){l.info(function(){return"TIMEOUT: "+f})}Ri.prototype.info=function(){};function Vu(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return go(y)}catch{return f}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Na={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function Pi(){}H(Pi,Ci),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Cn=new Pi;function In(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Da}function Da(){this.i=null,this.g="",this.h=!1}var To={},hs={};function ds(l,f,y){l.L=1,l.v=zr(rn(f)),l.m=y,l.P=!0,So(l,null)}function So(l,f){l.F=Date.now(),qe(l),l.A=rn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),$r(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Da,l.g=Ya(l.j,y?f:null,!l.m),0<l.O&&(l.M=new Ti(R(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(po[0]=L.toString()),L=po);for(var B=0;B<L.length;B++){var te=br(y,L[B],E||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),dr(),Ai(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const f=this.M;f&&Qt(l)==3?f.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const lt=Qt(this.g);var f=this.g.Ba();const mn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||lt!=4||f==7||(f==8||0>=mn?dr(3):dr(2)),ki(this);var y=this.g.Z();this.X=y;t:if(ba(this)){var E=ko(this.g);l="";var L=E.length,B=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),jr(this);var te="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(B&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,us(this.i,this.u,this.A,this.l,this.R,lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,yt=this.g;if((ze=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(ze)){var be=ze;break t}}be=null}if(y=be)Sn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Co(this,y);else{this.o=!1,this.s=3,it(12),fn(this),jr(this);break e}}if(this.P){y=!0;let on;for(;!this.J&&this.C<te.length;)if(on=Ou(this,te),on==hs){lt==4&&(this.s=4,it(14),y=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==To){this.s=4,it(15),Sn(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else Sn(this.i,this.l,on,null),Co(this,on);if(ba(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||te.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)Sn(this.i,this.l,te,"[Invalid Chunked Response]"),fn(this),jr(this);else if(0<te.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Do(Tt),Tt.M=!0,it(11))}}else Sn(this.i,this.l,te,null),Co(this,te);lt==4&&fn(this),this.o&&!this.J&&(lt==4?Ts(this.j,this):(this.o=!1,qe(this)))}else vs(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fn(this),jr(this)}}}catch{}finally{}};function ba(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ou(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?hs:(y=Number(f.substring(y,E)),isNaN(y)?To:(E+=1,E+y>f.length?hs:(f=f.slice(E,E+y),l.C=E+y,f)))}In.prototype.cancel=function(){this.J=!0,fn(this)};function qe(l){l.S=Date.now()+l.I,Va(l,l.I)}function Va(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(R(l.ba,l),f)}function ki(l){l.B&&(m.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xo(this.i,this.A),this.L!=2&&(dr(),it(17)),fn(this),this.s=2,jr(this)):Va(this,this.S-l)};function jr(l){l.j.G==0||l.J||Ts(l.j,l)}function fn(l){ki(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,mo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Co(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)xs(y),Nn(y);else break e;Es(y),it(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(R(y.Za,y),6e3));if(1>=La(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else yr(y,11)}else if((l.K||y.g==l)&&xs(y),!J(f))for(L=y.Da.g.parse(f),f=0;f<L.length;f++){let be=L[f];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const Tt=be[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const lt=be[4];lt!=null&&(y.Aa=lt,y.j.info("SVER="+y.Aa));const mn=be[5];mn!=null&&typeof mn=="number"&&0<mn&&(E=1.5*mn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const on=l.g;if(on){const ji=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var B=E.h;B.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(E.D){const Cs=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(E.ya=Cs,$e(E.I,E.D,Cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=Ka(E,E.J?E.ia:null,E.W),te.K){ja(E.h,te);var ze=te,yt=E.L;yt&&(ze.I=yt),ze.B&&(ki(ze),qe(ze)),E.g=te}else Li(E);0<y.i.length&&Gn(y)}else be[0]!="stop"&&be[0]!="close"||yr(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?yr(y,7):Pt(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}dr(4)}catch{}}var Oa=class{constructor(l,f){this.g=l,this.map=f}};function Ni(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function La(l){return l.h?1:l.g?l.g.size:0}function zt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Io(l,f){l.g?l.g.add(f):l.h=f}function ja(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Ni.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ma(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return W(l.i)}function fs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function ps(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function Mr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=ps(l),E=fs(l),L=E.length,B=0;B<L;B++)f.call(void 0,E[B],y&&y[B],l)}var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),L=null;if(0<=E){var B=l[y].substring(0,E);L=l[y].substring(E+1)}else B=l[y];f(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof fr){this.h=l.h,bi(this,l.j),this.o=l.o,this.g=l.g,Fr(this,l.s),this.l=l.l;var f=l.i,y=new qn;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Ur(this,y),this.m=l.m}else l&&(f=String(l).match(Di))?(this.h=!1,bi(this,f[1]||"",!0),this.o=Ne(f[2]||""),this.g=Ne(f[3]||"",!0),Fr(this,f[4]),this.l=Ne(f[5]||"",!0),Ur(this,f[6]||"",!0),this.m=Ne(f[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}fr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Br(f,ms,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Br(f,ms,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Br(y,y.charAt(0)=="/"?za:Ua,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Br(y,Ro)),l.join("")};function rn(l){return new fr(l)}function bi(l,f,y){l.j=y?Ne(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Fr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ur(l,f,y){f instanceof qn?(l.i=f,Hn(l.i,l.h)):(y||(f=Br(f,Ba)),l.i=new qn(f,l.h))}function $e(l,f,y){l.i.set(f,y)}function zr(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ne(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Br(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Fa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Fa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ms=/[#\/\?@]/g,Ua=/[#\?:]/g,za=/[#\?]/g,Ba=/[#\?@]/g,Ro=/#/g;function qn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&Lu(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=qn.prototype,i.add=function(l,f){At(this),this.i=null,l=pn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Rn(l,f){At(l),f=pn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function An(l,f){return At(l),f=pn(l,f),l.g.has(f)}i.forEach=function(l,f){At(this),this.g.forEach(function(y,E){y.forEach(function(L){l.call(f,L,E,this)},this)},this)},i.na=function(){At(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const L=l[E];for(let B=0;B<L.length;B++)y.push(f[E])}return y},i.V=function(l){At(this);let f=[];if(typeof l=="string")An(this,l)&&(f=f.concat(this.g.get(pn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return At(this),this.i=null,l=pn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function $r(l,f,y){Rn(l,f),0<y.length&&(l.i=null,l.g.set(pn(l,f),W(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const B=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var L=B;te[E]!==""&&(L+="="+encodeURIComponent(String(te[E]))),l.push(L)}}return this.i=l.join("&")};function pn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Hn(l,f){f&&!l.j&&(At(l),l.i=null,l.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Rn(this,E),$r(this,L,y))},l)),l.j=f}function ju(l,f){const y=new Ri;if(m.Image){const E=new Image;E.onload=U(Gt,y,"TestLoadImage: loaded",!0,f,E),E.onerror=U(Gt,y,"TestLoadImage: error",!1,f,E),E.onabort=U(Gt,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=U(Gt,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function $a(l,f){const y=new Ri,E=new AbortController,L=setTimeout(()=>{E.abort(),Gt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Gt(y,"TestPingServer: ok",!0,f):Gt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Gt(y,"TestPingServer: error",!1,f)})}function Gt(l,f,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function Mu(){this.g=new vo}function qa(l,f,y){const E=y||"";try{Mr(l,function(L,B){let te=L;v(L)&&(te=go(L)),f.push(E+B+"="+encodeURIComponent(te))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function pr(l){this.l=l.Ub||null,this.j=l.eb||!1}H(pr,Ci),pr.prototype.g=function(){return new Vi(this.l,this.j)},pr.prototype.i=function(l){return function(){return l}}({});function Vi(l,f){mt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Vi,mt),i=Vi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,kn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ha(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ha(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Pn(this):kn(this),this.readyState==3&&Ha(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Pn(this))},i.Qa=function(l){this.g&&(this.response=l,Pn(this))},i.ga=function(){this.g&&Pn(this)};function Pn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,kn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function kn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function mr(l){let f="";return Se(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function qr(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=mr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):$e(l,f,y))}function Ke(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Ke,mt);var Fu=/^https?$/i,Ao=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?ss(this.o):ss(Cn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){Oi(this,B);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ao,f,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of y)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Oi(this,B)}};function Oi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,gs(l),sn(l)}function gs(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),sn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Po(this):this.bb())},i.bb=function(){Po(this)};function Po(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Qt(l)!=4||l.Z()!=2)){if(l.u&&Qt(l)==4)fo(l.Ea,0,l);else if(gt(l,"readystatechange"),Qt(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=te===0){var L=String(l.D).match(Di)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!Fu.test(L?L.toLowerCase():"")}y=E}if(y)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var B=2<Qt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",gs(l)}}finally{sn(l)}}}}function sn(l,f){if(l.g){ys(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||gt(l,"ready");try{y.onreadystatechange=E}catch{}}}function ys(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),yo(f)}};function ko(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const f={};l=(l.g&&2<=Qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(J(l[E]))continue;var y=b(l[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=f[L]||[];f[L]=B,B.push(y)}N(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function No(l){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,l),this.cb=Wn("retryDelaySeedMs",1e4,l),this.Wa=Wn("forwardChannelMaxRetries",2,l),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(l&&l.concurrentRequestLimit),this.Da=new Mu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=No.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,E){it(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ka(this,null,this.W),Gn(this)};function Pt(l){if(_s(l),l.G==3){var f=l.U++,y=rn(l.I);if($e(y,"SID",l.K),$e(y,"RID",f),$e(y,"TYPE","terminate"),gr(l,y),f=new In(l,l.j,f),f.L=2,f.v=zr(rn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=Ya(f.j,null),f.g.ea(f.v)),f.F=Date.now(),qe(f)}Qa(l)}function Nn(l){l.g&&(Do(l),l.g.cancel(),l.g=null)}function _s(l){Nn(l),l.u&&(m.clearTimeout(l.u),l.u=null),xs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Gn(l){if(!nn(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ue||ie(),re||(Ue(),re=!0),me.add(f,l),l.B=0}}function Uu(l,f){return La(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(R(l.Ga,l,f),Ga(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new In(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Hr(this,L,f),y=rn(this.I),$e(y,"RID",l),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),gr(this,y),B&&(this.O?f="headers="+encodeURIComponent(String(mr(B)))+"&"+f:this.m&&qr(y,this.m,B)),Io(this.h,L),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",f),$e(y,"SID","null"),L.T=!0,ds(L,y,null)):ds(L,y,f),this.G=2}}else this.G==3&&(l?ws(this,l):this.i.length==0||nn(this.h)||ws(this))};function ws(l,f){var y;f?y=f.l:y=l.U++;const E=rn(l.I);$e(E,"SID",l.K),$e(E,"RID",y),$e(E,"AID",l.T),gr(l,E),l.m&&l.o&&qr(E,l.m,l.o),y=new In(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Hr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Io(l.h,y),ds(y,E,f)}function gr(l,f){l.H&&Se(l.H,function(y,E){$e(f,E,y)}),l.l&&Mr({},function(y,E){$e(f,E,y)})}function Hr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?R(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const te=["count="+y];B==-1?0<y?(B=L[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let ze=!0;for(let yt=0;yt<y;yt++){let be=L[yt].g;const Tt=L[yt].map;if(be-=B,0>be)B=Math.max(0,L[yt].g-100),ze=!1;else try{qa(Tt,te,"req"+be+"_")}catch{E&&E(Tt)}}if(ze){E=te.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function Li(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ue||ie(),re||(Ue(),re=!0),me.add(f,l),l.v=0}}function Es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(R(l.Fa,l),Ga(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(R(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Nn(this),Wa(this))};function Do(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Wa(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=rn(l.qa);$e(f,"RID","rpc"),$e(f,"SID",l.K),$e(f,"AID",l.T),$e(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(f,"TO",l.ja),$e(f,"TYPE","xmlhttp"),gr(l,f),l.m&&l.o&&qr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=zr(rn(f)),y.m=null,y.P=!0,So(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Nn(this),Es(this),it(19))};function xs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Ts(l,f){var y=null;if(l.g==f){xs(l),Do(l),l.g=null;var E=2}else if(zt(l.h,f))y=f.D,ja(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=Ii(),gt(E,new ls(E,y)),Gn(l)}else Li(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&Uu(l,f)||E==2&&Es(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),L){case 1:yr(l,5);break;case 4:yr(l,10);break;case 3:yr(l,6);break;default:yr(l,2)}}}function Ga(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function yr(l,f){if(l.j.info("Error code "+f),f==2){var y=R(l.fb,l),E=l.Xa;const L=!E;E=new fr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bi(E,"https"),zr(E),L?ju(E.toString(),y):$a(E.toString(),y)}else it(2);l.G=0,l.l&&l.l.sa(f),Qa(l),_s(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Qa(l){if(l.G=0,l.ka=[],l.l){const f=Ma(l.h);(f.length!=0||l.i.length!=0)&&($(l.ka,f),$(l.ka,l.i),l.h.i.length=0,W(l.i),l.i.length=0),l.l.ra()}}function Ka(l,f,y){var E=y instanceof fr?rn(y):new fr(y);if(E.g!="")f&&(E.g=f+"."+E.g),Fr(E,E.s);else{var L=m.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var B=new fr(null);E&&bi(B,E),f&&(B.g=f),L&&Fr(B,L),y&&(B.l=y),E=B}return y=l.D,f=l.ya,y&&f&&$e(E,y,f),$e(E,"VER",l.la),gr(l,E),E}function Ya(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ke(new pr({eb:y})):new Ke(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}i=bo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ss(){}Ss.prototype.g=function(l,f){return new Bt(l,f)};function Bt(l,f){mt.call(this),this.g=new No(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!J(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Qn(this)}H(Bt,mt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Pt(this.g)},Bt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=go(l),l=y);f.i.push(new Oa(f.Ya++,l)),f.G==3&&Gn(f)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Bt.aa.N.call(this)};function Xa(l){Bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}H(Xa,Bn);function Ja(){as.call(this),this.status=1}H(Ja,as);function Qn(l){this.g=l}H(Qn,bo),Qn.prototype.ua=function(){gt(this.g,"a")},Qn.prototype.ta=function(l){gt(this.g,new Xa(l))},Qn.prototype.sa=function(l){gt(this.g,new Ja)},Qn.prototype.ra=function(){gt(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Gg=function(){return new Ss},Wg=function(){return Ii()},Hg=$n,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,eu=cs,Na.COMPLETE="complete",qg=Na,os.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,sa=os,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,$g=Ke}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const mm="@firebase/firestore",gm="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Lg("@firebase/firestore");function Ws(){return ts.logLevel}function ae(i,...e){if(ts.logLevel<=Oe.DEBUG){const n=e.map(ud);ts.debug(`Firestore (${lo}): ${i}`,...n)}}function kr(i,...e){if(ts.logLevel<=Oe.ERROR){const n=e.map(ud);ts.error(`Firestore (${lo}): ${i}`,...n)}}function pi(i,...e){if(ts.logLevel<=Oe.WARN){const n=e.map(ud);ts.warn(`Firestore (${lo}): ${i}`,...n)}}function ud(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Qg(i,s,n)}function Qg(i,e,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw kr(s),new Error(s)}function tt(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Qg(e,a,s)}function Le(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class oE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aE{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ji,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ji)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new Kg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class lE{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uE{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,B1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ym(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ym(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hE(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function bh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Re(s,a);{const u=Yg(),h=dE(u.encode(vm(i,n)),u.encode(vm(e,n)));return h!==0?h:Re(s,a)}}n+=s>65535?2:1}return Re(i.length,e.length)}function vm(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function dE(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Re(i[n],e[n]);return Re(i.length,e.length)}function Zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="__name__";class Zn{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=Zn.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Re(e.length,n.length)}static compareSegments(e,n){const s=Zn.isNumericId(e),a=Zn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Zn.extractNumericId(e).compare(Zn.extractNumericId(n)):bh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class Ze extends Zn{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const fE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Zn{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return fE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_m}static keyField(){return new Ht([_m])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ze.fromString(e))}static fromName(e){return new ve(Ze.fromString(e).popFirst(5))}static empty(){return new ve(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function mE(i,e,n,s){if(e===!0&&s===!0)throw new pe(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function wm(i){if(!ve.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yE(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Vh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yE(i);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ia(i,e){if(!gE(i))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-62135596800,xm=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*xm);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Em)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xm}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ia(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Em;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:dt("string",ht._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ht(0,0))}static max(){return new Ee(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=-1;function vE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new mi(a,ve.empty(),e)}function _E(i){return new mi(i.readTime,i.key,va)}class mi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new mi(Ee.min(),ve.empty(),va)}static max(){return new mi(Ee.max(),ve.empty(),va)}}function wE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==EE)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,s)=>{n(e)})}static reject(e){return new Q((n,s)=>{s(e)})}static waitFor(e){return new Q((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next(a=>a?Q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new Q((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(x=>{h[v]=x,++m,m===u&&s(h)},x=>a(x))}})}static doWhile(e,n){return new Q((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function TE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=-1;function Tu(i){return i==null}function Oh(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="";function CE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Tm(e)),e=IE(i.get(n),e);return Tm(e)}function IE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case Xg:n+="";break;default:n+=u}}return n}function Tm(i){return i+Xg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function RE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ql(this.root,e,this.comparator,!0)}}class Ql{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Dt.RED,this.left=a??Dt.EMPTY,this.right=u??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Dt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Dt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,u){return this}insert(e,n,s){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Cm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new ai([])}unionWith(e){let n=new Et(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Jg("Invalid base64 string: "+u):u}}(e);return new bt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const AE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(i){if(tt(!!i,39018),typeof i=="string"){let e=0;const n=AE.exec(i);if(tt(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function yi(i){return typeof i=="string"?bt.fromBase64String(i):bt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="server_timestamp",ey="__type__",ty="__previous_value__",ny="__local_write_time__";function hd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ey])===null||n===void 0?void 0:n.stringValue)===Zg}function Su(i){const e=i.mapValue.fields[ty];return hd(e)?Su(e):e}function _a(i){const e=gi(i.mapValue.fields[ny].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,a,u,h,m,g,v,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=x}}const cu="(default)";class wa{constructor(e,n){this.projectId=e,this.database=n||cu}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===cu}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",ry="__max__",Kl={mapValue:{fields:{__type__:{stringValue:ry}}}},NE="__vector__",Lh="value";function vi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hd(i)?4:bE(i)?9007199254740991:DE(i)?10:11:xe(28295,{value:i})}function rr(i,e){if(i===e)return!0;const n=vi(i);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _a(i).isEqual(_a(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=gi(a.timestampValue),m=gi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return yi(a.bytesValue).isEqual(yi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return ot(a.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ot(a.integerValue)===ot(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=ot(a.doubleValue),m=ot(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Zs(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Sm(h)!==Sm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!rr(h[g],m[g])))return!1;return!0}(i,e);default:return xe(52216,{left:i})}}function Ea(i,e){return(i.values||[]).find(n=>rr(n,e))!==void 0}function eo(i,e){if(i===e)return 0;const n=vi(i),s=vi(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ot(u.integerValue||u.doubleValue),g=ot(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Im(i.timestampValue,e.timestampValue);case 4:return Im(_a(i),_a(e));case 5:return bh(i.stringValue,e.stringValue);case 6:return function(u,h){const m=yi(u),g=yi(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const x=Re(m[v],g[v]);if(x!==0)return x}return Re(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Re(ot(u.latitude),ot(h.latitude));return m!==0?m:Re(ot(u.longitude),ot(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Rm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,x;const C=u.fields||{},R=h.fields||{},U=(m=C[Lh])===null||m===void 0?void 0:m.arrayValue,H=(g=R[Lh])===null||g===void 0?void 0:g.arrayValue,W=Re(((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0,((x=H==null?void 0:H.values)===null||x===void 0?void 0:x.length)||0);return W!==0?W:Rm(U,H)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Kl.mapValue&&h===Kl.mapValue)return 0;if(u===Kl.mapValue)return 1;if(h===Kl.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},x=Object.keys(v);g.sort(),x.sort();for(let C=0;C<g.length&&C<x.length;++C){const R=bh(g[C],x[C]);if(R!==0)return R;const U=eo(m[g[C]],v[x[C]]);if(U!==0)return U}return Re(g.length,x.length)}(i.mapValue,e.mapValue);default:throw xe(23264,{le:n})}}function Im(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=gi(i),s=gi(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Rm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=eo(n[a],s[a]);if(u)return u}return Re(n.length,s.length)}function to(i){return jh(i)}function jh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=gi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return yi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=jh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${jh(n.fields[h])}`;return a+"}"}(i.mapValue):xe(61005,{value:i})}function tu(i){switch(vi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Su(i);return e?16+tu(e):16;case 5:return 2*i.stringValue.length;case 6:return yi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+tu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ra(s.fields,(u,h)=>{a+=u.length+tu(h)}),a}(i.mapValue);default:throw xe(13486,{value:i})}}function Mh(i){return!!i&&"integerValue"in i}function dd(i){return!!i&&"arrayValue"in i}function Am(i){return!!i&&"nullValue"in i}function Pm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function DE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[kE])===null||n===void 0?void 0:n.stringValue)===NE}function ca(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ca(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(i.arrayValue.values[n]);return e}return Object.assign({},i)}function bE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ry}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=Ht.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=ca(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new er(ca(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,Ee.min(),Ee.min(),Ee.min(),er.empty(),0)}static newFoundDocument(e,n,s,a){return new Ut(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ut(e,2,n,Ee.min(),Ee.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Ee.min(),Ee.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.position=e,this.inclusive=n}}function km(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function VE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{}class wt extends iy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LE(e,n,s):n==="array-contains"?new FE(e,s):n==="in"?new UE(e,s):n==="not-in"?new zE(e,s):n==="array-contains-any"?new BE(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jE(e,s):new ME(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends iy{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ir(e,n)}matches(e){return sy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function sy(i){return i.op==="and"}function oy(i){return OE(i)&&sy(i)}function OE(i){for(const e of i.filters)if(e instanceof ir)return!1;return!0}function Fh(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+to(i.value);if(oy(i))return i.filters.map(e=>Fh(e)).join(",");{const e=i.filters.map(n=>Fh(n)).join(",");return`${i.op}(${e})`}}function ay(i,e){return i instanceof wt?function(s,a){return a instanceof wt&&s.op===a.op&&s.field.isEqual(a.field)&&rr(s.value,a.value)}(i,e):i instanceof ir?function(s,a){return a instanceof ir&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&ay(h,a.filters[m]),!0):!1}(i,e):void xe(19439)}function ly(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(i):i instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(ly).join(" ,")+"}"}(i):"Filter"}class LE extends wt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class jE extends wt{constructor(e,n){super(e,"in",n),this.keys=uy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ME extends wt{constructor(e,n){super(e,"not-in",n),this.keys=uy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class FE extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dd(n)&&Ea(n.arrayValue,this.value)}}class UE extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class zE extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class BE extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function Dm(i,e=null,n=[],s=[],a=null,u=null,h=null){return new $E(i,e,n,s,a,u,h)}function fd(i){const e=Le(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Pe=n}return e.Pe}function pd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!VE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ay(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nm(i.startAt,e.startAt)&&Nm(i.endAt,e.endAt)}function Uh(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qE(i,e,n,s,a,u,h,m){return new Cu(i,e,n,s,a,u,h,m)}function md(i){return new Cu(i)}function bm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function HE(i){return i.collectionGroup!==null}function ha(i){const e=Le(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Et(Ht.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new du(u,s))}),n.has(Ht.keyField().canonicalString())||e.Te.push(new du(Ht.keyField(),s))}return e.Te}function nr(i){const e=Le(i);return e.Ie||(e.Ie=WE(e,ha(i))),e.Ie}function WE(i,e){if(i.limitType==="F")return Dm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new du(a.field,u)});const n=i.endAt?new hu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new hu(i.startAt.position,i.startAt.inclusive):null;return Dm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function zh(i,e,n){return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Iu(i,e){return pd(nr(i),nr(e))&&i.limitType===e.limitType}function cy(i){return`${fd(nr(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>ly(a)).join(", ")}]`),Tu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>to(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>to(a)).join(",")),`Target(${s})`}(nr(i))}; limitType=${i.limitType})`}function Ru(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of ha(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=km(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,ha(s),a)||s.endAt&&!function(h,m,g){const v=km(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,ha(s),a))}(i,e)}function GE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hy(i){return(e,n)=>{let s=!1;for(const a of ha(i)){const u=QE(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function QE(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?eo(g,v):xe(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new at(ve.comparator);function _i(){return KE}const dy=new at(ve.comparator);function oa(...i){let e=dy;for(const n of i)e=e.insert(n.key,n);return e}function YE(i){let e=dy;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Xi(){return da()}function fy(){return da()}function da(){return new is(i=>i.toString(),(i,e)=>i.isEqual(e))}const XE=new Et(ve.comparator);function Me(...i){let e=XE;for(const n of i)e=e.add(n);return e}const JE=new Et(Re);function ZE(){return JE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function tx(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this._=void 0}}function nx(i,e,n){return i instanceof Bh?function(a,u){const h={fields:{[ey]:{stringValue:Zg},[ny]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&hd(u)&&(u=Su(u)),u&&(h.fields[ty]=u),{mapValue:h}}(n,e):i instanceof fu?py(i,e):i instanceof pu?my(i,e):function(a,u){const h=ix(a,u),m=Vm(h)+Vm(a.Ee);return Mh(h)&&Mh(a.Ee)?tx(m):ex(a.serializer,m)}(i,e)}function rx(i,e,n){return i instanceof fu?py(i,e):i instanceof pu?my(i,e):n}function ix(i,e){return i instanceof $h?function(s){return Mh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Bh extends Au{}class fu extends Au{constructor(e){super(),this.elements=e}}function py(i,e){const n=gy(e);for(const s of i.elements)n.some(a=>rr(a,s))||n.push(s);return{arrayValue:{values:n}}}class pu extends Au{constructor(e){super(),this.elements=e}}function my(i,e){let n=gy(e);for(const s of i.elements)n=n.filter(a=>!rr(a,s));return{arrayValue:{values:n}}}class $h extends Au{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Vm(i){return ot(i.integerValue||i.doubleValue)}function gy(i){return dd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function sx(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof fu&&a instanceof fu||s instanceof pu&&a instanceof pu?Zs(s.elements,a.elements,rr):s instanceof $h&&a instanceof $h?rr(s.Ee,a.Ee):s instanceof Bh&&a instanceof Bh}(i.transform,e.transform)}class Zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class gd{}function yy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ax(i.key,Zi.none()):new yd(i.key,i.data,Zi.none());{const n=i.data,s=er.empty();let a=new Et(Ht.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Pu(i.key,s,new ai(a.toArray()),Zi.none())}}function ox(i,e,n){i instanceof yd?function(a,u,h){const m=a.value.clone(),g=Lm(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Pu?function(a,u,h){if(!nu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Lm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(vy(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function fa(i,e,n,s){return i instanceof yd?function(u,h,m,g){if(!nu(u.precondition,h))return m;const v=u.value.clone(),x=jm(u.fieldTransforms,g,h);return v.setAll(x),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Pu?function(u,h,m,g){if(!nu(u.precondition,h))return m;const v=jm(u.fieldTransforms,g,h),x=h.data;return x.setAll(vy(u)),x.setAll(v),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(u,h,m){return nu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function Om(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zs(s,a,(u,h)=>sx(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yd extends gd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pu extends gd{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Lm(i,e,n){const s=new Map;tt(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,rx(h,m,n[a]))}return s}function jm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,nx(u,h,e))}return s}class ax extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&ox(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=fy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=yy(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,s)=>Om(n,s))&&Zs(this.baseMutations,e.baseMutations,(n,s)=>Om(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ve;function _y(i){if(i===void 0)return kr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case ct.OK:return ne.OK;case ct.CANCELLED:return ne.CANCELLED;case ct.UNKNOWN:return ne.UNKNOWN;case ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case ct.INTERNAL:return ne.INTERNAL;case ct.UNAVAILABLE:return ne.UNAVAILABLE;case ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case ct.NOT_FOUND:return ne.NOT_FOUND;case ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case ct.ABORTED:return ne.ABORTED;case ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case ct.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Ve=ct||(ct={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new hi([4294967295,4294967295],0);function Mm(i){const e=Yg().encode(i),n=new Bg;return n.update(e),new Uint8Array(n.digest())}function Fm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hi([n,s],0),new hi([a,u],0)]}class vd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(s<0)throw new aa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=hi.fromNumber(this.fe)}pe(e,n,s){let a=e.add(n.multiply(hi.fromNumber(s)));return a.compare(hx)===1&&(a=new hi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Mm(e),[s,a]=Fm(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,a,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new vd(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=Mm(e),[s,a]=Fm(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,a,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ku(Ee.min(),a,new at(Re),_i(),Me())}}class Aa{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Aa(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=a}}class wy{constructor(e,n){this.targetId=e,this.De=n}}class Ey{constructor(e,n,s=bt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Um{constructor(){this.ve=0,this.Ce=zm(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),n=Me(),s=Me();return this.Ce.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:u})}}),new Aa(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=zm()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class dx{constructor(e){this.We=e,this.Ge=new Map,this.ze=_i(),this.je=Yl(),this.Je=Yl(),this.He=new at(Re)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,s=e.De.count,a=this.st(n);if(a){const u=a.target;if(Uh(u))if(s===0){const h=new ve(u.path);this.Xe(n,h,Ut.newNoDocument(h,Ee.min()))}else tt(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,v)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=yi(s).toUint8Array()}catch(g){if(g instanceof Jg)return pi("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new vd(h,a,u)}catch(g){return pi(g instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Uh(m.target)){const g=new ve(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Ut.newNoDocument(g,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=Me();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.st(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const a=new ku(e,n,this.He,this.ze,s);return this.ze=_i(),this.je=Yl(),this.Je=Yl(),this.He=new at(Re),a}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Um,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Et(Re),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Et(Re),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Um),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new at(ve.comparator)}function zm(){return new at(ve.comparator)}const fx={asc:"ASCENDING",desc:"DESCENDING"},px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mx={and:"AND",or:"OR"};class gx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qh(i,e){return i.useProto3Json||Tu(e)?e:{value:e}}function yx(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Xs(i){return tt(!!i,49232),Ee.fromTimestamp(function(n){const s=gi(n);return new ht(s.seconds,s.nanos)}(i))}function _x(i,e){return Hh(i,e).canonicalString()}function Hh(i,e){const n=function(a){return new Ze(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function xy(i){const e=Ze.fromString(i);return tt(Ry(e),10190,{key:e.toString()}),e}function Eh(i,e){const n=xy(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Sy(n))}function Ty(i,e){return _x(i.databaseId,e)}function wx(i){const e=xy(i);return e.length===4?Ze.emptyPath():Sy(e)}function Bm(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sy(i){return tt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Ex(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,x){return v.useProto3Json?(tt(x===void 0||typeof x=="string",58123),bt.fromBase64String(x||"")):(tt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),bt.fromUint8Array(x||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const x=v.code===void 0?ne.UNKNOWN:_y(v.code);return new pe(x,v.message||"")}(h);n=new Ey(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eh(i,s.document.name),u=Xs(s.document.updateTime),h=s.document.createTime?Xs(s.document.createTime):Ee.min(),m=new er({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(a,u,h,m),v=s.targetIds||[],x=s.removedTargetIds||[];n=new ru(v,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eh(i,s.document),u=s.readTime?Xs(s.readTime):Ee.min(),h=Ut.newNoDocument(a,u),m=s.removedTargetIds||[];n=new ru([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eh(i,s.document),u=s.removedTargetIds||[];n=new ru([],u,a,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new cx(a,u),m=s.targetId;n=new wy(m,h)}}return n}function xx(i,e){return{documents:[Ty(i,e.path)]}}function Tx(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ty(i,a);const u=function(v){if(v.length!==0)return Iy(ir.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(x=>function(R){return{field:Qs(R.field),direction:Ix(R.dir)}}(x))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=qh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:n,parent:a}}function Sx(i){let e=wx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){tt(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=function(C){const R=Cy(C);return R instanceof ir&&oy(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(C){return C.map(R=>function(H){return new du(Ks(H.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(C){let R;return R=typeof C=="object"?C.value:C,Tu(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(C){const R=!!C.before,U=C.values||[];return new hu(U,R)}(n.startAt));let v=null;return n.endAt&&(v=function(C){const R=!C.before,U=C.values||[];return new hu(U,R)}(n.endAt)),qE(e,a,h,u,m,"F",g,v)}function Cx(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ks(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ks(n.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(n.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(i):i.fieldFilter!==void 0?function(n){return wt.create(Ks(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(s=>Cy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(i):xe(30097,{filter:i})}function Ix(i){return fx[i]}function Rx(i){return px[i]}function Ax(i){return mx[i]}function Qs(i){return{fieldPath:i.canonicalString()}}function Ks(i){return Ht.fromServerFormat(i.fieldPath)}function Iy(i){return i instanceof wt?function(n){if(n.op==="=="){if(Pm(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(Am(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pm(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(Am(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:Rx(n.op),value:n.value}}}(i):i instanceof ir?function(n){const s=n.getFilters().map(a=>Iy(a));return s.length===1?s[0]:{compositeFilter:{op:Ax(n.op),filters:s}}}(i):xe(54877,{filter:i})}function Ry(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,s,a,u=Ee.min(),h=Ee.min(),m=bt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.gt=e}}function kx(i){const e=Sx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Dn=new Dx}addToCollectionParentIndex(e,n){return this.Dn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(mi.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Dx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Et(Ze.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Et(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ay=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Ay,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new no(0)}static ur(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LruGarbageCollector",bx=1048576;function Hm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class Vx{constructor(e){this.Tr=e,this.buffer=new Et(Hm),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Hm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(qm,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?ae(qm,"Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Rr(3e5)})}}class Lx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(xu.ue);const s=new Vx(n);return this.Vr.forEachTarget(e,a=>s.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>s.Er(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve($m)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$m):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,a,u,h,m,g,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,h=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(u=C,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),Ws()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${C} documents in `+(v-g)+`ms
Total Duration: ${v-x}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:C})))}}function jx(i,e){return new Lx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.changes=new is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&fa(s.mutation,a,ai.empty(),ht.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const a=Xi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=oa();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=_i();const h=da(),m=function(){return da()}();return n.forEach((g,v)=>{const x=s.get(v.key);a.has(v.key)&&(x===void 0||x.mutation instanceof Pu)?u=u.insert(v.key,v):x!==void 0?(h.set(v.key,x.mutation.getFieldMask()),fa(x.mutation,v,x.mutation.getFieldMask(),ht.now())):h.set(v.key,ai.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,x)=>h.set(v,x)),n.forEach((v,x)=>{var C;return m.set(v,new Fx(x,(C=h.get(v))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=da();let a=new at((h,m)=>h-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let x=s.get(g)||ai.empty();x=m.applyToLocalView(v,x),s.set(g,x);const C=(a.get(m.batchId)||Me()).add(g);a=a.insert(m.batchId,C)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,x=g.value,C=fy();x.forEach(R=>{if(!u.has(R)){const U=yy(n.get(R),s.get(R));U!==null&&C.set(R,U),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):Q.resolve(Xi());let m=va,g=u;return h.next(v=>Q.forEach(v,(x,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(x)?Q.resolve():this.remoteDocumentCache.getEntry(e,x).next(R=>{g=g.insert(x,R)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Me())).next(x=>({batchId:m,changes:YE(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let a=oa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=oa();return this.indexManager.getCollectionParents(e,u).next(m=>Q.forEach(m,g=>{const v=function(C,R){return new Cu(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(x=>{x.forEach((C,R)=>{h=h.insert(C,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const x=v.getKey();h.get(x)===null&&(h=h.insert(x,Ut.newInvalidDocument(x)))});let m=oa();return h.forEach((g,v)=>{const x=u.get(g);x!==void 0&&fa(x.mutation,v,ai.empty(),ht.now()),Ru(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Xs(a.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:kx(a.bundledQuery),readTime:Xs(a.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.overlays=new at(ve.comparator),this.kr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xi();return Q.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.wt(e,n,u)}),Q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const a=Xi(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new at((v,x)=>v-x);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let x=u.get(v.largestBatchId);x===null&&(x=Xi(),u=u.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const m=Xi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,x)=>m.set(v,x)),!(m.size()>=a)););return Q.resolve(m)}wt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ux(n,s));let u=this.kr.get(n);u===void 0&&(u=Me(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.qr=new Et(Rt.Qr),this.$r=new Et(Rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Rt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Rt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ve(new Ze([])),s=new Rt(n,e),a=new Rt(n,e+1),u=[];return this.$r.forEachInRange([s,a],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ve(new Ze([])),s=new Rt(n,e),a=new Rt(n,e+1);let u=Me();return this.$r.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Rt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ve.comparator(e.key,n.key)||Re(e.Hr,n.Hr)}static Ur(e,n){return Re(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Et(Rt.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new lx(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Yr=this.Yr.add(new Rt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),u=a<0?0:a;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?SE:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Rt(n,0),a=new Rt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,a],h=>{const m=this.Zr(h.Hr);u.push(m)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Et(Re);return n.forEach(a=>{const u=new Rt(a,0),h=new Rt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),Q.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Rt(new ve(u),0);let m=new Et(Re);return this.Yr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Hr)),!0)},h),Q.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const a=this.Zr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){tt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Q.forEach(n.mutations,a=>{const u=new Rt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Rt(n,0),a=this.Yr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.ni=e,this.docs=function(){return new at(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let s=_i();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ut.newInvalidDocument(a))}),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=_i();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:x}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||wE(_E(x),s)<=0||(a.has(x.key)||Ru(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ri(e,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Wx(this)}getSize(e){return Q.resolve(this.size)}}class Wx extends Mx{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)}),Q.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.persistence=e,this.ii=new is(n=>fd(n),pd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.si=0,this.oi=new _d,this.targetCount=0,this._i=no.ar()}forEachTarget(e,n){return this.ii.forEach((s,a)=>n(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Q.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new no(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.hr(n),Q.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Q.waitFor(u).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.ai={},this.overlays={},this.ui=new xu(0),this.ci=!1,this.ci=!0,this.li=new $x,this.referenceDelegate=e(this),this.hi=new Gx(this),this.indexManager=new Nx,this.remoteDocumentCache=function(a){return new Hx(a)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Px(n),this.Ti=new zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new qx(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new Qx(this.ui.next());return this.referenceDelegate.Ii(),s(a).next(u=>this.referenceDelegate.di(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ei(e,n){return Q.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class Qx extends xE{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ai=new _d,this.Ri=null}static Vi(e){return new wd(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,s=>{const a=ve.fromPath(s);return this.fi(e,a).next(u=>{u||n.removeEntry(a,Ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Q.or([()=>Q.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class mu{constructor(e,n){this.persistence=e,this.gi=new is(s=>CE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=jx(this,n)}static Vi(e,n){return new mu(e,n)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return Q.forEach(this.gi,(s,a)=>this.Sr(e,s,a).next(u=>u?Q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tu(e.data.value)),n}Sr(e,n,s){return Q.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=a}static Es(e,n){let s=Me(),a=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Ed(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return M0()?8:TE(L0())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Kx;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,s,a){return s.documentReadCount<this.Vs?(Ws()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Ws()<=Oe.DEBUG&&ae("QueryEngine","Query:",Gs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Ws()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):Q.resolve())}ps(e,n){if(bm(n))return Q.resolve(null);let s=nr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=zh(n,null,"F"),s=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.bs(n,m);return this.Ds(n,v,h,g.readTime)?this.ps(e,zh(n,null,"F")):this.vs(e,v,n,g)}))})))}ys(e,n,s,a){return bm(n)||a.isEqual(Ee.min())?Q.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,a)?Q.resolve(null):(Ws()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Gs(n)),this.vs(e,h,n,vE(a,va)).next(m=>m))})}bs(e,n){let s=new Et(hy(e));return n.forEach((a,u)=>{Ru(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ws(e,n,s){return Ws()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.gs.getDocumentsMatchingQuery(e,n,mi.min(),s)}vs(e,n,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",Xx=3e8;class Jx{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new at(Re),this.Ms=new is(u=>fd(u),pd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Zx(i,e,n,s){return new Jx(i,e,n,s)}async function ky(i,e){const n=Le(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Me();for(const v of a){h.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}for(const v of u){m.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Bs:v,removedBatchIds:h,addedBatchIds:m}))})})}function Ny(i){const e=Le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function eT(i,e){const n=Le(i),s=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const m=[];e.targetChanges.forEach((x,C)=>{const R=a.get(C);if(!R)return;m.push(n.hi.removeMatchingKeys(u,x.removedDocuments,C).next(()=>n.hi.addMatchingKeys(u,x.addedDocuments,C)));let U=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?U=U.withResumeToken(bt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(x.resumeToken,s)),a=a.insert(C,U),function(W,$,ee){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Xx?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(R,U,x)&&m.push(n.hi.updateTargetData(u,U))});let g=_i(),v=Me();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))}),m.push(tT(u,h,e.documentUpdates).next(x=>{g=x.Ls,v=x.ks})),!s.isEqual(Ee.min())){const x=n.hi.getLastRemoteSnapshotVersion(u).next(C=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(x)}return Q.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.Fs=a,u))}function tT(i,e,n){let s=Me(),a=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=_i();return n.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ae(xd,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Ls:h,ks:a}})}function nT(i,e){const n=Le(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.hi.getTargetData(s,e).next(u=>u?(a=u,Q.resolve(a)):n.hi.allocateTargetId(s).next(h=>(a=new li(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Wh(i,e,n){const s=Le(i),a=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!uo(h))throw h;ae(xd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function Wm(i,e,n){const s=Le(i);let a=Ee.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,x){const C=Le(g),R=C.Ms.get(x);return R!==void 0?Q.resolve(C.Fs.get(R)):C.hi.getTargetData(v,x)}(s,h,nr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?u:Me())).next(m=>(rT(s,GE(e),m),{documents:m,qs:u})))}function rT(i,e,n){let s=i.xs.get(e)||Ee.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class Gm{constructor(){this.activeTargetIds=ZE()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iT{constructor(){this.Fo=new Gm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Gm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="ConnectivityMonitor";class Km{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(Qm,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(Qm,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Gh(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="RestConnection",oT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aT{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===cu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,u){const h=Gh(),m=this.Go(e,n.toUriEncodedString());ae(xh,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,a,u);const{host:v}=new URL(m),x=ad(v);return this.jo(e,m,g,s,x).then(C=>(ae(xh,`Received RPC '${e}' ${h}: `,C),C),C=>{throw pi(xh,`RPC '${e}' ${h} failed with error: `,C,"url: ",m,"request:",s),C})}Jo(e,n,s,a,u,h){return this.Wo(e,n,s,a,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}Go(e,n){const s=oT[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class uT extends aT{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,a,u){const h=Gh();return new Promise((m,g)=>{const v=new $g;v.setWithCredentials(!0),v.listenOnce(qg.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case eu.NO_ERROR:const C=v.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(C)),m(C);break;case eu.TIMEOUT:ae(Mt,`RPC '${e}' ${h} timed out`),g(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const R=v.getStatus();if(ae(Mt,`RPC '${e}' ${h} failed with status:`,R,"response text:",v.getResponseText()),R>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U==null?void 0:U.error;if(H&&H.status&&H.message){const W=function(ee){const J=ee.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(J)>=0?J:ne.UNKNOWN}(H.status);g(new pe(W,H.message))}else g(new pe(ne.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:h,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{ae(Mt,`RPC '${e}' ${h} completed.`)}});const x=JSON.stringify(a);ae(Mt,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",x,s,15)})}P_(e,n,s){const a=Gh(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Gg(),m=Wg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const x=u.join("");ae(Mt,`Creating RPC '${e}' stream ${a}: ${x}`,g);const C=h.createWebChannel(x,g);this.T_(C);let R=!1,U=!1;const H=new lT({Ho:$=>{U?ae(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(R||(ae(Mt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),R=!0),ae(Mt,`RPC '${e}' stream ${a} sending:`,$),C.send($))},Yo:()=>C.close()}),W=($,ee,J)=>{$.listen(ee,se=>{try{J(se)}catch(fe){setTimeout(()=>{throw fe},0)}})};return W(C,sa.EventType.OPEN,()=>{U||(ae(Mt,`RPC '${e}' stream ${a} transport opened.`),H.s_())}),W(C,sa.EventType.CLOSE,()=>{U||(U=!0,ae(Mt,`RPC '${e}' stream ${a} transport closed`),H.__(),this.I_(C))}),W(C,sa.EventType.ERROR,$=>{U||(U=!0,pi(Mt,`RPC '${e}' stream ${a} transport errored. Name:`,$.name,"Message:",$.message),H.__(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),W(C,sa.EventType.MESSAGE,$=>{var ee;if(!U){const J=$.data[0];tt(!!J,16349);const se=J,fe=(se==null?void 0:se.error)||((ee=se[0])===null||ee===void 0?void 0:ee.error);if(fe){ae(Mt,`RPC '${e}' stream ${a} received error:`,fe);const Pe=fe.status;let Se=function(I){const k=ct[I];if(k!==void 0)return _y(k)}(Pe),N=fe.message;Se===void 0&&(Se=ne.INTERNAL,N="Unknown error status: "+Pe+" with message "+fe.message),U=!0,H.__(new pe(Se,N)),C.close()}else ae(Mt,`RPC '${e}' stream ${a} received:`,J),H.a_(J)}}),W(m,Hg.STAT_EVENT,$=>{$.stat===Dh.PROXY?ae(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===Dh.NOPROXY&&ae(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{H.o_()},0),H}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(i){return new gx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=a,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="PersistentStream";class cT{constructor(e,n,s,a,u,h,m,g){this.Fi=e,this.w_=s,this.S_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new by(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.b_===n&&this.W_(s,a)},s=>{e(()=>{const a=new pe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{s(()=>this.G_(a))}),this.stream.onMessage(a=>{s(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(Ym,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ae(Ym,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hT extends cT{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Ex(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Xs(h.readTime):Ee.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Uh(g)?{documents:xx(u,g)}:{query:Tx(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=vx(u,h.resumeToken);const v=qh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=yx(u,h.snapshotVersion.toTimestamp());const v=qh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=Cx(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class fT extends dT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Hh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ne.UNKNOWN,u.toString())})}Jo(e,n,s,a,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Hh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(ne.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(kr(n),this._a=!1):ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class mT{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{ka(this)&&(ae(ro,"Restarting streams for network reachability change."),await async function(g){const v=Le(g);v.Ia.add(4),await Pa(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Nu(v)}(this))})}),this.Aa=new pT(s,a)}}async function Nu(i){if(ka(i))for(const e of i.da)await e(!0)}async function Pa(i){for(const e of i.da)await e(!1)}function Vy(i,e){const n=Le(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Id(n)?Cd(n):co(n).x_()&&Sd(n,e))}function Td(i,e){const n=Le(i),s=co(n);n.Ta.delete(e),s.x_()&&Oy(n,e),n.Ta.size===0&&(s.x_()?s.B_():ka(n)&&n.Aa.set("Unknown"))}function Sd(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(i).H_(e)}function Oy(i,e){i.Ra.$e(e),co(i).Y_(e)}function Cd(i){i.Ra=new dx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),co(i).start(),i.Aa.aa()}function Id(i){return ka(i)&&!co(i).M_()&&i.Ta.size>0}function ka(i){return Le(i).Ia.size===0}function Ly(i){i.Ra=void 0}async function gT(i){i.Aa.set("Online")}async function yT(i){i.Ta.forEach((e,n)=>{Sd(i,e)})}async function vT(i,e){Ly(i),Id(i)?(i.Aa.la(e),Cd(i)):i.Aa.set("Unknown")}async function _T(i,e,n){if(i.Aa.set("Online"),e instanceof Ey&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.Ta.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ta.delete(m),a.Ra.removeTarget(m))}(i,e)}catch(s){ae(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xm(i,s)}else if(e instanceof ru?i.Ra.Ye(e):e instanceof wy?i.Ra.it(e):i.Ra.et(e),!n.isEqual(Ee.min()))try{const s=await Ny(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ta.get(v);x&&u.Ta.set(v,x.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const x=u.Ta.get(g);if(!x)return;u.Ta.set(g,x.withResumeToken(bt.EMPTY_BYTE_STRING,x.snapshotVersion)),Oy(u,g);const C=new li(x.target,g,v,x.sequenceNumber);Sd(u,C)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ae(ro,"Failed to raise snapshot:",s),await Xm(i,s)}}async function Xm(i,e,n){if(!uo(e))throw e;i.Ia.add(1),await Pa(i),i.Aa.set("Offline"),n||(n=()=>Ny(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae(ro,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Nu(i)})}async function Jm(i,e){const n=Le(i);n.asyncQueue.verifyOperationInProgress(),ae(ro,"RemoteStore received new credentials");const s=ka(n);n.Ia.add(3),await Pa(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Nu(n)}async function wT(i,e){const n=Le(i);e?(n.Ia.delete(2),await Nu(n)):e||(n.Ia.add(2),await Pa(n),n.Aa.set("Unknown"))}function co(i){return i.Va||(i.Va=function(n,s,a){const u=Le(n);return u.ia(),new hT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Zo:gT.bind(null,i),e_:yT.bind(null,i),n_:vT.bind(null,i),J_:_T.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Id(i)?Cd(i):i.Aa.set("Unknown")):(await i.Va.stop(),Ly(i))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new Rd(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(i,e){if(kr("AsyncQueue",`${e}: ${i}`),uo(i))return new pe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=oa(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.fa=new at(ve.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,a,u,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new io(e,n,Js.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class xT{constructor(){this.queries=eg(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const a=Le(n),u=a.queries;a.queries=eg(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(s)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function eg(){return new is(i=>cy(i),Iu)}async function TT(i,e){const n=Le(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Sa()&&e.ba()&&(s=2):(u=new ET,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(a,!0);break;case 1:u.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=jy(h,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Ad(n)}async function ST(i,e){const n=Le(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?a=e.ba()?0:1:!u.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CT(i,e){const n=Le(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(a)&&(s=!0);h.ya=a}}s&&Ad(n)}function IT(i,e,n){const s=Le(i),a=s.queries.get(e);if(a)for(const u of a.wa)u.onError(n);s.queries.delete(e)}function Ad(i){i.Da.forEach(e=>{e.next()})}var Qh,tg;(tg=Qh||(Qh={})).Fa="default",tg.Cache="cache";class RT{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class AT{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=hy(e),this.eu=new Js(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new Zm,a=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,C)=>{const R=a.get(x),U=Ru(this.query,C)?C:null,H=!!R&&this.mutatedKeys.has(R.key),W=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let $=!1;R&&U?R.data.isEqual(U.data)?H!==W&&(s.track({type:3,doc:U}),$=!0):this.iu(R,U)||(s.track({type:2,doc:U}),$=!0,(g&&this.Xa(U,g)>0||v&&this.Xa(U,v)<0)&&(m=!0)):!R&&U?(s.track({type:0,doc:U}),$=!0):R&&!U&&(s.track({type:1,doc:R}),$=!0,(g||v)&&(m=!0)),$&&(U?(h=h.add(U),u=W?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((x,C)=>function(U,H){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:$})}};return W(U)-W(H)}(x.type,C.type)||this.Xa(x.doc,C.doc)),this.su(s),a=a!=null&&a;const m=n&&!a?this.ou():[],g=this.Za.size===0&&this.current&&!a?1:0,v=g!==this.Ya;return this.Ya=g,h.length!==0||v?{snapshot:new io(this.query,e.eu,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Zm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new Fy(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new My(s))}),n}uu(e){this.Ha=e.qs,this.Za=Me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return io.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pd="SyncEngine";class PT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class kT{constructor(e){this.key=e,this.lu=!1}}class NT{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new is(m=>cy(m),Iu),this.Tu=new Map,this.Iu=new Set,this.du=new at(ve.comparator),this.Eu=new Map,this.Au=new _d,this.Ru={},this.Vu=new Map,this.mu=no.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function DT(i,e,n=!0){const s=qy(i);let a;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.cu()):a=await Uy(s,e,n,!0),a}async function bT(i,e){const n=qy(i);await Uy(n,e,!0,!1)}async function Uy(i,e,n,s){const a=await nT(i.localStore,nr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VT(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Vy(i.remoteStore,a),m}async function VT(i,e,n,s,a){i.gu=(C,R,U)=>async function(W,$,ee,J){let se=$.view.nu(ee);se.Ds&&(se=await Wm(W.localStore,$.query,!1).then(({documents:N})=>$.view.nu(N,se)));const fe=J&&J.targetChanges.get($.targetId),Pe=J&&J.targetMismatches.get($.targetId)!=null,Se=$.view.applyChanges(se,W.isPrimaryClient,fe,Pe);return rg(W,$.targetId,Se._u),Se.snapshot}(i,C,R,U);const u=await Wm(i.localStore,e,!0),h=new AT(e,u.qs),m=h.nu(u.documents),g=Aa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);rg(i,n,v._u);const x=new PT(e,n,h);return i.Pu.set(e,x),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),v.snapshot}async function OT(i,e,n){const s=Le(i),a=s.Pu.get(e),u=s.Tu.get(a.targetId);if(u.length>1)return s.Tu.set(a.targetId,u.filter(h=>!Iu(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Wh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Td(s.remoteStore,a.targetId),Kh(s,a.targetId)}).catch(Eu)):(Kh(s,a.targetId),await Wh(s.localStore,a.targetId,!0))}async function LT(i,e){const n=Le(i),s=n.Pu.get(e),a=n.Tu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Td(n.remoteStore,s.targetId))}async function zy(i,e){const n=Le(i);try{const s=await eT(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Eu.get(u);h&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.lu=!0:a.modifiedDocuments.size>0?tt(h.lu,14607):a.removedDocuments.size>0&&(tt(h.lu,42227),h.lu=!1))}),await $y(n,s,e)}catch(s){await Eu(s)}}function ng(i,e,n){const s=Le(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Le(h);g.onlineState=m;let v=!1;g.queries.forEach((x,C)=>{for(const R of C.wa)R.va(m)&&(v=!0)}),v&&Ad(g)}(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jT(i,e,n){const s=Le(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),u=a&&a.key;if(u){let h=new at(ve.comparator);h=h.insert(u,Ut.newNoDocument(u,Ee.min()));const m=Me().add(u),g=new ku(Ee.min(),new Map,new at(Re),h,m);await zy(s,g),s.du=s.du.remove(u),s.Eu.delete(e),kd(s)}else await Wh(s.localStore,e,!1).then(()=>Kh(s,e,n)).catch(Eu)}function Kh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||By(i,s)})}function By(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Td(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),kd(i))}function rg(i,e,n){for(const s of n)s instanceof My?(i.Au.addReference(s.key,e),MT(i,s)):s instanceof Fy?(ae(Pd,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||By(i,s.key)):xe(19791,{yu:s})}function MT(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ae(Pd,"New document in limbo: "+n),i.Iu.add(s),kd(i))}function kd(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new ve(Ze.fromString(e)),s=i.mu.next();i.Eu.set(s,new kT(n)),i.du=i.du.insert(n,s),Vy(i.remoteStore,new li(nr(md(n.path)),s,"TargetPurposeLimboResolution",xu.ue))}}async function $y(i,e,n){const s=Le(i),a=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,g)=>{h.push(s.gu(g,e,n).then(v=>{var x;if((v||n)&&s.isPrimaryClient){const C=v?!v.fromCache:(x=n==null?void 0:n.targetChanges.get(g.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(v){a.push(v);const C=Ed.Es(g.targetId,v);u.push(C)}}))}),await Promise.all(h),s.hu.J_(a),await async function(g,v){const x=Le(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Q.forEach(v,R=>Q.forEach(R.Is,U=>x.persistence.referenceDelegate.addReference(C,R.targetId,U)).next(()=>Q.forEach(R.ds,U=>x.persistence.referenceDelegate.removeReference(C,R.targetId,U)))))}catch(C){if(!uo(C))throw C;ae(xd,"Failed to update sequence numbers: "+C)}for(const C of v){const R=C.targetId;if(!C.fromCache){const U=x.Fs.get(R),H=U.snapshotVersion,W=U.withLastLimboFreeSnapshotVersion(H);x.Fs=x.Fs.insert(R,W)}}}(s.localStore,u))}async function FT(i,e){const n=Le(i);if(!n.currentUser.isEqual(e)){ae(Pd,"User change. New user:",e.toKey());const s=await ky(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new pe(ne.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $y(n,s.Bs)}}function UT(i,e){const n=Le(i),s=n.Eu.get(e);if(s&&s.lu)return Me().add(s.key);{let a=Me();const u=n.Tu.get(e);if(!u)return a;for(const h of u){const m=n.Pu.get(h);a=a.unionWith(m.view.tu)}return a}}function qy(i){const e=Le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jT.bind(null,e),e.hu.J_=CT.bind(null,e.eventManager),e.hu.pu=IT.bind(null,e.eventManager),e}class gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Zx(this.persistence,new Yx,e.initialUser,this.serializer)}Du(e){return new Py(wd.Vi,this.serializer)}bu(e){return new iT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gu.provider={build:()=>new gu};class zT extends gu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){tt(this.persistence.referenceDelegate instanceof mu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ox(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Py(s=>mu.Vi(s,n),this.serializer)}}class Yh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ng(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FT.bind(null,this.syncEngine),await wT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xT}()}createDatastore(e){const n=Dy(e.databaseInfo.databaseId),s=function(u){return new uT(u)}(e.databaseInfo);return function(u,h,m,g){return new fT(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new mT(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>ng(this.syncEngine,n,0),function(){return Km.C()?new Km:new sT}())}createSyncEngine(e,n){return function(a,u,h,m,g,v,x){const C=new NT(a,u,h,m,g,v);return x&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Le(a);ae(ro,"RemoteStore shutting down."),u.Ia.add(5),await Pa(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yh.provider={build:()=>new Yh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="FirestoreClient";class $T{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae(wi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae(wi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=jy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Sh(i,e){i.asyncQueue.verifyOperationInProgress(),ae(wi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ky(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>{pi("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{pi("Terminating Firestore due to IndexedDb database deletion failed",a)})}),i._offlineComponents=e}async function ig(i,e){i.asyncQueue.verifyOperationInProgress();const n=await qT(i);ae(wi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Jm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Jm(e.remoteStore,a)),i._onlineComponents=e}async function qT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae(wi,"Using user provided OfflineComponentProvider");try{await Sh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),await Sh(i,new gu)}}else ae(wi,"Using default OfflineComponentProvider"),await Sh(i,new zT(void 0));return i._offlineComponents}async function HT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae(wi,"Using user provided OnlineComponentProvider"),await ig(i,i._uninitializedComponentsProvider._online)):(ae(wi,"Using default OnlineComponentProvider"),await ig(i,new Yh))),i._onlineComponents}async function WT(i){const e=await HT(i),n=e.eventManager;return n.onListen=DT.bind(null,e.syncEngine),n.onUnlisten=OT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LT.bind(null,e.syncEngine),n}function GT(i,e,n={}){const s=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const x=new BT({next:R=>{x.Ou(),h.enqueueAndForget(()=>ST(u,C));const U=R.docs.has(m);!U&&R.fromCache?v.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&g&&g.source==="server"?v.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),C=new RT(md(m.path),x,{includeMetadataChanges:!0,ka:!0});return TT(u,C)}(await WT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="firestore.googleapis.com",og=!0;class ag{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wy,this.ssl=og}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:og;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ay;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bx)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ag({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ag(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sE;switch(s.type){case"firstParty":return new uE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sg.get(n);s&&(ae("ComponentProvider","Removing Datastore"),sg.delete(n),s.terminate())}(this),Promise.resolve()}}function QT(i,e,n,s={}){var a;i=Vh(i,Nd);const u=ad(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${n}`;u&&(N0(`https://${g}`),O0("Firestore",!0)),h.host!==Wy&&h.host!==g&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!au(v,m)&&(i._setSettings(v),s.mockUserToken)){let x,C;if(typeof s.mockUserToken=="string")x=s.mockUserToken,C=Ft.MOCK_USER;else{x=D0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ft(R)}i._authCredentials=new oE(new Kg(x,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dd(this.firestore,e,this._query)}}class Wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ia(n,Wt._jsonSchema))return new Wt(e,s||null,new ve(Ze.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:dt("string",Wt._jsonSchemaVersion),referencePath:dt("string")};class xa extends Dd{constructor(e,n,s){super(e,n,md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ve(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function Xh(i,e,...n){if(i=q0(i),arguments.length===1&&(e=cd.newId()),pE("doc","path",e),i instanceof Nd){const s=Ze.fromString(e,...n);return wm(s),new Wt(i,null,new ve(s))}{if(!(i instanceof Wt||i instanceof xa))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return wm(s),new Wt(i.firestore,i instanceof xa?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="AsyncQueue";class ug{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new by(this,"async_queue_retry"),this.oc=()=>{const s=Th();s&&ae(lg,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ji;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!uo(e))throw e;ae(lg,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,kr("INTERNAL UNHANDLED ERROR: ",cg(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=Rd.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(a),a}ac(){this.tc&&xe(47125,{hc:cg(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function cg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Gy extends Nd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new ug,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ug(e),this._firestoreClient=void 0,await e}}}function KT(i,e){const n=typeof i=="object"?i:W1(),s=typeof i=="string"?i:cu,a=z1(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=P0("firestore");u&&QT(a,...u)}return a}function YT(i){if(i._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||XT(i),i._firestoreClient}function XT(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,v,x){return new PE(m,g,v,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Hy(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new $T(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tr(bt.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tr(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ia(e,tr._jsonSchema))return tr.fromBase64String(e.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:dt("string",tr._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Ia(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:dt("string",di._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ia(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fi(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:dt("string",fi._jsonSchemaVersion),vectorValues:dt("object")};const JT=new RegExp("[~\\*/\\[\\]]");function ZT(i,e,n){if(e.search(JT)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Qy(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function hg(i,e,n,s,a){let u=`Function ${e}() called with invalid data`;u+=". ";let h="";return new pe(ne.INVALID_ARGUMENT,u+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eS extends Ky{data(){return super.data()}}function Yy(i,e){return typeof e=="string"?ZT(i,e):e instanceof Qy?e._internalPath:e._delegate._internalPath}class tS{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Lh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>ot(h.doubleValue));return new fi(u)}convertGeoPoint(e){return new di(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Su(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const n=gi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);tt(Ry(s),9688,{name:e});const a=new wa(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return a.isEqual(n)||kr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class es extends Ky{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}es._jsonSchemaVersion="firestore/documentSnapshot/1.0",es._jsonSchema={type:dt("string",es._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class iu extends es{data(e={}){return super.data(e)}}class pa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new la(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new iu(this._firestore,this._userDataWriter,s.key,s,new la(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new iu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new la(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new iu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new la(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,x=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:nS(m.type),doc:g,oldIndex:v,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){i=Vh(i,Wt);const e=Vh(i.firestore,Gy);return GT(YT(e),i._key).then(n=>iS(e,i,n))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:dt("string",pa._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class rS extends tS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function iS(i,e,n){const s=n.docs.get(e._key),a=new rS(i);return new es(i,a,e._key,s,new la(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){lo=a})(H1),uu(new ga("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Gy(new aE(s.getProvider("auth-internal")),new cE(h,s.getProvider("app-check-internal")),function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(v.options.projectId,x)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ys(mm,gm,e),Ys(mm,gm,"esm2017")})();const sS={apiKey:"AIzaSyCH2SEBLRFf_g_aWqiW3Y6Qk---kmWaNPY",authDomain:"canary-demo-dc73e.firebaseapp.com",projectId:"canary-demo-dc73e",storageBucket:"canary-demo-dc73e.firebasestorage.app",messagingSenderId:"129602806738",appId:"1:129602806738:web:30666a74acafffbc505e0b",measurementId:"G-3LBLWMX6QC"},oS=Fg(sS),Zh=KT(oS),aS=async()=>{try{const i=Xh(Zh,"Global","components"),e=Xh(Zh,"Main pages","components"),n=await Jh(i),s=await Jh(e),a=n.exists()?n.data():{},u=s.exists()?s.data():{};return console.log(u),{global:a,main:u}}catch(i){return console.error("Error fetching data:",i),{global:{},main:{}}}},lS="/Canary-Charity-Club",ar=M.createContext({}),Xy=({children:i})=>{const[e,n]=M.useState("home"),[s,a]=M.useState({}),[u,h]=M.useState({}),[m,g]=M.useState(!0),[v,x]=M.useState("#ffffff"),[C,R]=M.useState("#4160df"),[U,H]=M.useState("#4160df"),[W,$]=M.useState(""),[ee,J]=M.useState(null),[se,fe]=M.useState(""),[Pe,Se]=M.useState(""),[N,T]=M.useState({hotline:null,email:null,address:null}),[I,k]=M.useState({}),[b,O]=M.useState({}),[A,Qe]=M.useState([]),[xt,pt]=M.useState({}),[Ue,re]=M.useState({}),[me,ie]=M.useState({}),[V,G]=M.useState({}),[de,Te]=M.useState([]),[Ce,Ae]=M.useState({}),[ke,De]=M.useState({}),[Be,rt]=M.useState({}),[xn,lr]=M.useState({}),[Un,zn]=M.useState({members:"Thành viên",activity_history:"Lịch sử hoạt động",stories:"Câu chuyện",projects:"Dự án & hoạt động nổi bật đã thực hiện",fundraising_header:"Quỹ Gây Quỹ",campaign_details:"Chi Tiết Chiến Dịch",donor_list:"Danh Sách Ủng Hộ",events:"Sự kiện"});return M.useEffect(()=>{console.log(ke)},[ke]),M.useEffect(()=>{(async()=>{var br,Vr,xi,ur,cn,hn,Or,cr;try{const we=await aS();we!=null&&we.global&&(a(we.global),$(we.global.logo||""),x(we.global.primaryBackgroundColor||"#ffffff"),R(we.global.secondaryBackgroundColor||"#ffffff"),H(we.global.tertiaryBackgroundColor||"#4160df"),fe(we.global.group_name||""),Se(we.global.description||""),T({hotline:we.global.hotline||null,email:we.global.email||null,address:we.global.address||null}),k(we.global.social_media||{})),we!=null&&we.main&&(h(we.main),Qe(we.main.activity_history||[]),pt(we.main.event_overviews||{}),re(we.main.fundraising||{}),ie(we.main.hero_sections||{}),G(we.main.highlights||{}),Te(we.main.members||[]),Ae(we.main.org_stats||{}),De(we.main.project_overviews||{}),rt(we.main.statements||{}),lr(we.main.story_overviews||{}),zn({members:((br=we.main.section_titles)==null?void 0:br.members)||"Thành viên",activity_history:((Vr=we.main.section_titles)==null?void 0:Vr.activity_history)||"Lịch sử hoạt động",stories:((xi=we.main.section_titles)==null?void 0:xi.stories)||"Câu chuyện",projects:((ur=we.main.section_titles)==null?void 0:ur.projects)||"Dự án & hoạt động nổi bật đã thực hiện",fundraising_header:((cn=we.main.section_titles)==null?void 0:cn.fundraising_header)||"Quỹ Gây Quỹ",campaign_details:((hn=we.main.section_titles)==null?void 0:hn.campaign_details)||"Chi Tiết Chiến Dịch",donor_list:((Or=we.main.section_titles)==null?void 0:Or.donor_list)||"Danh Sách Ủng Hộ",events:((cr=we.main.section_titles)==null?void 0:cr.events)||"Sự kiện"}))}catch(we){console.error("Error in GlobalProvider useEffect:",we)}finally{g(!1)}})()},[]),w.jsx(ar.Provider,{value:{loading:m,globalData:s,setGlobalData:a,mainData:u,setMainData:h,primaryBackgroundColor:v,setPrimaryBackgroundColor:x,secondaryBackgroundColor:C,setSecondaryBackgroundColor:R,tertiaryBackgroundColor:U,setTertiaryBackgroundColor:H,logoUrl:W,setLogoUrl:$,logoFile:ee,setLogoFile:J,groupName:se,setGroupName:fe,groupDescription:Pe,setGroupDescription:Se,contactInfoData:N,setContactInfoData:T,socialLinksData:I,setSocialLinksData:k,imageUploadQueue:b,setImageUploadQueue:O,activityHistory:A,setActivityHistory:Qe,eventOverviews:xt,setEventOverviews:pt,fundraising:Ue,setFundraising:re,heroSections:me,setHeroSections:ie,highlights:V,setHighlights:G,members:de,setMembers:Te,orgStats:Ce,setOrgStats:Ae,projectOverviews:ke,setProjectOverviews:De,statements:Be,setStatements:rt,storyOverviews:xn,setStoryOverviews:lr,sectionTitles:Un,setSectionTitles:zn,currentPage:e,setCurrentPage:n,basePath:lS},children:i})};Xy.propTypes={children:q.node};const Dr=({src:i,placeholder:e="https://blog.photobucket.com/hubfs/upload_pics_online.png",className:n="",style:s={},children:a})=>w.jsx("div",{className:n,style:{backgroundImage:`url(${i||e})`,backgroundSize:"cover",backgroundPosition:"center",...s},children:a}),uS=()=>{const{logoUrl:i}=M.useContext(ar);return w.jsx(Dr,{className:"absolute top-2 left-6 sm:left-8 md:left-16 lg:left-28 w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-full",section:"logo",top:"top-2 sm:top-2",style:{backgroundImage:`url(${i||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`}})};function Jy(){const i=Fn(),n=Nr().pathname.replace("/",""),[s,a]=M.useState(!1),u={home:"Home",about:"About",events:"Events",stories:"Stories",donate:"Donate us"},h=()=>{a(!s)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex justify-between items-center text-center h-full px-4",children:[w.jsx("div",{className:"hidden md:block h-full flex-grow",children:w.jsx("ul",{className:"flex justify-center h-full",children:Object.entries(u).map(([m,g],v)=>w.jsxs("li",{className:"w-28 h-full flex flex-row",children:[w.jsx("button",{type:"button",onClick:()=>i(m==="home"?"/":`/${m}`),className:` w-full h-full transition-colors duration-200 cursor-pointer 
                      ${n===m||m==="home"&&n===""?"text-secondary font-bold hover:text-primary hover:bg-secondary":"hover:text-primary-hover hover:bg-primary-darken"}
                      `,children:g}),v<Object.entries(u).length-1&&w.jsx("br",{className:"border-gray-200 border-1 h-1/2 my-auto"})]},`page_${m}`))})}),w.jsx("div",{className:"md:hidden absolute right-10",children:w.jsx("button",{onClick:h,className:"text-primary-paragraph focus:outline-none",children:w.jsx("i",{className:"fas fa-bars"})})})]}),s&&w.jsx("div",{className:"block md:hidden absolute left-0 right-0 bg-primary",children:w.jsx("ul",{className:"flex flex-col items-center",children:Object.entries(u).map(([m,g],v)=>w.jsxs("li",{className:"w-full text-center",children:[w.jsx("button",{type:"button",onClick:()=>i(m==="home"?"/":`/${m}`),className:` w-full h-full py-3 transition-colors duration-200 cursor-pointer 
                      ${n===m?"text-secondary font-bold hover:text-primary hover:bg-secondary":"hover:text-primary-hover hover:bg-primary-darken"}
                      `,children:g}),v<Object.entries(u).length-1&&w.jsx("hr",{className:"border-gray-300 w-2/3 mx-auto"})]},`dropdown_page_${m}`))})})]})}Jy.propTypes={currentPage:q.string};const Zy=({page:i})=>{const{logoUrl:e,primaryBackgroundColor:n,secondaryBackgroundColor:s,tertiaryBackgroundColor:a,globalData:u}=M.useContext(ar);return w.jsx("header",{className:"w-full h-16 sm:h-20 fixed top-0 z-50 shadow-md shadow-gray-200 text-primary-paragraph",style:{backgroundColor:n},children:w.jsxs("div",{className:"w-full h-full flex flex-row justify-center sm:px-6 lg:px-8",children:[w.jsx(uS,{}),w.jsx(Jy,{page:i,globalData:u})]})})};Zy.propTypes={page:q.string};const cS=M.memo(Zy),ev=({contactInfoData:i})=>w.jsxs("div",{className:"w-full space-y-2 mt-4 text-sm md:text-base text-secondary-paragraph",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Hotline:"})," ",i.hotline||"Chưa có thông tin"]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Email:"})," ",i.email||"Chưa có thông tin"]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Địa chỉ:"})," ",i.address||"Chưa có thông tin"]})]});ev.propTypes={contactInfoData:q.shape({hotline:q.string,email:q.string,address:q.string}).isRequired};const tv=({socialLinksData:i})=>{const e=i?Object.entries(i).map(([n,s],a)=>({id:`link_${a}`,name:n.charAt(0).toUpperCase()+n.slice(1),url:s})):[];return w.jsxs("div",{className:"w-full [&>a]:block [&>a]:hover:text-secondary-hover [&>a]:transition",children:[w.jsx("div",{className:"h-16 flex items-center font-bold text-sm md:text-base",children:"Truyền thông"}),e.map(n=>w.jsx("div",{className:"flex gap-2 mb-2 items-center",children:w.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary-paragraph hover:text-secondary-hover flex items-center gap-2","aria-label":n.name,children:[w.jsx("i",{className:`fab fa-${n.name.toLowerCase()} text-sm md:text-base`}),w.jsx("span",{className:"text-sm md:text-base",children:n.name})]})},n.id))]})};tv.propTypes={socialLinksData:q.object.isRequired};const nv=({groupName:i,groupDescription:e})=>{const{logoUrl:n}=M.useContext(ar);return w.jsxs("div",{className:"w-full",children:[w.jsxs("div",{className:"h-16 flex items-center",children:[w.jsx("div",{className:"h-11 w-11 bg-primary rounded-full bg-cover bg-center overflow-hidden flex-shrink-0",style:{backgroundImage:`url(${n||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`}}),w.jsx("div",{className:"ml-4 font-bold text-lg text-primary",children:i})]}),w.jsx("div",{className:"w-full mt-2 text-base text-secondary-paragraph whitespace-pre-line",children:e})]})};nv.propTypes={groupName:q.string.isRequired,groupDescription:q.string.isRequired};const hS=()=>{const{tertiaryBackgroundColor:i,logoUrl:e,groupName:n,groupDescription:s,contactInfoData:a,socialLinksData:u}=M.useContext(ar);return w.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-16 py-10 text-secondary-paragraph",style:{backgroundColor:i},children:w.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col md:flex-row gap-10 md:gap-20",children:[w.jsxs("div",{className:"w-full md:w-1/2 space-y-6",children:[w.jsx(nv,{logoUrl:e,groupName:n,groupDescription:s}),w.jsx(ev,{contactInfoData:a})]}),w.jsx("div",{className:"w-full md:w-1/2",children:w.jsx(tv,{socialLinksData:u})})]})})};function rv({children:i}){return w.jsxs(Xy,{children:[w.jsx(cS,{}),w.jsx(Vw,{}),w.jsx(hS,{})]})}rv.propTypes={children:q.oneOfType([q.arrayOf(q.node),q.node]),page:q.string};const iv=({image:i})=>w.jsx("div",{className:"w-full h-178 bg-cover bg-center",style:{backgroundImage:`url("${i}")`,height:"calc(100vh - 5rem)"}});iv.propTypes={image:q.string.isRequired};const dS=({orgStats:i,tertiaryBackgroundColor:e})=>{const n=[{title:"Số sự kiện",key:"num_events",value:String((i==null?void 0:i.num_events)??"")},{title:"Số người đã giúp đỡ",key:"num_people_helped",value:String((i==null?void 0:i.num_people_helped)??"")},{title:"Số tiền quyên góp",key:"total_money_donated",value:String((i==null?void 0:i.total_money_donated)??"")},{title:"Số dự án đã làm",key:"num_projects",value:String((i==null?void 0:i.num_projects)??"")}];return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-full h-full md:h-64 flex flex-col md:flex-row justify-center items-center z-auto relative -mt-30",children:n.map(s=>w.jsxs("div",{className:"hover:scale-105 opacity-100 transition-all duration-200 w-64 h-full mx-4 relative overflow-hidden rounded-xl",style:{backgroundColor:(i==null?void 0:i.primary_color)||"#ffffff",borderRadius:"1.5rem",boxShadow:"0px 8px 28px -9px rgba(0,0,0,0.45)"},children:[w.jsx("div",{className:"opacity-100 transition-all duration-200 wave absolute w-[540px] h-[700px] opacity-60",style:{left:"0",top:"270px",marginLeft:"-50%",marginTop:"-70%",background:`linear-gradient(744deg, ${(i==null?void 0:i.secondary_color)||"#000000"}, ${e||"#000000"})`,borderRadius:"40%",animation:"wave 10s infinite linear"}}),w.jsxs("div",{className:"hover:opacity-100 transition-all duration-200 relative z-10 w-full flex flex-col items-center justify-center",children:[w.jsx("h3",{className:"w-full font-medium text-sm md:text-xl py-3 md:py-9 text-center outline-none text-white",style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.6)"},children:s.title}),w.jsx("div",{className:"w-full font-bold text-2xl md:text-6xl text-white text-center outline-none bg-transparent",style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.6)"},children:s.value})]})]},s.key))}),w.jsx("style",{children:`
          @keyframes wave {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})},fS=({listData:i,tertiaryBackgroundColor:e,title:n})=>{const s=Fn();return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center",children:n||"Các sự kiện nổi bật"}),w.jsx("div",{className:"w-full flex flex-col items-center px-2 sm:px-4",children:Object.entries(i||{}).map(([a,u])=>{var h;return{key:a,title:u.title,description:u.abstract,imageUrl:(h=u==null?void 0:u.thumbnail)==null?void 0:h.src,started_time:u.started_time,id:u.id||a}}).sort((a,u)=>new Date(u.started_time)-new Date(a.started_time)).map(({key:a,title:u,description:h,imageUrl:m,id:g})=>w.jsxs("div",{className:"w-full md:w-[80%] xl:w-[70%] max-w-400 mt-12 flex flex-col md:flex-row relative",children:[w.jsx("div",{className:"w-full md:w-1/2 h-80 md:h-84 px-2 md:px-4 mb-4 md:mb-0",children:w.jsx("div",{className:"w-full h-full bg-cover bg-center rounded-lg",style:{backgroundImage:`url("${m||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})}),w.jsxs("div",{className:"w-full md:w-1/2 h-auto px-2 md:px-4 flex flex-col",children:[w.jsx("div",{className:"w-full font-bold text-xl md:text-2xl text-primary-title mb-2",children:u||w.jsx("span",{className:"italic text-gray-400",children:"Chưa có tiêu đề"})}),w.jsx("div",{className:"w-full text-base md:text-base/5 py-4 md:py-6 text-primary-paragraph whitespace-pre-line",children:h||w.jsx("span",{className:"italic text-gray-400",children:"Chưa có mô tả"})}),w.jsx("button",{className:"py-2 px-5 rounded-full font-semibold text-secondary-title mt-2 text-sm md:text-base w-fit cursor-default",style:{backgroundColor:e},onClick:()=>s("/detail-page",{state:{id:g,title:u,thumbnail:m}}),children:"Tìm hiểu thêm"})]})]},a))})]})};var sv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dg=Ir.createContext&&Ir.createContext(sv),pS=["attr","size","title"];function mS(i,e){if(i==null)return{};var n=gS(i,e),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(a=0;a<u.length;a++)s=u[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function gS(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function yu(){return yu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},yu.apply(this,arguments)}function fg(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function vu(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fg(Object(n),!0).forEach(function(s){yS(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):fg(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function yS(i,e,n){return e=vS(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function vS(i){var e=_S(i,"string");return typeof e=="symbol"?e:e+""}function _S(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ov(i){return i&&i.map((e,n)=>Ir.createElement(e.tag,vu({key:n},e.attr),ov(e.child)))}function Du(i){return e=>Ir.createElement(wS,yu({attr:vu({},i.attr)},e),ov(i.child))}function wS(i){var e=n=>{var{attr:s,size:a,title:u}=i,h=mS(i,pS),m=a||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Ir.createElement("svg",yu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:vu(vu({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ir.createElement("title",null,u),i.children)};return dg!==void 0?Ir.createElement(dg.Consumer,null,n=>e(n)):e(sv)}function bu(i){return Du({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(i)}function ns(i){return Du({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(i)}function so(i){return Du({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(i)}const av=({data:i,title:e,buttonColor:n})=>{const s=Fn(),a=3,u=Object.entries(i).sort((v,x)=>new Date(x[1].posted_time)-new Date(v[1].posted_time)),h=Math.ceil(u.length/a),[m,g]=M.useState(0);return u.slice(m*a,(m+1)*a),w.jsxs(w.Fragment,{children:[w.jsx("h2",{className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center",children:e}),w.jsx("div",{className:"w-full pt-12 flex justify-center",children:w.jsxs("div",{className:"w-280 h-128 relative",children:[h>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>g(Math.max(m-1,0)),className:"w-11 h-11 absolute -left-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer z-10",children:w.jsx(bu,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>g(Math.min(m+1,h-1)),className:"w-11 h-11 absolute -right-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer z-10",children:w.jsx(ns,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"w-full h-full overflow-hidden",children:w.jsx("div",{className:"w-100000 h-full flex transition-all duration-750",style:{marginLeft:`calc(${-288*m} * var(--spacing))`},children:u.map(([v,x])=>{var C;return w.jsxs("div",{className:"w-88 mr-8 h-full",children:[w.jsx("div",{className:"w-full h-60 bg-cover bg-center rounded-sm",style:{backgroundImage:`url("${(C=x.thumbnail)==null?void 0:C.src}")`}}),w.jsx("div",{className:"w-full font-bold text-2xl pt-5 text-primary-title",children:x.title}),w.jsx("div",{className:"w-full text-base/5 py-5 text-primary-paragraph whitespace-pre-wrap",children:x.abstract}),w.jsxs("button",{className:"font-semibold block mt-2",style:{color:n},onClick:()=>s("/detail-page",{state:{id:v,title:x.title,thumbnail:x.thumbnail.src}}),children:["Đọc thêm"," ",w.jsx(ns,{className:"inline-block mb-0.5 ml-1"})]})]},v)})})}),w.jsx("div",{className:"w-full flex justify-center",children:Array.from({length:h},(v,x)=>w.jsx(so,{className:`w-2.5 h-2.5 mx-0.5 ${m===x?"text-secondary":"text-primary-darken-2"}`},`dot_${x}`))})]})})]})};av.propTypes={data:q.object.isRequired,title:q.string.isRequired,buttonColor:q.string};function ES(){var h;const{setCurrentPage:i,heroSections:e,orgStats:n,eventOverviews:s,storyOverviews:a,tertiaryBackgroundColor:u}=M.useContext(ar);return M.useEffect(()=>i("home"),[i]),w.jsxs("div",{className:"w-full",children:[w.jsx(iv,{image:((h=e==null?void 0:e.home)==null?void 0:h.image)||""}),w.jsx(dS,{orgStats:n||{},tertiaryBackgroundColor:u}),w.jsx(fS,{title:"Các sự kiện đã và đang diễn ra",listData:s||{},tertiaryBackgroundColor:u}),w.jsx(av,{title:"Các câu chuyện ý nghĩa",data:a||{}})]})}const ft=({value:i,className:e,isMultiline:n=!1,rows:s=4})=>w.jsx("div",{className:"relative w-full",children:n?w.jsx("div",{className:`whitespace-pre-wrap ${e}`,style:{minHeight:`${s*1.5}rem`},children:i}):w.jsx("div",{className:`${e}`,children:i})}),lv=({title:i,description:e,image:n})=>w.jsxs("div",{className:"relative",children:[w.jsx(Dr,{top:"top-23",right:"right-2",className:"w-full bg-cover bg-bottom flex justify-center items-end bg-blend-multiply hero_section",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url(${n})`,height:"calc(100vh - 5rem)"}}),w.jsxs("div",{className:"absolute left-5 right-5 bottom-10 md:left-20 md:right-auto md:w-1/2",children:[w.jsx(ft,{className:"w-full text-3xl md:text-5xl font-semibold text-white outline-none bg-transparent",value:i}),w.jsx(ft,{type:"textarea",className:"w-full text-base md:text-lg text-white mt-4 outline-none bg-transparent resize-none",value:e,rows:"4"})]})]});lv.propTypes={title:q.string,description:q.string,backgroundImage:q.string};const uv=({missionTitle:i,missionDescription:e,missionImage:n})=>w.jsxs("div",{className:"w-full pt-20 flex",children:[w.jsx("div",{className:"w-1/2 px-4",children:w.jsx(Dr,{src:n,className:"w-162 h-102 -mr-26 bg-cover bg-center float-right rounded-lg"})}),w.jsx("div",{className:"w-1/2 px-4 flex items-center",children:w.jsxs("div",{className:"w-136 h-62 rounded-lg bg-tag-2 text-primary-title shadow-[1.5rem_-1.5rem_#E6EBFB]",children:[w.jsx(ft,{value:i||"Sứ mệnh",className:"w-full font-bold text-[2.5rem] pt-12 text-center"}),w.jsx(ft,{value:e,className:"w-full px-8 text-base/5 font-medium py-2 text-primary-paragraph text-center",isMultiline:!0})]})})]});uv.propTypes={missionDescription:q.string.isRequired,missionImage:q.string.isRequired};const cv=({visionTitle:i,visionDescription:e,visionImage:n})=>w.jsxs("div",{className:"w-full pt-20 flex flex-row-reverse",children:[w.jsx("div",{className:"w-1/2 px-4",children:w.jsx(Dr,{src:n,className:"w-162 h-102 -ml-26 bg-cover bg-center rounded-lg"})}),w.jsx("div",{className:"w-1/2 px-4 flex items-center justify-end",children:w.jsxs("div",{className:"w-136 h-62 rounded-lg bg-tag-2 text-primary-title shadow-[-1.5rem_-1.5rem_#E6EBFB] z-0",children:[w.jsx(ft,{value:i||"Tầm nhìn",className:"w-full font-bold text-[2.5rem] pt-12 text-center"}),w.jsx(ft,{value:e,className:"w-full px-8 text-base/5 font-medium py-2 text-primary-paragraph text-center",isMultiline:!0})]})})]});cv.propTypes={visionDescription:q.string.isRequired,visionImage:q.string.isRequired};const hv=({title:i,listData:e})=>w.jsxs("div",{children:[w.jsx("div",{className:"pt-20 text-center text-[2.5rem] font-bold text-primary-title",children:i}),w.jsx(fv,{children:Object.entries(e).map(([n,s])=>{var a;return w.jsx(dv,{id:n,imageUrl:((a=s==null?void 0:s.thumbnail)==null?void 0:a.src)||"",title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.abstract)||""},`story_${n}`)})})]});hv.propTypes={title:q.string.isRequired,listData:q.object.isRequired};function dv({imageUrl:i,title:e,description:n,id:s}){const a=Fn();return w.jsxs("div",{className:"w-[22rem] shrink-0",children:[w.jsx("div",{className:"h-60 bg-cover bg-center rounded-sm",style:{backgroundImage:`url("${i}")`}}),w.jsx("div",{className:"pt-5 text-2xl font-bold text-primary-title",children:e}),w.jsx("p",{className:"py-5 text-base/5 text-primary-paragraph",children:n}),w.jsxs("button",{onClick:()=>a("/detail-page",{state:{id:s,title:e,thumbnail:i}}),className:"text-secondary font-semibold transition hover:text-secondary-hover hover:translate-x-1",children:["Đọc thêm ",w.jsx(ns,{className:"inline-block mb-0.5"})]})]})}dv.propTypes={imageUrl:q.string.isRequired,title:q.string.isRequired,description:q.string.isRequired,href:q.string};function fv({children:i}){const s=Math.ceil(Ir.Children.count(i)/3),[a,u]=M.useState(0);return w.jsx("div",{className:"w-full pt-12 flex justify-center",children:w.jsxs("div",{className:"relative w-[1120px] h-[448px]",children:[w.jsx("button",{onClick:()=>u(h=>Math.max(h-1,0)),className:"absolute left-[-24px] top-1/2 transform -translate-y-1/2 w-11 h-11 rounded-full bg-primary-darken flex items-center justify-center hover:scale-105 hover:bg-primary-darken-2 z-10",children:w.jsx(bu,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>u(h=>Math.min(h+1,s-1)),className:"absolute right-[-24px] top-1/2 transform -translate-y-1/2 w-11 h-11 rounded-full bg-primary-darken flex items-center justify-center hover:scale-105 hover:bg-primary-darken-2 z-10",children:w.jsx(ns,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-full h-full overflow-hidden",children:w.jsx("div",{className:"flex gap-x-8 transition-all duration-700",style:{transform:`translateX(-${a*3*384}px)`},children:i})}),w.jsx("div",{className:"absolute bottom-2 w-full flex justify-center",children:Array.from({length:s}).map((h,m)=>w.jsx(so,{onClick:()=>u(m),className:`w-2.5 h-2.5 mx-0.5 cursor-pointer transition-transform 
                ${a===m?"text-secondary scale-115":"text-primary-darken-2"}`},m))})]})})}fv.propTypes={children:q.node};const pv=({listData:i})=>w.jsxs("div",{children:[w.jsx(ft,{value:"Đội ngũ thành viên",className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center"}),w.jsx(gv,{children:i.map((e,n)=>w.jsx(mv,{imageUrl:e.image,name:e.name,role:e.role},`member_${n}`))})]});pv.propTypes={listData:q.arrayOf(q.shape({image:q.string.isRequired,name:q.string.isRequired,role:q.string.isRequired})).isRequired};function mv({imageUrl:i,name:e,role:n}){return w.jsxs("div",{className:"w-64 mr-8 h-full",children:[w.jsx("div",{className:"w-full h-64 bg-cover bg-center rounded-sm",style:{backgroundImage:`url("${i}")`}}),w.jsx("div",{className:"w-full font-bold text-lg pt-2 text-primary-title text-center",children:e}),w.jsx("p",{className:"w-full text-base/5 text-primary-paragraph text-center",children:n})]})}mv.propTypes={imageUrl:q.string.isRequired,name:q.string.isRequired,role:q.string.isRequired};function gv({children:i}){const e=Math.ceil(i.length/4),[n,s]=M.useState(0);return w.jsx("div",{className:"w-full pt-12 flex justify-center",children:w.jsxs("div",{className:"w-280 h-88 relative",children:[w.jsx("button",{onClick:()=>s(Math.max(n-1,0)),className:"hover:scale-105 hover:bg-primary-darken-2 transition-all duration-200 w-11 h-11 absolute -left-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer",children:w.jsx(bu,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>s(Math.min(n+1,e-1)),className:"hover:scale-105 hover:bg-primary-darken-2 transition-all duration-200 w-11 h-11 absolute -right-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer",children:w.jsx(ns,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-full h-full overflow-hidden",children:w.jsx("div",{className:"w-100000 h-full flex transition-all duration-750",style:{marginLeft:`calc(${-288*n} * var(--spacing))`},children:i})}),w.jsx("div",{className:"absolute bottom-0 w-full flex justify-center",children:Array.from(Array(e).keys()).map(a=>w.jsx(so,{onClick:()=>s(a),className:`w-2.5 h-2.5 mx-0.5 transition-all duration-200 cursor-pointer 
                ${n===a?"text-secondary scale-115":"text-primary-darken-2"}
              `},`dot_${a}`))})]})})}gv.propTypes={children:q.array};function xS(i){return Du({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"},child:[]}]})(i)}const yv=({listData:i})=>w.jsxs("div",{children:[w.jsx(ft,{value:"Lịch sử hoạt động",className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center"}),w.jsx(_v,{children:i.map((e,n)=>{var s,a,u,h;return w.jsx(vv,{startDate:new Date(((s=e==null?void 0:e.started_time)==null?void 0:s.seconds)*1e3+((a=e==null?void 0:e.started_time)==null?void 0:a.nanoseconds)/1e3).toLocaleDateString("en-US",{month:"2-digit",year:"numeric"}),endDate:new Date(((u=e==null?void 0:e.ended_time)==null?void 0:u.seconds)*1e3+((h=e==null?void 0:e.ended_time)==null?void 0:h.nanoseconds)/1e3).toLocaleDateString("en-US",{month:"2-digit",year:"numeric"}),imageUrl1:e.image1,imageUrl2:e.image2,description:e.text},`activity_${n}`)})})]});yv.propTypes={listData:q.arrayOf(q.shape({started_time:q.object.isRequired,ended_time:q.object.isRequired,image1:q.string.isRequired,image2:q.string.isRequired,text:q.string.isRequired})).isRequired};function vv({startDate:i,endDate:e,imageUrl1:n,imageUrl2:s,description:a}){return w.jsxs("div",{className:"hidden","data-item":!0,children:[i," ",e," ",n," ",s," ",a]})}vv.propTypes={startDate:q.string.isRequired,endDate:q.string.isRequired,imageUrl1:q.string.isRequired,imageUrl2:q.string.isRequired,description:q.string.isRequired};function _v({children:i}){return w.jsx("div",{className:"w-full",children:i.map((e,n)=>{const{startDate:s,endDate:a,imageUrl1:u,imageUrl2:h,description:m}=e.props,g=n%2===0;return w.jsxs("div",{className:`w-full h-84 mt-12 flex ${g?"":"flex-row-reverse"}`,children:[w.jsx("div",{className:"w-1/2 h-full px-4",children:w.jsxs("div",{className:`w-136 h-full relative ${g?"float-right":""}`,children:[w.jsx("div",{className:`absolute w-88 h-62 bg-cover bg-center rounded-lg top-0 ${g?"left-0":"right-0"}`,style:{backgroundImage:`url("${u}")`}}),w.jsx("div",{className:`absolute w-88 h-47 bg-cover bg-center rounded-lg bottom-0 ${g?"right-0":"left-0"}`,style:{backgroundImage:`url("${h}")`}})]})}),w.jsx("div",{className:"w-1/2 h-full px-4",children:w.jsxs("div",{className:`w-136 h-full ${g?"":"float-right"}`,children:[w.jsxs("div",{className:"w-83 flex justify-between text-[1.6rem] font-bold text-primary-title",children:[w.jsx("div",{children:s}),w.jsx("div",{className:"w-0 flex justify-center",children:a})]}),w.jsxs("div",{className:"flex items-center py-2",children:[w.jsx(so,{className:"w-5 h-5 mr-0.5 text-secondary"}),w.jsx("div",{className:"w-72 h-0.75 rounded-full bg-secondary"}),w.jsx(xS,{className:"w-3.5 h-3.5 -ml-1 text-secondary"}),w.jsx(so,{className:"w-5 h-5 mx-0.5 text-secondary"}),w.jsx("div",{className:"w-20 h-0.75 rounded-full bg-secondary"})]}),w.jsx("div",{className:"w-136 text-base/5 pt-2 text-primary-paragraph",children:m})]})})]},`activity_${n}`)})})}_v.propTypes={children:q.arrayOf(q.element).isRequired};const wv=({listData:i})=>{const e=Fn();return w.jsxs("section",{className:"flex flex-col items-center w-full",children:[w.jsx(ft,{value:"Dự án & hoạt động nổi bật đã thực hiện",className:"text-[2.5rem] pt-20 font-bold mb-4 text-center"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-3/5 max-w-6xl mb-10",children:Object.entries(i).map(([n,s])=>w.jsxs("div",{className:"relative h-96 rounded-lg overflow-hidden shadow-md cursor-pointer",onClick:()=>e("/detail-page",{state:{id:n,title:s.title,thumbnail:s.thumbnail.src}}),children:[w.jsx(Dr,{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url(${s.thumbnail.src})`}}),w.jsx(ft,{value:s.title,className:"absolute bottom-0 left-0 p-4 text-white font-semibold"})]},n))})]})};wv.propTypes={listData:q.object.isRequired};function TS(){var m,g,v,x,C,R,U,H,W;const{setCurrentPage:i,heroSections:e,statements:n,storyOverviews:s,members:a,activityHistory:u,projectOverviews:h}=M.useContext(ar);return M.useEffect(()=>i("about"),[i]),w.jsxs("div",{className:"w-full",children:[w.jsx(lv,{image:((m=e==null?void 0:e.about)==null?void 0:m.coverImage)||"",title:(g=e==null?void 0:e.about)==null?void 0:g.title,description:(v=e==null?void 0:e.about)==null?void 0:v.description}),w.jsx(uv,{missionTitle:((x=n==null?void 0:n.mission)==null?void 0:x.title)||"",missionImage:((C=n==null?void 0:n.mission)==null?void 0:C.imageUrl)||"",missionDescription:(R=n==null?void 0:n.mission)==null?void 0:R.description}),w.jsx(cv,{visionTitle:((U=n==null?void 0:n.vision)==null?void 0:U.title)||"",visionImage:((H=n==null?void 0:n.vision)==null?void 0:H.imageUrl)||"",visionDescription:(W=n==null?void 0:n.vision)==null?void 0:W.description}),w.jsx(hv,{title:"Các câu chuyện ý nghĩa",listData:s||{}}),w.jsx(pv,{listData:a||[]}),w.jsx(yv,{listData:u||[]}),w.jsx(wv,{listData:h||{}})]})}const Ev=({imageUrl:i="https://picsum.photos/3000/1000",fundraiserName:e="Chương trình quyên góp",amountRaised:n=20,goalAmount:s=30,qrCodeUrl:a="https://picsum.photos/300",buttonColor:u="#4160DF"})=>{const[h,m]=M.useState(!1),g=Math.min(n/s*100,100);return w.jsxs("div",{className:"mt-[64px] w-full",children:[w.jsx(Dr,{src:i,className:"rounded-xl shadow-xl relative w-full h-[400px] flex items-center justify-end bg-cover bg-center text-dark p-8",children:w.jsxs("div",{className:"bg-white/90 p-6 rounded-2xl shadow-xl max-w-md w-full space-y-4",children:[w.jsx(ft,{value:e,className:"text-3xl font-bold text-center text-gray-800"}),w.jsx("div",{className:"border-2 p-0.5 border-gray-400  rounded-full",children:w.jsx("div",{className:"relative w-full h-5 bg-gray-300 rounded-full overflow-hidden",children:w.jsx("div",{className:"absolute left-0 top-0 h-full bg-blue-600 transition-all duration-500",style:{width:`${g}%`,backgroundColor:u}})})}),w.jsxs("div",{className:"flex justify-between text-sm text-gray-700 font-medium",children:[w.jsx(ft,{value:`${n.toLocaleString()} VND`}),w.jsx(ft,{value:`${g.toFixed(0)}%`})]}),w.jsx(ft,{value:`Cần đạt được: ${s.toLocaleString()} VND`,className:"text-sm text-gray-600 text-center"}),w.jsx("div",{className:"flex justify-center pt-4",children:w.jsx("button",{className:"px-6 py-2 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition duration-300",style:{backgroundColor:u},onClick:()=>m(!0),children:"Ủng hộ ngay"})})]})}),h&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",onClick:()=>m(!1),children:w.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-sm w-full",onClick:v=>v.stopPropagation(),children:[w.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Cảm ơn bạn đã ủng hộ"}),w.jsx("img",{src:a||"https://via.placeholder.com/300",alt:"QR Code",className:"w-full h-auto object-contain"}),w.jsx("button",{className:"mt-4 w-full text-white bg-blue-600 py-2 rounded hover:bg-blue-700",onClick:()=>m(!1),children:"Đóng"})]})})]})};Ev.propTypes={imageUrl:q.string.isRequired,fundraiserName:q.string.isRequired,amountRaised:q.number.isRequired,goalAmount:q.number.isRequired,qrCodeUrl:q.string.isRequired,buttonColor:q.string};const xv=({donors:i=[]})=>{const e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});return w.jsxs("div",{className:"mt-8 max-w-lg mx-auto",children:[w.jsx("div",{className:"text-2xl sm:text-[2.5rem] font-bold text-center",children:"Danh sách ủng hộ"}),i.length===0?w.jsx("p",{className:"text-center text-gray-500 mt-6",children:"Chưa có người ủng hộ nào."}):w.jsx("ul",{className:"mt-6 space-y-4",children:i.map((n,s)=>w.jsxs("li",{className:"border border-gray-200 rounded-xl p-4 flex justify-between items-center bg-white shadow-sm",children:[w.jsx("div",{className:"text-base font-medium text-gray-800",children:n.name||"Ẩn danh"}),w.jsx("div",{className:"text-green-600 font-semibold",children:e.format(n.amount||0)})]},n.id||s))})]})};xv.propTypes={donors:q.arrayOf(q.shape({id:q.oneOfType([q.number,q.string]),name:q.string,amount:q.number})),buttonColor:q.string};const Tv=({campaign_title:i,campaign_description:e,sectionTitles:n})=>w.jsxs("div",{className:"mt-10 px-6 max-w-3xl mx-auto space-y-6",children:[w.jsx("div",{className:"text-center",children:w.jsx("h2",{className:"text-2xl sm:text-[2.5rem] font-bold text-primary-title tracking-tight",children:n.campaign_details||"Chi tiết chiến dịch"})}),w.jsxs("div",{className:"bg-white/90 border border-gray-200 shadow-md rounded-2xl p-5",children:[w.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-2",children:i||"Tiêu đề của quỹ sẽ hiển thị ở đây."}),w.jsx("p",{className:"text-base sm:text-lg text-gray-700 whitespace-pre-line leading-relaxed",children:e||"Mô tả của quỹ sẽ hiển thị ở đây."})]})]});Tv.propTypes={campaign_title:q.string,campaign_description:q.string,sectionTitles:q.object.isRequired};const Sv=({campaignTitle:i,campaignDescription:e})=>{const{setCurrentPage:n,fundraising:s,sectionTitles:a,secondaryBackgroundColor:u}=M.useContext(ar);M.useEffect(()=>{n("donate")},[n]);const h=()=>{alert("Cảm ơn bạn đã ủng hộ! 🎉")};return w.jsxs("div",{className:"bg-[#fafafa] min-h-screen relative overflow-hidden p-6",children:[w.jsx(Ev,{imageUrl:(s==null?void 0:s.image_url)||"https",fundraiserName:(s==null?void 0:s.fundraiser_name)||"",amountRaised:(s==null?void 0:s.amount_raised)||0,goalAmount:(s==null?void 0:s.goal_amount)||0,qrCodeUrl:(s==null?void 0:s.qr_code_url)||"https",onSupportClick:h}),w.jsx(Tv,{campaign_title:(s==null?void 0:s.campaign_title)||"",campaign_description:(s==null?void 0:s.campaign_description)||"",buttonColor:u,sectionTitles:a}),w.jsx(xv,{donors:s==null?void 0:s.donors})]})};Sv.propTypes={campaignTitle:q.string.isRequired,campaignDescription:q.string.isRequired,fundraiserName:q.string.isRequired,amountRaised:q.number.isRequired,goalAmount:q.number.isRequired,qrCodeUrl:q.string.isRequired,donors:q.arrayOf(q.shape({name:q.string.isRequired,amount:q.number.isRequired})).isRequired,totalCollected:q.number.isRequired,totalSpent:q.number.isRequired,transactions:q.arrayOf(q.shape({id:q.number.isRequired,type:q.string.isRequired,amount:q.number.isRequired,date:q.string.isRequired})).isRequired};const Cv=({title:i,description:e,image:n})=>w.jsx("div",{children:w.jsx(Dr,{top:"top-23",right:"right-2",className:"w-full bg-cover bg-bottom flex justify-center items-end bg-blend-multiply hero_section",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url("${n||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`,height:"calc(100vh - 5rem)"},children:w.jsxs("div",{className:"w-1/2 absolute left-10 mb-15",children:[w.jsx(ft,{className:"pl-8 w-full text-[2.5rem] font-semibold text-white outline-none bg-transparent",value:i}),w.jsx(ft,{type:"textarea",className:"pl-8 pb-6 w-full text-base text-white outline-none bg-transparent resize-none",value:e,rows:"4"})]})})});Cv.propTypes={title:q.string,description:q.string,backgroundImage:q.string,setHeroSections:q.func.isRequired,enqueueImageUpload:q.func.isRequired,setHasChanges:q.func.isRequired};function Iv({pageData:i,buttonColor:e}){const n=Fn(),{heading:s,title1:a,title2:u,images:h=[]}=i||{};return console.log(s,a,h),w.jsxs("div",{className:"w-full",children:[w.jsx("div",{className:"w-full text-2xl sm:text-[2.5rem] font-bold text-black text-center mb-4 sm:mb-6",children:s||"Tiêu đề chưa được thiết lập"}),w.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-start gap-6 sm:gap-10 text-center max-w-[1600px] mx-auto",children:[w.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[w.jsxs("div",{className:"w-full h-[30vh] sm:h-[40vh] bg-gray-600 relative flex flex-col justify-end rounded-lg overflow-hidden",children:[w.jsx("div",{className:"text-sm sm:text-base font-semibold text-white text-center mb-2 px-2",children:a||"Tiêu đề chưa thiết lập"}),w.jsx("div",{className:"bg-cover bg-center w-full h-full",style:{backgroundImage:`url("${h[0]||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})]}),w.jsx("button",{className:"mt-2 text-white font-medium px-2 sm:px-3 py-1.5 sm:py-2 rounded-full hover:opacity-50 transition-opacity duration-200 text-sm sm:text-base",style:{backgroundColor:e},onClick:()=>n("/donate"),children:"Mua ngay"})]}),w.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[w.jsxs("div",{className:"w-full h-[30vh] sm:h-[40vh] bg-gray-600 relative flex flex-col justify-end rounded-lg overflow-hidden",children:[w.jsx("div",{className:"text-sm sm:text-base font-semibold text-white text-center mb-2 px-2",children:u||"Tiêu đề chưa thiết lập"}),w.jsx("div",{className:"bg-cover bg-center w-full h-full",style:{backgroundImage:`url("${h[1]||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})]}),w.jsx("button",{className:"mt-2 text-white font-medium px-2 sm:px-3 py-1.5 sm:py-2 rounded-full hover:opacity-50 transition-opacity duration-200 text-sm sm:text-base",style:{backgroundColor:e},onClick:()=>n("/donate"),children:"Ủng hộ"})]})]})]})}Iv.propTypes={pageData:q.shape({heading:q.string,title1:q.string,title2:q.string,images:q.arrayOf(q.string)}).isRequired,buttonColor:q.string.isRequired};const Rv=({listData:i})=>{const e=Fn();return w.jsxs("section",{className:"flex flex-col items-center w-full",children:[w.jsx(ft,{value:"Dự án & hoạt động nổi bật đã thực hiện",className:"text-[2.5rem] pt-20 font-bold mb-4 text-center"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-3/5 max-w-6xl mb-10",children:Object.entries(i).map(([n,s])=>w.jsxs("div",{className:"relative h-96 rounded-lg overflow-hidden shadow-md cursor-pointer",onClick:()=>e("/detail-page",{state:{id:n,title:s.title,thumbnail:s.thumbnail.src}}),children:[w.jsx(Dr,{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url(${s.thumbnail.src})`}}),w.jsx(ft,{value:s.title,className:"absolute bottom-0 left-0 p-4 text-white font-semibold"})]},n))})]})};Rv.propTypes={listData:q.object.isRequired};const Av=({title:i,listData:e})=>w.jsxs("div",{children:[w.jsx("div",{className:"pt-20 text-center text-[2.5rem] font-bold text-primary-title",children:i}),w.jsx(kv,{children:Object.entries(e).map(([n,s])=>{var a;return w.jsx(Pv,{id:n,imageUrl:((a=s==null?void 0:s.thumbnail)==null?void 0:a.src)||"",title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.abstract)||""},`story_${n}`)})})]});Av.propTypes={title:q.string.isRequired,listData:q.object.isRequired};function Pv({imageUrl:i,title:e,description:n,id:s}){const a=Fn();return w.jsxs("div",{className:"w-[22rem] shrink-0",children:[w.jsx("div",{className:"h-60 bg-cover bg-center rounded-sm",style:{backgroundImage:`url("${i}")`}}),w.jsx("div",{className:"pt-5 text-2xl font-bold text-primary-title",children:e}),w.jsx("p",{className:"py-5 text-base/5 text-primary-paragraph",children:n}),w.jsxs("button",{onClick:()=>a("/detail-page",{state:{id:s,title:e,thumbnail:i}}),className:"text-secondary font-semibold transition hover:text-secondary-hover hover:translate-x-1",children:["Đọc thêm ",w.jsx(ns,{className:"inline-block mb-0.5"})]})]})}Pv.propTypes={imageUrl:q.string.isRequired,title:q.string.isRequired,description:q.string.isRequired,href:q.string};function kv({children:i}){const s=Math.ceil(Ir.Children.count(i)/3),[a,u]=M.useState(0);return w.jsx("div",{className:"w-full pt-12 flex justify-center",children:w.jsxs("div",{className:"relative w-[1120px] h-[448px]",children:[w.jsx("button",{onClick:()=>u(h=>Math.max(h-1,0)),className:"absolute left-[-24px] top-1/2 transform -translate-y-1/2 w-11 h-11 rounded-full bg-primary-darken flex items-center justify-center hover:scale-105 hover:bg-primary-darken-2 z-10",children:w.jsx(bu,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>u(h=>Math.min(h+1,s-1)),className:"absolute right-[-24px] top-1/2 transform -translate-y-1/2 w-11 h-11 rounded-full bg-primary-darken flex items-center justify-center hover:scale-105 hover:bg-primary-darken-2 z-10",children:w.jsx(ns,{className:"w-5 h-5"})}),w.jsx("div",{className:"w-full h-full overflow-hidden",children:w.jsx("div",{className:"flex gap-x-8 transition-all duration-700",style:{transform:`translateX(-${a*3*384}px)`},children:i})}),w.jsx("div",{className:"absolute bottom-2 w-full flex justify-center",children:Array.from({length:s}).map((h,m)=>w.jsx(so,{onClick:()=>u(m),className:`w-2.5 h-2.5 mx-0.5 cursor-pointer transition-transform 
                ${a===m?"text-secondary scale-115":"text-primary-darken-2"}`},m))})]})})}kv.propTypes={children:q.node};function SS(){var h,m,g;const{setCurrentPage:i,heroSections:e,projectOverviews:n,eventOverviews:s,secondaryBackgroundColor:a}=M.useContext(ar),u={heading:"Hãy đồng hành cùng chúng mình",title1:"Đặt mua bánh chưng",title2:"Ủng hộ hiện kim",images:["https://picsum.photos/800/600","https://picsum.photos/800/600"]};return M.useEffect(()=>i("events"),[i]),console.log(e),w.jsxs("div",{className:"w-full",children:[w.jsx(Cv,{title:(h=e==null?void 0:e.events)==null?void 0:h.title,description:(m=e==null?void 0:e.events)==null?void 0:m.description,image:((g=e==null?void 0:e.events)==null?void 0:g.image)||""}),w.jsx(Iv,{pageData:e.donate||u,buttonColor:a}),w.jsx(Rv,{listData:n||{}}),w.jsx(Av,{title:"Các sự kiện sắp diễn ra",listData:s||{}})]})}const Nv=({id:i,title:e,description:n,image:s,buttonColor:a})=>{const u=Fn(),h=m=>{m.stopPropagation(),u("/detail-page",{state:{id:"story_hero",title:e,thumbnail:s}})};return w.jsx(Dr,{className:"w-full bg-cover bg-bottom flex justify-center items-end bg-blend-multiply hero_section relative",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url(${s||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`,height:"80vh"},children:w.jsxs("div",{className:"w-11/12 sm:w-3/4 lg:w-1/2 absolute bottom-10 left-5 sm:left-10",children:[w.jsx(ft,{className:"text-white text-3xl sm:text-4xl lg:text-5xl font-bold leading-snug drop-shadow-lg",value:e}),w.jsx(ft,{type:"textarea",className:"text-white text-sm sm:text-base leading-relaxed mb-6 bg-transparent outline-none resize-none drop-shadow-sm",value:n,rows:"4"}),w.jsx("button",{onClick:h,className:`text-white font-semibold px-4 sm:px-6 py-2 sm:py-2.5 rounded-full transition-all duration-200 shadow-md hover:opacity-80 hover:scale-[1.02] text-sm sm:text-base ml-8 bg-[${a}]`,style:{backgroundColor:a},children:"Đọc thêm"})]})})};Nv.propTypes={id:q.string,title:q.string,description:q.string,image:q.string,buttonColor:q.string.isRequired};const Dv=({title:i,listData:e})=>{const n=Fn();return w.jsxs("div",{children:[w.jsx("div",{className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center",children:i}),w.jsx("div",{className:"w-full pb-20",children:Object.entries(e).map(([s,a])=>{var u;return w.jsxs("div",{className:"w-full h-84 mt-12 flex",children:[w.jsx("div",{className:"w-1/2 h-full px-4",children:w.jsx("div",{className:"w-136 h-full bg-cover bg-center float-right rounded-lg",style:{backgroundImage:`url("${((u=a==null?void 0:a.thumbnail)==null?void 0:u.src)||""}")`}})}),w.jsxs("div",{className:"w-1/2 h-full px-4",children:[w.jsx("div",{className:"font-bold text-2xl text-primary-title",children:(a==null?void 0:a.title)||""}),w.jsx("p",{className:"w-136 text-base/5 py-6 text-primary-paragraph",children:(a==null?void 0:a.abstract)||""}),w.jsx("button",{onClick:()=>{var h;return n("/detail-page",{state:{id:s,title:a==null?void 0:a.title,thumbnail:(h=a==null?void 0:a.thumbnail)==null?void 0:h.src}})},className:"hover:scale-105 hover:bg-secondary-darken transition-all duration-200 py-2 px-5 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title",children:"Tìm hiểu thêm"})]})]},`event_${s}`)})})]})};Dv.propTypes={title:q.string.isRequired,listData:q.object.isRequired};function CS(){var a,u,h,m;const{setCurrentPage:i,heroSections:e,storyOverviews:n,secondaryBackgroundColor:s}=M.useContext(ar);return M.useEffect(()=>i("stories"),[i]),w.jsxs("div",{className:"w-full",children:[w.jsx(Nv,{title:(a=e==null?void 0:e.stories)==null?void 0:a.title,description:(u=e==null?void 0:e.stories)==null?void 0:u.description,image:((h=e==null?void 0:e.stories)==null?void 0:h.image)||"",id:(m=e==null?void 0:e.stories)==null?void 0:m.id,buttonColor:s}),w.jsx(Dv,{title:"Các câu chuyện ý nghĩa",listData:n||{}})]})}const IS=()=>{const i=Nr(),{id:e,title:n,thumbnail:s}=i.state||{},[a,u]=M.useState({title:n,author:"",date:"",content:"",gallery:[],thumbnail:null}),[h,m]=M.useState(s||null);return M.useEffect(()=>{(async()=>{if(e){const v=e.split("_")[0],x=v.charAt(0).toUpperCase()+v.slice(1),C=Xh(Zh,x,e);try{const R=await Jh(C);if(R.exists()){const U=R.data();console.log(U.title),u({title:U.title||n||"",author:U.author||"",date:U.date||"",content:U.content||"",gallery:U.gallery||[],thumbnail:U.thumbnail||null}),m(U.thumbnail||s||null)}}catch(R){console.error("Error fetching document:",R)}}})()},[e,n,s]),w.jsx("div",{className:"flex justify-center min-h-screen mt-20",children:w.jsxs("div",{className:"w-full max-w-4xl p-8 bg-white rounded-lg shadow-xl",children:[h&&w.jsx("div",{className:"mb-8",children:w.jsx("img",{src:h,alt:"Thumbnail",className:"w-full h-auto max-h-120 object-cover mx-auto rounded-lg shadow-lg"})}),w.jsx("h1",{className:"text-3xl font-bold mb-6",children:a.title}),w.jsxs("div",{className:"flex flex-row items-center mb-4",children:[w.jsx("span",{className:"font-medium text-gray-700 mr-2",children:"From:"}),w.jsx("span",{children:a.author})]}),w.jsxs("div",{className:"flex flex-row items-center mb-4",children:[w.jsx("span",{className:"font-medium text-gray-700 mr-2",children:"Date:"}),w.jsx("span",{children:a.date})]}),w.jsx("hr",{className:"w-full border-t-2 border-gray-500 my-3"}),w.jsx("div",{className:"whitespace-pre-line mb-8",children:a.content}),a.gallery.length>0&&w.jsxs("div",{className:"mb-8",children:[w.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gallery:"}),w.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:a.gallery.map((g,v)=>w.jsx("div",{className:"relative group",children:w.jsx("img",{src:g,alt:`Gallery image ${v+1}`,className:"w-full h-48 object-cover rounded-lg shadow-md"})},v))})]})]})})},RS=document.getElementById("root");$_.createRoot(RS).render(w.jsx(s0,{children:w.jsx(Lw,{children:w.jsxs(oi,{path:"/",element:w.jsx(rv,{}),children:[w.jsx(oi,{index:!0,element:w.jsx(ES,{})}),w.jsx(oi,{path:"about",element:w.jsx(TS,{})}),w.jsx(oi,{path:"detail-page",element:w.jsx(IS,{})}),w.jsx(oi,{path:"donate",element:w.jsx(Sv,{})}),w.jsx(oi,{path:"events",element:w.jsx(SS,{})}),w.jsx(oi,{path:"stories",element:w.jsx(CS,{})})]})})}));
